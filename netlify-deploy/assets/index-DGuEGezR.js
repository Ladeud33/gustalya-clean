(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var xg={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function C5(){if(A2)return ru;A2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:o}}return ru.Fragment=e,ru.jsx=n,ru.jsxs=n,ru}var S2;function N5(){return S2||(S2=1,xg.exports=C5()),xg.exports}var d=N5(),_g={exports:{}},iu={},wg={exports:{}},Tg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function j5(){return C2||(C2=1,(function(t){function e(R,M){var Y=R.length;R.push(M);e:for(;0<Y;){var ee=Y-1>>>1,se=R[ee];if(0<a(se,M))R[ee]=M,R[Y]=se,Y=ee;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var M=R[0],Y=R.pop();if(Y!==M){R[0]=Y;e:for(var ee=0,se=R.length,Q=se>>>1;ee<Q;){var W=2*(ee+1)-1,re=R[W],K=W+1,te=R[K];if(0>a(re,Y))K<se&&0>a(te,re)?(R[ee]=te,R[K]=Y,ee=K):(R[ee]=re,R[W]=Y,ee=W);else if(K<se&&0>a(te,Y))R[ee]=te,R[K]=Y,ee=K;else break e}}return M}function a(R,M){var Y=R.sortIndex-M.sortIndex;return Y!==0?Y:R.id-M.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],g=[],p=1,v=null,x=3,_=!1,C=!1,L=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(R){for(var M=n(g);M!==null;){if(M.callback===null)i(g);else if(M.startTime<=R)i(g),M.sortIndex=M.expirationTime,e(f,M);else break;M=n(g)}}function Z(R){if(L=!1,$(R),!C)if(n(f)!==null)C=!0,G||(G=!0,P());else{var M=n(g);M!==null&&F(Z,M.startTime-R)}}var G=!1,O=-1,w=5,E=-1;function D(){return I?!0:!(t.unstable_now()-E<w)}function V(){if(I=!1,G){var R=t.unstable_now();E=R;var M=!0;try{e:{C=!1,L&&(L=!1,U(O),O=-1),_=!0;var Y=x;try{t:{for($(R),v=n(f);v!==null&&!(v.expirationTime>R&&D());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,x=v.priorityLevel;var se=ee(v.expirationTime<=R);if(R=t.unstable_now(),typeof se=="function"){v.callback=se,$(R),M=!0;break t}v===n(f)&&i(f),$(R)}else i(f);v=n(f)}if(v!==null)M=!0;else{var Q=n(g);Q!==null&&F(Z,Q.startTime-R),M=!1}}break e}finally{v=null,x=Y,_=!1}M=void 0}}finally{M?P():G=!1}}}var P;if(typeof B=="function")P=function(){B(V)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,k=A.port2;A.port1.onmessage=V,P=function(){k.postMessage(null)}}else P=function(){N(V,0)};function F(R,M){O=N(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(R){switch(x){case 1:case 2:case 3:var M=3;break;default:M=x}var Y=x;x=M;try{return R()}finally{x=Y}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=x;x=R;try{return M()}finally{x=Y}},t.unstable_scheduleCallback=function(R,M,Y){var ee=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,R){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Y+se,R={id:p++,callback:M,priorityLevel:R,startTime:Y,expirationTime:se,sortIndex:-1},Y>ee?(R.sortIndex=Y,e(g,R),n(f)===null&&R===n(g)&&(L?(U(O),O=-1):L=!0,F(Z,Y-ee))):(R.sortIndex=se,e(f,R),C||_||(C=!0,G||(G=!0,P()))),R},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(R){var M=x;return function(){var Y=x;x=M;try{return R.apply(this,arguments)}finally{x=Y}}}})(Tg)),Tg}var N2;function R5(){return N2||(N2=1,wg.exports=j5()),wg.exports}var Eg={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function I5(){if(j2)return Ve;j2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function _(Q){return Q===null||typeof Q!="object"?null:(Q=x&&Q[x]||Q["@@iterator"],typeof Q=="function"?Q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,I={};function N(Q,W,re){this.props=Q,this.context=W,this.refs=I,this.updater=re||C}N.prototype.isReactComponent={},N.prototype.setState=function(Q,W){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,W,"setState")},N.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function U(){}U.prototype=N.prototype;function B(Q,W,re){this.props=Q,this.context=W,this.refs=I,this.updater=re||C}var $=B.prototype=new U;$.constructor=B,L($,N.prototype),$.isPureReactComponent=!0;var Z=Array.isArray;function G(){}var O={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function E(Q,W,re){var K=re.ref;return{$$typeof:t,type:Q,key:W,ref:K!==void 0?K:null,props:re}}function D(Q,W){return E(Q.type,W,Q.props)}function V(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function P(Q){var W={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(re){return W[re]})}var A=/\/+/g;function k(Q,W){return typeof Q=="object"&&Q!==null&&Q.key!=null?P(""+Q.key):W.toString(36)}function F(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(G,G):(Q.status="pending",Q.then(function(W){Q.status==="pending"&&(Q.status="fulfilled",Q.value=W)},function(W){Q.status==="pending"&&(Q.status="rejected",Q.reason=W)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function R(Q,W,re,K,te){var ge=typeof Q;(ge==="undefined"||ge==="boolean")&&(Q=null);var ve=!1;if(Q===null)ve=!0;else switch(ge){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(Q.$$typeof){case t:case e:ve=!0;break;case p:return ve=Q._init,R(ve(Q._payload),W,re,K,te)}}if(ve)return te=te(Q),ve=K===""?"."+k(Q,0):K,Z(te)?(re="",ve!=null&&(re=ve.replace(A,"$&/")+"/"),R(te,W,re,"",function(qe){return qe})):te!=null&&(V(te)&&(te=D(te,re+(te.key==null||Q&&Q.key===te.key?"":(""+te.key).replace(A,"$&/")+"/")+ve)),W.push(te)),1;ve=0;var Re=K===""?".":K+":";if(Z(Q))for(var Ce=0;Ce<Q.length;Ce++)K=Q[Ce],ge=Re+k(K,Ce),ve+=R(K,W,re,ge,te);else if(Ce=_(Q),typeof Ce=="function")for(Q=Ce.call(Q),Ce=0;!(K=Q.next()).done;)K=K.value,ge=Re+k(K,Ce++),ve+=R(K,W,re,ge,te);else if(ge==="object"){if(typeof Q.then=="function")return R(F(Q),W,re,K,te);throw W=String(Q),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ve}function M(Q,W,re){if(Q==null)return Q;var K=[],te=0;return R(Q,K,"","",function(ge){return W.call(re,ge,te++)}),K}function Y(Q){if(Q._status===-1){var W=Q._result;W=W(),W.then(function(re){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=re)},function(re){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=re)}),Q._status===-1&&(Q._status=0,Q._result=W)}if(Q._status===1)return Q._result.default;throw Q._result}var ee=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},se={map:M,forEach:function(Q,W,re){M(Q,function(){W.apply(this,arguments)},re)},count:function(Q){var W=0;return M(Q,function(){W++}),W},toArray:function(Q){return M(Q,function(W){return W})||[]},only:function(Q){if(!V(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return Ve.Activity=v,Ve.Children=se,Ve.Component=N,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=B,Ve.StrictMode=i,Ve.Suspense=f,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return O.H.useMemoCache(Q)}},Ve.cache=function(Q){return function(){return Q.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(Q,W,re){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var K=L({},Q.props),te=Q.key;if(W!=null)for(ge in W.key!==void 0&&(te=""+W.key),W)!w.call(W,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&W.ref===void 0||(K[ge]=W[ge]);var ge=arguments.length-2;if(ge===1)K.children=re;else if(1<ge){for(var ve=Array(ge),Re=0;Re<ge;Re++)ve[Re]=arguments[Re+2];K.children=ve}return E(Q.type,te,K)},Ve.createContext=function(Q){return Q={$$typeof:c,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},Ve.createElement=function(Q,W,re){var K,te={},ge=null;if(W!=null)for(K in W.key!==void 0&&(ge=""+W.key),W)w.call(W,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(te[K]=W[K]);var ve=arguments.length-2;if(ve===1)te.children=re;else if(1<ve){for(var Re=Array(ve),Ce=0;Ce<ve;Ce++)Re[Ce]=arguments[Ce+2];te.children=Re}if(Q&&Q.defaultProps)for(K in ve=Q.defaultProps,ve)te[K]===void 0&&(te[K]=ve[K]);return E(Q,ge,te)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(Q){return{$$typeof:h,render:Q}},Ve.isValidElement=V,Ve.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:Y}},Ve.memo=function(Q,W){return{$$typeof:g,type:Q,compare:W===void 0?null:W}},Ve.startTransition=function(Q){var W=O.T,re={};O.T=re;try{var K=Q(),te=O.S;te!==null&&te(re,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(G,ee)}catch(ge){ee(ge)}finally{W!==null&&re.types!==null&&(W.types=re.types),O.T=W}},Ve.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ve.use=function(Q){return O.H.use(Q)},Ve.useActionState=function(Q,W,re){return O.H.useActionState(Q,W,re)},Ve.useCallback=function(Q,W){return O.H.useCallback(Q,W)},Ve.useContext=function(Q){return O.H.useContext(Q)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(Q,W){return O.H.useDeferredValue(Q,W)},Ve.useEffect=function(Q,W){return O.H.useEffect(Q,W)},Ve.useEffectEvent=function(Q){return O.H.useEffectEvent(Q)},Ve.useId=function(){return O.H.useId()},Ve.useImperativeHandle=function(Q,W,re){return O.H.useImperativeHandle(Q,W,re)},Ve.useInsertionEffect=function(Q,W){return O.H.useInsertionEffect(Q,W)},Ve.useLayoutEffect=function(Q,W){return O.H.useLayoutEffect(Q,W)},Ve.useMemo=function(Q,W){return O.H.useMemo(Q,W)},Ve.useOptimistic=function(Q,W){return O.H.useOptimistic(Q,W)},Ve.useReducer=function(Q,W,re){return O.H.useReducer(Q,W,re)},Ve.useRef=function(Q){return O.H.useRef(Q)},Ve.useState=function(Q){return O.H.useState(Q)},Ve.useSyncExternalStore=function(Q,W,re){return O.H.useSyncExternalStore(Q,W,re)},Ve.useTransition=function(){return O.H.useTransition()},Ve.version="19.2.0",Ve}var R2;function wy(){return R2||(R2=1,Eg.exports=I5()),Eg.exports}var Ag={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function k5(){if(I2)return Vn;I2=1;var t=wy();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:g,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vn.createPortal=function(f,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(f,g,null,p)},Vn.flushSync=function(f){var g=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=p,i.d.f()}},Vn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Vn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Vn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):p==="script"&&i.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Vn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin);i.d.L(f,p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vn.preloadModule=function(f,g){if(typeof f=="string")if(g){var p=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Vn.requestFormReset=function(f){i.d.r(f)},Vn.unstable_batchedUpdates=function(f,g){return f(g)},Vn.useFormState=function(f,g,p){return c.H.useFormState(f,g,p)},Vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vn.version="19.2.0",Vn}var k2;function P5(){if(k2)return Ag.exports;k2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ag.exports=k5(),Ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function M5(){if(P2)return iu;P2=1;var t=R5(),e=wy(),n=P5();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,u=s;;){var y=l.return;if(y===null)break;var b=y.alternate;if(b===null){if(u=y.return,u!==null){l=u;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===l)return f(y),r;if(b===u)return f(y),s;b=b.sibling}throw Error(i(188))}if(l.return!==u.return)l=y,u=b;else{for(var S=!1,z=y.child;z;){if(z===l){S=!0,l=y,u=b;break}if(z===u){S=!0,u=y,l=b;break}z=z.sibling}if(!S){for(z=b.child;z;){if(z===l){S=!0,l=b,u=y;break}if(z===u){S=!0,u=b,l=y;break}z=z.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var A=Symbol.for("react.client.reference");function k(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===A?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case N:return"Profiler";case I:return"StrictMode";case Z:return"Suspense";case G:return"SuspenseList";case E:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case B:return r.displayName||"Context";case U:return(r._context.displayName||"Context")+".Consumer";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:k(r.type)||"Memo";case w:s=r._payload,r=r._init;try{return k(r(s))}catch{}}return null}var F=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},ee=[],se=-1;function Q(r){return{current:r}}function W(r){0>se||(r.current=ee[se],ee[se]=null,se--)}function re(r,s){se++,ee[se]=r.current,r.current=s}var K=Q(null),te=Q(null),ge=Q(null),ve=Q(null);function Re(r,s){switch(re(ge,s),re(te,r),re(K,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Kx(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Kx(s),r=Qx(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}W(K),re(K,r)}function Ce(){W(K),W(te),W(ge)}function qe(r){r.memoizedState!==null&&re(ve,r);var s=K.current,l=Qx(s,r.type);s!==l&&(re(te,r),re(K,l))}function tt(r){te.current===r&&(W(K),W(te)),ve.current===r&&(W(ve),Jc._currentValue=Y)}var it,Kn;function Ft(r){if(it===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);it=s&&s[1]||"",Kn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+r+Kn}var pt=!1;function jt(r,s){if(!r||pt)return"";pt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ue){var le=ue}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(ue){le=ue}r.call(fe.prototype)}}else{try{throw Error()}catch(ue){le=ue}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),S=b[0],z=b[1];if(S&&z){var X=S.split(`
`),oe=z.split(`
`);for(y=u=0;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;for(;y<oe.length&&!oe[y].includes("DetermineComponentFrameRoot");)y++;if(u===X.length||y===oe.length)for(u=X.length-1,y=oe.length-1;1<=u&&0<=y&&X[u]!==oe[y];)y--;for(;1<=u&&0<=y;u--,y--)if(X[u]!==oe[y]){if(u!==1||y!==1)do if(u--,y--,0>y||X[u]!==oe[y]){var de=`
`+X[u].replace(" at new "," at ");return r.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",r.displayName)),de}while(1<=u&&0<=y);break}}}finally{pt=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Ft(l):""}function lt(r,s){switch(r.tag){case 26:case 27:case 5:return Ft(r.type);case 16:return Ft("Lazy");case 13:return r.child!==s&&s!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return jt(r.type,!1);case 11:return jt(r.type.render,!1);case 1:return jt(r.type,!0);case 31:return Ft("Activity");default:return""}}function st(r){try{var s="",l=null;do s+=lt(r,l),l=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var He=Object.prototype.hasOwnProperty,Ze=t.unstable_scheduleCallback,ut=t.unstable_cancelCallback,_n=t.unstable_shouldYield,Et=t.unstable_requestPaint,ze=t.unstable_now,Bt=t.unstable_getCurrentPriorityLevel,Qn=t.unstable_ImmediatePriority,li=t.unstable_UserBlockingPriority,At=t.unstable_NormalPriority,Fr=t.unstable_LowPriority,Qt=t.unstable_IdlePriority,Mn=t.log,wn=t.unstable_setDisableYieldValue,qt=null,gt=null;function Yt(r){if(typeof Mn=="function"&&wn(r),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(qt,r)}catch{}}var St=Math.clz32?Math.clz32:Ca,Co=Math.log,ci=Math.LN2;function Ca(r){return r>>>=0,r===0?32:31-(Co(r)/ci|0)|0}var Dn=256,Oi=262144,dt=4194304;function cn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Tn(r,s,l){var u=r.pendingLanes;if(u===0)return 0;var y=0,b=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var z=u&134217727;return z!==0?(u=z&~b,u!==0?y=cn(u):(S&=z,S!==0?y=cn(S):l||(l=z&~r,l!==0&&(y=cn(l))))):(z=u&~b,z!==0?y=cn(z):S!==0?y=cn(S):l||(l=u&~r,l!==0&&(y=cn(l)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:y}function En(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function No(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(){var r=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),r}function fn(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Na(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Am(r,s,l,u,y,b){var S=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var z=r.entanglements,X=r.expirationTimes,oe=r.hiddenUpdates;for(l=S&~l;0<l;){var de=31-St(l),fe=1<<de;z[de]=0,X[de]=-1;var le=oe[de];if(le!==null)for(oe[de]=null,de=0;de<le.length;de++){var ue=le[de];ue!==null&&(ue.lane&=-536870913)}l&=~fe}u!==0&&ja(r,u,0),b!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=b&~(S&~s))}function ja(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-St(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function ic(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var u=31-St(l),y=1<<u;y&s|r[u]&s&&(r[u]|=s),l&=~y}}function sc(r,s){var l=s&-s;return l=(l&42)!==0?1:Ra(l),(l&(r.suspendedLanes|s))!==0?0:l}function Ra(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Li(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function gd(){var r=M.p;return r!==0?r:(r=window.event,r===void 0?32:v2(r.type))}function Br(r,s){var l=M.p;try{return M.p=r,s()}finally{M.p=l}}var qr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+qr,mn="__reactProps$"+qr,ui="__reactContainer$"+qr,jo="__reactEvents$"+qr,Sm="__reactListeners$"+qr,yd="__reactHandles$"+qr,vd="__reactResources$"+qr,di="__reactMarker$"+qr;function Ro(r){delete r[Xt],delete r[mn],delete r[jo],delete r[Sm],delete r[yd]}function hi(r){var s=r[Xt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ui]||l[Xt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=n2(r);r!==null;){if(l=r[Xt])return l;r=n2(r)}return s}r=l,l=r.parentNode}return null}function _r(r){if(r=r[Xt]||r[ui]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function or(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function fi(r){var s=r[vd];return s||(s=r[vd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Zt(r){r[di]=!0}var ac=new Set,oc={};function mi(r,s){pi(r,s),pi(r+"Capture",s)}function pi(r,s){for(oc[r]=s,r=0;r<s.length;r++)ac.add(s[r])}var lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},uc={};function bd(r){return He.call(uc,r)?!0:He.call(cc,r)?!1:lc.test(r)?uc[r]=!0:(cc[r]=!0,!1)}function Io(r,s,l){if(bd(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function lr(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function Jt(r,s,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+u)}}function pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ws(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function dc(r,s,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(S){l=""+S,b.call(this,S)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ht(r){if(!r._valueTracker){var s=ws(r)?"checked":"value";r._valueTracker=dc(r,s,""+r[s])}}function Ia(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return r&&(u=ws(r)?r.checked?"true":"false":r.value),r=u,r!==l?(s.setValue(r),!0):!1}function gi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ka=/[\n"\\]/g;function Yn(r){return r.replace(ka,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ko(r,s,l,u,y,b,S,z){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pn(s)):r.value!==""+pn(s)&&(r.value=""+pn(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?hc(r,S,pn(s)):l!=null?hc(r,S,pn(l)):u!=null&&r.removeAttribute("value"),y==null&&b!=null&&(r.defaultChecked=!!b),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?r.name=""+pn(z):r.removeAttribute("name")}function xd(r,s,l,u,y,b,S,z){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){ht(r);return}l=l!=null?""+pn(l):"",s=s!=null?""+pn(s):l,z||s===r.value||(r.value=s),r.defaultValue=s}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=z?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S),ht(r)}function hc(r,s,l){s==="number"&&gi(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ts(r,s,l,u){if(r=r.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=s.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&u&&(r[l].defaultSelected=!0)}else{for(l=""+pn(l),s=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,u&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function _d(r,s,l){if(s!=null&&(s=""+pn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+pn(l):""}function Es(r,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(F(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=pn(s),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),ht(r)}function Xn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var wd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(r,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,l):typeof l!="number"||l===0||wd.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function mc(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var y in s)u=s[y],s.hasOwnProperty(y)&&l[y]!==u&&fc(r,y,u)}else for(var b in s)s.hasOwnProperty(b)&&fc(r,b,s[b])}function Po(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(r){return As.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Hr(){}var pc=null;function wr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ss=null,yi=null;function Pa(r){var s=_r(r);if(s&&(r=s.stateNode)){var l=r[mn]||null;e:switch(r=s.stateNode,s.type){case"input":if(ko(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Yn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==r&&u.form===r.form){var y=u[mn]||null;if(!y)throw Error(i(90));ko(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===r.form&&Ia(u)}break e;case"textarea":_d(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ts(r,!!l.multiple,s,!1)}}}var Do=!1;function Cs(r,s,l){if(Do)return r(s,l);Do=!0;try{var u=r(s);return u}finally{if(Do=!1,(Ss!==null||yi!==null)&&(gh(),Ss&&(s=Ss,r=yi,yi=Ss=null,Pa(s),r)))for(s=0;s<r.length;s++)Pa(r[s])}}function Gr(r,s){var l=r.stateNode;if(l===null)return null;var u=l[mn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=!1;if(Tr)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{Ma=!1}var vi=null,gc=null,Da=null;function yc(){if(Da)return Da;var r,s=gc,l=s.length,u,y="value"in vi?vi.value:vi.textContent,b=y.length;for(r=0;r<l&&s[r]===y[r];r++);var S=l-r;for(u=1;u<=S&&s[l-u]===y[b-u];u++);return Da=y.slice(r,1<u?1-u:void 0)}function Va(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ui(){return!0}function $r(){return!1}function An(r){function s(l,u,y,b,S){this._reactName=l,this._targetInst=y,this.type=u,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(l=r[z],this[z]=l?l(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ui:$r,this.isPropagationStopped=$r,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),s}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=An(zi),Ns=v({},zi,{view:0,detail:0}),vc=An(Ns),js,Vo,xi,Oo=v({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xi&&(xi&&r.type==="mousemove"?(js=r.screenX-xi.screenX,Vo=r.screenY-xi.screenY):Vo=js=0,xi=r),js)},movementY:function(r){return"movementY"in r?r.movementY:Vo}}),bc=An(Oo),Oa=v({},Oo,{dataTransfer:0}),Ed=An(Oa),Ad=v({},Ns,{relatedTarget:0}),La=An(Ad),xc=v({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Sd=An(xc),Lo=v({},zi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Cd=An(Lo),Nd=v({},zi,{data:0}),_i=An(Nd),jd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Id={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kd(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Id[r])?!!s[r]:!1}function Rs(){return kd}var qn=v({},Ns,{key:function(r){if(r.key){var s=jd[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Va(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(r){return r.type==="keypress"?Va(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Va(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Pd=An(qn),Md=v({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=An(Md),m=v({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),T=An(m),j=v({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=An(j),ie=v({},Oo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ce=An(ie),ye=v({},zi,{newState:0,oldState:0}),Le=An(ye),Ht=[9,13,27,32],at=Tr&&"CompositionEvent"in window,Rt=null;Tr&&"documentMode"in document&&(Rt=document.documentMode);var Er=Tr&&"TextEvent"in window&&!Rt,wi=Tr&&(!at||Rt&&8<Rt&&11>=Rt),Wr=" ",Kr=!1;function Ua(r,s){switch(r){case"keyup":return Ht.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var zo=!1;function X4(r,s){switch(r){case"compositionend":return Uo(s);case"keypress":return s.which!==32?null:(Kr=!0,Wr);case"textInput":return r=s.data,r===Wr&&Kr?null:r;default:return null}}function Z4(r,s){if(zo)return r==="compositionend"||!at&&Ua(r,s)?(r=yc(),Da=gc=vi=null,zo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wi&&s.locale!=="ko"?null:s.data;default:return null}}var J4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!J4[r.type]:s==="textarea"}function av(r,s,l,u){Ss?yi?yi.push(u):yi=[u]:Ss=u,s=Th(s,"onChange"),0<s.length&&(l=new bi("onChange","change",null,l,u),r.push({event:l,listeners:s}))}var _c=null,wc=null;function eN(r){Bx(r,0)}function Dd(r){var s=or(r);if(Ia(s))return r}function ov(r,s){if(r==="change")return s}var lv=!1;if(Tr){var Cm;if(Tr){var Nm="oninput"in document;if(!Nm){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),Nm=typeof cv.oninput=="function"}Cm=Nm}else Cm=!1;lv=Cm&&(!document.documentMode||9<document.documentMode)}function uv(){_c&&(_c.detachEvent("onpropertychange",dv),wc=_c=null)}function dv(r){if(r.propertyName==="value"&&Dd(wc)){var s=[];av(s,wc,r,wr(r)),Cs(eN,s)}}function tN(r,s,l){r==="focusin"?(uv(),_c=s,wc=l,_c.attachEvent("onpropertychange",dv)):r==="focusout"&&uv()}function nN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Dd(wc)}function rN(r,s){if(r==="click")return Dd(s)}function iN(r,s){if(r==="input"||r==="change")return Dd(s)}function sN(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var cr=typeof Object.is=="function"?Object.is:sN;function Tc(r,s){if(cr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var y=l[u];if(!He.call(s,y)||!cr(r[y],s[y]))return!1}return!0}function hv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fv(r,s){var l=hv(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=s&&u>=s)return{node:l,offset:s-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=hv(l)}}function mv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?mv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function pv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=gi(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=gi(r.document)}return s}function jm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var aN=Tr&&"documentMode"in document&&11>=document.documentMode,Fo=null,Rm=null,Ec=null,Im=!1;function gv(r,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Im||Fo==null||Fo!==gi(u)||(u=Fo,"selectionStart"in u&&jm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ec&&Tc(Ec,u)||(Ec=u,u=Th(Rm,"onSelect"),0<u.length&&(s=new bi("onSelect","select",null,s,l),r.push({event:s,listeners:u}),s.target=Fo)))}function za(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Bo={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},km={},yv={};Tr&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Fa(r){if(km[r])return km[r];if(!Bo[r])return r;var s=Bo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in yv)return km[r]=s[l];return r}var vv=Fa("animationend"),bv=Fa("animationiteration"),xv=Fa("animationstart"),oN=Fa("transitionrun"),lN=Fa("transitionstart"),cN=Fa("transitioncancel"),_v=Fa("transitionend"),wv=new Map,Pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pm.push("scrollEnd");function Qr(r,s){wv.set(r,s),mi(s,[r])}var Vd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ar=[],qo=0,Mm=0;function Od(){for(var r=qo,s=Mm=qo=0;s<r;){var l=Ar[s];Ar[s++]=null;var u=Ar[s];Ar[s++]=null;var y=Ar[s];Ar[s++]=null;var b=Ar[s];if(Ar[s++]=null,u!==null&&y!==null){var S=u.pending;S===null?y.next=y:(y.next=S.next,S.next=y),u.pending=y}b!==0&&Tv(l,y,b)}}function Ld(r,s,l,u){Ar[qo++]=r,Ar[qo++]=s,Ar[qo++]=l,Ar[qo++]=u,Mm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Dm(r,s,l,u){return Ld(r,s,l,u),Ud(r)}function Ba(r,s){return Ld(r,null,null,s),Ud(r)}function Tv(r,s,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var y=!1,b=r.return;b!==null;)b.childLanes|=l,u=b.alternate,u!==null&&(u.childLanes|=l),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(y=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,y&&s!==null&&(y=31-St(l),r=b.hiddenUpdates,u=r[y],u===null?r[y]=[s]:u.push(s),s.lane=l|536870912),b):null}function Ud(r){if(50<$c)throw $c=0,Hp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ho={};function uN(r,s,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(r,s,l,u){return new uN(r,s,l,u)}function Vm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Bi(r,s){var l=r.alternate;return l===null?(l=ur(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ev(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function zd(r,s,l,u,y,b){var S=0;if(u=r,typeof r=="function")Vm(r)&&(S=1);else if(typeof r=="string")S=p5(r,l,K.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case E:return r=ur(31,l,s,y),r.elementType=E,r.lanes=b,r;case L:return qa(l.children,y,b,s);case I:S=8,y|=24;break;case N:return r=ur(12,l,s,y|2),r.elementType=N,r.lanes=b,r;case Z:return r=ur(13,l,s,y),r.elementType=Z,r.lanes=b,r;case G:return r=ur(19,l,s,y),r.elementType=G,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:S=10;break e;case U:S=9;break e;case $:S=11;break e;case O:S=14;break e;case w:S=16,u=null;break e}S=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=ur(S,l,s,y),s.elementType=r,s.type=u,s.lanes=b,s}function qa(r,s,l,u){return r=ur(7,r,u,s),r.lanes=l,r}function Om(r,s,l){return r=ur(6,r,null,s),r.lanes=l,r}function Av(r){var s=ur(18,null,null,0);return s.stateNode=r,s}function Lm(r,s,l){return s=ur(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Sv=new WeakMap;function Sr(r,s){if(typeof r=="object"&&r!==null){var l=Sv.get(r);return l!==void 0?l:(s={value:r,source:s,stack:st(s)},Sv.set(r,s),s)}return{value:r,source:s,stack:st(s)}}var Go=[],$o=0,Fd=null,Ac=0,Cr=[],Nr=0,Is=null,Ti=1,Ei="";function qi(r,s){Go[$o++]=Ac,Go[$o++]=Fd,Fd=r,Ac=s}function Cv(r,s,l){Cr[Nr++]=Ti,Cr[Nr++]=Ei,Cr[Nr++]=Is,Is=r;var u=Ti;r=Ei;var y=32-St(u)-1;u&=~(1<<y),l+=1;var b=32-St(s)+y;if(30<b){var S=y-y%5;b=(u&(1<<S)-1).toString(32),u>>=S,y-=S,Ti=1<<32-St(s)+y|l<<y|u,Ei=b+r}else Ti=1<<b|l<<y|u,Ei=r}function Um(r){r.return!==null&&(qi(r,1),Cv(r,1,0))}function zm(r){for(;r===Fd;)Fd=Go[--$o],Go[$o]=null,Ac=Go[--$o],Go[$o]=null;for(;r===Is;)Is=Cr[--Nr],Cr[Nr]=null,Ei=Cr[--Nr],Cr[Nr]=null,Ti=Cr[--Nr],Cr[Nr]=null}function Nv(r,s){Cr[Nr++]=Ti,Cr[Nr++]=Ei,Cr[Nr++]=Is,Ti=s.id,Ei=s.overflow,Is=r}var Sn=null,Ct=null,Je=!1,ks=null,jr=!1,Fm=Error(i(519));function Ps(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sc(Sr(s,r)),Fm}function jv(r){var s=r.stateNode,l=r.type,u=r.memoizedProps;switch(s[Xt]=r,s[mn]=u,l){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(l=0;l<Kc.length;l++)$e(Kc[l],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),xd(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),Es(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||$x(s.textContent,l)?(u.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),u.onScroll!=null&&$e("scroll",s),u.onScrollEnd!=null&&$e("scrollend",s),u.onClick!=null&&(s.onclick=Hr),s=!0):s=!1,s||Ps(r,!0)}function Rv(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:Sn=Sn.return}}function Wo(r){if(r!==Sn)return!1;if(!Je)return Rv(r),Je=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||sg(r.type,r.memoizedProps)),l=!l),l&&Ct&&Ps(r),Rv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ct=t2(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ct=t2(r)}else s===27?(s=Ct,Ws(r.type)?(r=ug,ug=null,Ct=r):Ct=s):Ct=Sn?Ir(r.stateNode.nextSibling):null;return!0}function Ha(){Ct=Sn=null,Je=!1}function Bm(){var r=ks;return r!==null&&(tr===null?tr=r:tr.push.apply(tr,r),ks=null),r}function Sc(r){ks===null?ks=[r]:ks.push(r)}var qm=Q(null),Ga=null,Hi=null;function Ms(r,s,l){re(qm,s._currentValue),s._currentValue=l}function Gi(r){r._currentValue=qm.current,W(qm)}function Hm(r,s,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===l)break;r=r.return}}function Gm(r,s,l,u){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var b=y.dependencies;if(b!==null){var S=y.child;b=b.firstContext;e:for(;b!==null;){var z=b;b=y;for(var X=0;X<s.length;X++)if(z.context===s[X]){b.lanes|=l,z=b.alternate,z!==null&&(z.lanes|=l),Hm(b.return,l,r),u||(S=null);break e}b=z.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(i(341));S.lanes|=l,b=S.alternate,b!==null&&(b.lanes|=l),Hm(S,l,r),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===r){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function Ko(r,s,l,u){r=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var z=y.type;cr(y.pendingProps.value,S.value)||(r!==null?r.push(z):r=[z])}}else if(y===ve.current){if(S=y.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Jc):r=[Jc])}y=y.return}r!==null&&Gm(s,r,l,u),s.flags|=262144}function Bd(r){for(r=r.firstContext;r!==null;){if(!cr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function $a(r){Ga=r,Hi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cn(r){return Iv(Ga,r)}function qd(r,s){return Ga===null&&$a(r),Iv(r,s)}function Iv(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Hi===null){if(r===null)throw Error(i(308));Hi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Hi=Hi.next=s;return l}var dN=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},hN=t.unstable_scheduleCallback,fN=t.unstable_NormalPriority,en={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $m(){return{controller:new dN,data:new Map,refCount:0}}function Cc(r){r.refCount--,r.refCount===0&&hN(fN,function(){r.controller.abort()})}var Nc=null,Wm=0,Qo=0,Yo=null;function mN(r,s){if(Nc===null){var l=Nc=[];Wm=0,Qo=Yp(),Yo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Wm++,s.then(kv,kv),s}function kv(){if(--Wm===0&&Nc!==null){Yo!==null&&(Yo.status="fulfilled");var r=Nc;Nc=null,Qo=0,Yo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function pN(r,s){var l=[],u={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(u.status="rejected",u.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),u}var Pv=R.S;R.S=function(r,s){gx=ze(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mN(r,s),Pv!==null&&Pv(r,s)};var Wa=Q(null);function Km(){var r=Wa.current;return r!==null?r:_t.pooledCache}function Hd(r,s){s===null?re(Wa,Wa.current):re(Wa,s.pool)}function Mv(){var r=Km();return r===null?null:{parent:en._currentValue,pool:r}}var Xo=Error(i(460)),Qm=Error(i(474)),Gd=Error(i(542)),$d={then:function(){}};function Dv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Vv(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Hr,Hr),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Lv(r),r;default:if(typeof s.status=="string")s.then(Hr,Hr);else{if(r=_t,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=u}},function(u){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Lv(r),r}throw Qa=s,Xo}}function Ka(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Qa=l,Xo):l}}var Qa=null;function Ov(){if(Qa===null)throw Error(i(459));var r=Qa;return Qa=null,r}function Lv(r){if(r===Xo||r===Gd)throw Error(i(483))}var Zo=null,jc=0;function Wd(r){var s=jc;return jc+=1,Zo===null&&(Zo=[]),Vv(Zo,r,s)}function Rc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Kd(r,s){throw s.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Uv(r){function s(ne,J){if(r){var ae=ne.deletions;ae===null?(ne.deletions=[J],ne.flags|=16):ae.push(J)}}function l(ne,J){if(!r)return null;for(;J!==null;)s(ne,J),J=J.sibling;return null}function u(ne){for(var J=new Map;ne!==null;)ne.key!==null?J.set(ne.key,ne):J.set(ne.index,ne),ne=ne.sibling;return J}function y(ne,J){return ne=Bi(ne,J),ne.index=0,ne.sibling=null,ne}function b(ne,J,ae){return ne.index=ae,r?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<J?(ne.flags|=67108866,J):ae):(ne.flags|=67108866,J)):(ne.flags|=1048576,J)}function S(ne){return r&&ne.alternate===null&&(ne.flags|=67108866),ne}function z(ne,J,ae,he){return J===null||J.tag!==6?(J=Om(ae,ne.mode,he),J.return=ne,J):(J=y(J,ae),J.return=ne,J)}function X(ne,J,ae,he){var je=ae.type;return je===L?de(ne,J,ae.props.children,he,ae.key):J!==null&&(J.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===w&&Ka(je)===J.type)?(J=y(J,ae.props),Rc(J,ae),J.return=ne,J):(J=zd(ae.type,ae.key,ae.props,null,ne.mode,he),Rc(J,ae),J.return=ne,J)}function oe(ne,J,ae,he){return J===null||J.tag!==4||J.stateNode.containerInfo!==ae.containerInfo||J.stateNode.implementation!==ae.implementation?(J=Lm(ae,ne.mode,he),J.return=ne,J):(J=y(J,ae.children||[]),J.return=ne,J)}function de(ne,J,ae,he,je){return J===null||J.tag!==7?(J=qa(ae,ne.mode,he,je),J.return=ne,J):(J=y(J,ae),J.return=ne,J)}function fe(ne,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Om(""+J,ne.mode,ae),J.return=ne,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return ae=zd(J.type,J.key,J.props,null,ne.mode,ae),Rc(ae,J),ae.return=ne,ae;case C:return J=Lm(J,ne.mode,ae),J.return=ne,J;case w:return J=Ka(J),fe(ne,J,ae)}if(F(J)||P(J))return J=qa(J,ne.mode,ae,null),J.return=ne,J;if(typeof J.then=="function")return fe(ne,Wd(J),ae);if(J.$$typeof===B)return fe(ne,qd(ne,J),ae);Kd(ne,J)}return null}function le(ne,J,ae,he){var je=J!==null?J.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return je!==null?null:z(ne,J,""+ae,he);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return ae.key===je?X(ne,J,ae,he):null;case C:return ae.key===je?oe(ne,J,ae,he):null;case w:return ae=Ka(ae),le(ne,J,ae,he)}if(F(ae)||P(ae))return je!==null?null:de(ne,J,ae,he,null);if(typeof ae.then=="function")return le(ne,J,Wd(ae),he);if(ae.$$typeof===B)return le(ne,J,qd(ne,ae),he);Kd(ne,ae)}return null}function ue(ne,J,ae,he,je){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return ne=ne.get(ae)||null,z(J,ne,""+he,je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return ne=ne.get(he.key===null?ae:he.key)||null,X(J,ne,he,je);case C:return ne=ne.get(he.key===null?ae:he.key)||null,oe(J,ne,he,je);case w:return he=Ka(he),ue(ne,J,ae,he,je)}if(F(he)||P(he))return ne=ne.get(ae)||null,de(J,ne,he,je,null);if(typeof he.then=="function")return ue(ne,J,ae,Wd(he),je);if(he.$$typeof===B)return ue(ne,J,ae,qd(J,he),je);Kd(J,he)}return null}function we(ne,J,ae,he){for(var je=null,nt=null,Se=J,Fe=J=0,Ke=null;Se!==null&&Fe<ae.length;Fe++){Se.index>Fe?(Ke=Se,Se=null):Ke=Se.sibling;var rt=le(ne,Se,ae[Fe],he);if(rt===null){Se===null&&(Se=Ke);break}r&&Se&&rt.alternate===null&&s(ne,Se),J=b(rt,J,Fe),nt===null?je=rt:nt.sibling=rt,nt=rt,Se=Ke}if(Fe===ae.length)return l(ne,Se),Je&&qi(ne,Fe),je;if(Se===null){for(;Fe<ae.length;Fe++)Se=fe(ne,ae[Fe],he),Se!==null&&(J=b(Se,J,Fe),nt===null?je=Se:nt.sibling=Se,nt=Se);return Je&&qi(ne,Fe),je}for(Se=u(Se);Fe<ae.length;Fe++)Ke=ue(Se,ne,Fe,ae[Fe],he),Ke!==null&&(r&&Ke.alternate!==null&&Se.delete(Ke.key===null?Fe:Ke.key),J=b(Ke,J,Fe),nt===null?je=Ke:nt.sibling=Ke,nt=Ke);return r&&Se.forEach(function(Zs){return s(ne,Zs)}),Je&&qi(ne,Fe),je}function Ie(ne,J,ae,he){if(ae==null)throw Error(i(151));for(var je=null,nt=null,Se=J,Fe=J=0,Ke=null,rt=ae.next();Se!==null&&!rt.done;Fe++,rt=ae.next()){Se.index>Fe?(Ke=Se,Se=null):Ke=Se.sibling;var Zs=le(ne,Se,rt.value,he);if(Zs===null){Se===null&&(Se=Ke);break}r&&Se&&Zs.alternate===null&&s(ne,Se),J=b(Zs,J,Fe),nt===null?je=Zs:nt.sibling=Zs,nt=Zs,Se=Ke}if(rt.done)return l(ne,Se),Je&&qi(ne,Fe),je;if(Se===null){for(;!rt.done;Fe++,rt=ae.next())rt=fe(ne,rt.value,he),rt!==null&&(J=b(rt,J,Fe),nt===null?je=rt:nt.sibling=rt,nt=rt);return Je&&qi(ne,Fe),je}for(Se=u(Se);!rt.done;Fe++,rt=ae.next())rt=ue(Se,ne,Fe,rt.value,he),rt!==null&&(r&&rt.alternate!==null&&Se.delete(rt.key===null?Fe:rt.key),J=b(rt,J,Fe),nt===null?je=rt:nt.sibling=rt,nt=rt);return r&&Se.forEach(function(S5){return s(ne,S5)}),Je&&qi(ne,Fe),je}function xt(ne,J,ae,he){if(typeof ae=="object"&&ae!==null&&ae.type===L&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:e:{for(var je=ae.key;J!==null;){if(J.key===je){if(je=ae.type,je===L){if(J.tag===7){l(ne,J.sibling),he=y(J,ae.props.children),he.return=ne,ne=he;break e}}else if(J.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===w&&Ka(je)===J.type){l(ne,J.sibling),he=y(J,ae.props),Rc(he,ae),he.return=ne,ne=he;break e}l(ne,J);break}else s(ne,J);J=J.sibling}ae.type===L?(he=qa(ae.props.children,ne.mode,he,ae.key),he.return=ne,ne=he):(he=zd(ae.type,ae.key,ae.props,null,ne.mode,he),Rc(he,ae),he.return=ne,ne=he)}return S(ne);case C:e:{for(je=ae.key;J!==null;){if(J.key===je)if(J.tag===4&&J.stateNode.containerInfo===ae.containerInfo&&J.stateNode.implementation===ae.implementation){l(ne,J.sibling),he=y(J,ae.children||[]),he.return=ne,ne=he;break e}else{l(ne,J);break}else s(ne,J);J=J.sibling}he=Lm(ae,ne.mode,he),he.return=ne,ne=he}return S(ne);case w:return ae=Ka(ae),xt(ne,J,ae,he)}if(F(ae))return we(ne,J,ae,he);if(P(ae)){if(je=P(ae),typeof je!="function")throw Error(i(150));return ae=je.call(ae),Ie(ne,J,ae,he)}if(typeof ae.then=="function")return xt(ne,J,Wd(ae),he);if(ae.$$typeof===B)return xt(ne,J,qd(ne,ae),he);Kd(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,J!==null&&J.tag===6?(l(ne,J.sibling),he=y(J,ae),he.return=ne,ne=he):(l(ne,J),he=Om(ae,ne.mode,he),he.return=ne,ne=he),S(ne)):l(ne,J)}return function(ne,J,ae,he){try{jc=0;var je=xt(ne,J,ae,he);return Zo=null,je}catch(Se){if(Se===Xo||Se===Gd)throw Se;var nt=ur(29,Se,null,ne.mode);return nt.lanes=he,nt.return=ne,nt}finally{}}}var Ya=Uv(!0),zv=Uv(!1),Ds=!1;function Ym(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Os(r,s,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ot&2)!==0){var y=u.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),u.pending=s,s=Ud(r),Tv(r,null,l),s}return Ld(r,u,s,l),Ud(r)}function Ic(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,ic(r,l)}}function Zm(r,s){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var y=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?y=b=S:b=b.next=S,l=l.next}while(l!==null);b===null?y=b=s:b=b.next=s}else y=b=s;l={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Jm=!1;function kc(){if(Jm){var r=Yo;if(r!==null)throw r}}function Pc(r,s,l,u){Jm=!1;var y=r.updateQueue;Ds=!1;var b=y.firstBaseUpdate,S=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var X=z,oe=X.next;X.next=null,S===null?b=oe:S.next=oe,S=X;var de=r.alternate;de!==null&&(de=de.updateQueue,z=de.lastBaseUpdate,z!==S&&(z===null?de.firstBaseUpdate=oe:z.next=oe,de.lastBaseUpdate=X))}if(b!==null){var fe=y.baseState;S=0,de=oe=X=null,z=b;do{var le=z.lane&-536870913,ue=le!==z.lane;if(ue?(We&le)===le:(u&le)===le){le!==0&&le===Qo&&(Jm=!0),de!==null&&(de=de.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var we=r,Ie=z;le=s;var xt=l;switch(Ie.tag){case 1:if(we=Ie.payload,typeof we=="function"){fe=we.call(xt,fe,le);break e}fe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ie.payload,le=typeof we=="function"?we.call(xt,fe,le):we,le==null)break e;fe=v({},fe,le);break e;case 2:Ds=!0}}le=z.callback,le!==null&&(r.flags|=64,ue&&(r.flags|=8192),ue=y.callbacks,ue===null?y.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:z.tag,payload:z.payload,callback:z.callback,next:null},de===null?(oe=de=ue,X=fe):de=de.next=ue,S|=le;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ue=z,z=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);de===null&&(X=fe),y.baseState=X,y.firstBaseUpdate=oe,y.lastBaseUpdate=de,b===null&&(y.shared.lanes=0),Bs|=S,r.lanes=S,r.memoizedState=fe}}function Fv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Bv(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Fv(l[r],s)}var Jo=Q(null),Qd=Q(0);function qv(r,s){r=es,re(Qd,r),re(Jo,s),es=r|s.baseLanes}function ep(){re(Qd,es),re(Jo,Jo.current)}function tp(){es=Qd.current,W(Jo),W(Qd)}var dr=Q(null),Rr=null;function Ls(r){var s=r.alternate;re(Gt,Gt.current&1),re(dr,r),Rr===null&&(s===null||Jo.current!==null||s.memoizedState!==null)&&(Rr=r)}function np(r){re(Gt,Gt.current),re(dr,r),Rr===null&&(Rr=r)}function Hv(r){r.tag===22?(re(Gt,Gt.current),re(dr,r),Rr===null&&(Rr=r)):Us()}function Us(){re(Gt,Gt.current),re(dr,dr.current)}function hr(r){W(dr),Rr===r&&(Rr=null),W(Gt)}var Gt=Q(0);function Yd(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||lg(l)||cg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $i=0,Ue=null,vt=null,tn=null,Xd=!1,el=!1,Xa=!1,Zd=0,Mc=0,tl=null,gN=0;function Ot(){throw Error(i(321))}function rp(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!cr(r[l],s[l]))return!1;return!0}function ip(r,s,l,u,y,b){return $i=b,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=r===null||r.memoizedState===null?Cb:bp,Xa=!1,b=l(u,y),Xa=!1,el&&(b=$v(s,l,u,y)),Gv(r),b}function Gv(r){R.H=Oc;var s=vt!==null&&vt.next!==null;if($i=0,tn=vt=Ue=null,Xd=!1,Mc=0,tl=null,s)throw Error(i(300));r===null||nn||(r=r.dependencies,r!==null&&Bd(r)&&(nn=!0))}function $v(r,s,l,u){Ue=r;var y=0;do{if(el&&(tl=null),Mc=0,el=!1,25<=y)throw Error(i(301));if(y+=1,tn=vt=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=Nb,b=s(l,u)}while(el);return b}function yN(){var r=R.H,s=r.useState()[0];return s=typeof s.then=="function"?Dc(s):s,r=r.useState()[0],(vt!==null?vt.memoizedState:null)!==r&&(Ue.flags|=1024),s}function sp(){var r=Zd!==0;return Zd=0,r}function ap(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function op(r){if(Xd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xd=!1}$i=0,tn=vt=Ue=null,el=!1,Mc=Zd=0,tl=null}function Hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ue.memoizedState=tn=r:tn=tn.next=r,tn}function $t(){if(vt===null){var r=Ue.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=tn===null?Ue.memoizedState:tn.next;if(s!==null)tn=s,vt=r;else{if(r===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},tn===null?Ue.memoizedState=tn=r:tn=tn.next=r}return tn}function Jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(r){var s=Mc;return Mc+=1,tl===null&&(tl=[]),r=Vv(tl,r,s),s=Ue,(tn===null?s.memoizedState:tn.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Cb:bp),r}function eh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Dc(r);if(r.$$typeof===B)return Cn(r)}throw Error(i(438,String(r)))}function lp(r){var s=null,l=Ue.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Jd(),Ue.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),u=0;u<r;u++)l[u]=D;return s.index++,l}function Wi(r,s){return typeof s=="function"?s(r):s}function th(r){var s=$t();return cp(s,vt,r)}function cp(r,s,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var y=r.baseQueue,b=u.pending;if(b!==null){if(y!==null){var S=y.next;y.next=b.next,b.next=S}s.baseQueue=y=b,u.pending=null}if(b=r.baseState,y===null)r.memoizedState=b;else{s=y.next;var z=S=null,X=null,oe=s,de=!1;do{var fe=oe.lane&-536870913;if(fe!==oe.lane?(We&fe)===fe:($i&fe)===fe){var le=oe.revertLane;if(le===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),fe===Qo&&(de=!0);else if(($i&le)===le){oe=oe.next,le===Qo&&(de=!0);continue}else fe={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},X===null?(z=X=fe,S=b):X=X.next=fe,Ue.lanes|=le,Bs|=le;fe=oe.action,Xa&&l(b,fe),b=oe.hasEagerState?oe.eagerState:l(b,fe)}else le={lane:fe,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},X===null?(z=X=le,S=b):X=X.next=le,Ue.lanes|=fe,Bs|=fe;oe=oe.next}while(oe!==null&&oe!==s);if(X===null?S=b:X.next=z,!cr(b,r.memoizedState)&&(nn=!0,de&&(l=Yo,l!==null)))throw l;r.memoizedState=b,r.baseState=S,r.baseQueue=X,u.lastRenderedState=b}return y===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function up(r){var s=$t(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,y=l.pending,b=s.memoizedState;if(y!==null){l.pending=null;var S=y=y.next;do b=r(b,S.action),S=S.next;while(S!==y);cr(b,s.memoizedState)||(nn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,u]}function Wv(r,s,l){var u=Ue,y=$t(),b=Je;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=s();var S=!cr((vt||y).memoizedState,l);if(S&&(y.memoizedState=l,nn=!0),y=y.queue,fp(Yv.bind(null,u,y,r),[r]),y.getSnapshot!==s||S||tn!==null&&tn.memoizedState.tag&1){if(u.flags|=2048,nl(9,{destroy:void 0},Qv.bind(null,u,y,l,s),null),_t===null)throw Error(i(349));b||($i&127)!==0||Kv(u,s,l)}return l}function Kv(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ue.updateQueue,s===null?(s=Jd(),Ue.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Qv(r,s,l,u){s.value=l,s.getSnapshot=u,Xv(s)&&Zv(r)}function Yv(r,s,l){return l(function(){Xv(s)&&Zv(r)})}function Xv(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!cr(r,l)}catch{return!0}}function Zv(r){var s=Ba(r,2);s!==null&&nr(s,r,2)}function dp(r){var s=Hn();if(typeof r=="function"){var l=r;if(r=l(),Xa){Yt(!0);try{l()}finally{Yt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},s}function Jv(r,s,l,u){return r.baseState=l,cp(r,vt,typeof u=="function"?u:Wi)}function vN(r,s,l,u,y){if(ih(r))throw Error(i(485));if(r=s.action,r!==null){var b={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};R.T!==null?l(!0):b.isTransition=!1,u(b),l=s.pending,l===null?(b.next=s.pending=b,eb(s,b)):(b.next=l.next,s.pending=l.next=b)}}function eb(r,s){var l=s.action,u=s.payload,y=r.state;if(s.isTransition){var b=R.T,S={};R.T=S;try{var z=l(y,u),X=R.S;X!==null&&X(S,z),tb(r,s,z)}catch(oe){hp(r,s,oe)}finally{b!==null&&S.types!==null&&(b.types=S.types),R.T=b}}else try{b=l(y,u),tb(r,s,b)}catch(oe){hp(r,s,oe)}}function tb(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){nb(r,s,u)},function(u){return hp(r,s,u)}):nb(r,s,l)}function nb(r,s,l){s.status="fulfilled",s.value=l,rb(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,eb(r,l)))}function hp(r,s,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,rb(s),s=s.next;while(s!==u)}r.action=null}function rb(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function ib(r,s){return s}function sb(r,s){if(Je){var l=_t.formState;if(l!==null){e:{var u=Ue;if(Je){if(Ct){t:{for(var y=Ct,b=jr;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ir(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Ct=Ir(y.nextSibling),u=y.data==="F!";break e}}Ps(u)}u=!1}u&&(s=l[0])}}return l=Hn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ib,lastRenderedState:s},l.queue=u,l=Eb.bind(null,Ue,u),u.dispatch=l,u=dp(!1),b=vp.bind(null,Ue,!1,u.queue),u=Hn(),y={state:s,dispatch:null,action:r,pending:null},u.queue=y,l=vN.bind(null,Ue,y,b,l),y.dispatch=l,u.memoizedState=r,[s,l,!1]}function ab(r){var s=$t();return ob(s,vt,r)}function ob(r,s,l){if(s=cp(r,s,ib)[0],r=th(Wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Dc(s)}catch(S){throw S===Xo?Gd:S}else u=s;s=$t();var y=s.queue,b=y.dispatch;return l!==s.memoizedState&&(Ue.flags|=2048,nl(9,{destroy:void 0},bN.bind(null,y,l),null)),[u,b,r]}function bN(r,s){r.action=s}function lb(r){var s=$t(),l=vt;if(l!==null)return ob(s,l,r);$t(),s=s.memoizedState,l=$t();var u=l.queue.dispatch;return l.memoizedState=r,[s,u,!1]}function nl(r,s,l,u){return r={tag:r,create:l,deps:u,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=Jd(),Ue.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,s.lastEffect=r),r}function cb(){return $t().memoizedState}function nh(r,s,l,u){var y=Hn();Ue.flags|=r,y.memoizedState=nl(1|s,{destroy:void 0},l,u===void 0?null:u)}function rh(r,s,l,u){var y=$t();u=u===void 0?null:u;var b=y.memoizedState.inst;vt!==null&&u!==null&&rp(u,vt.memoizedState.deps)?y.memoizedState=nl(s,b,l,u):(Ue.flags|=r,y.memoizedState=nl(1|s,b,l,u))}function ub(r,s){nh(8390656,8,r,s)}function fp(r,s){rh(2048,8,r,s)}function xN(r){Ue.flags|=4;var s=Ue.updateQueue;if(s===null)s=Jd(),Ue.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function db(r){var s=$t().memoizedState;return xN({ref:s,nextImpl:r}),function(){if((ot&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function hb(r,s){return rh(4,2,r,s)}function fb(r,s){return rh(4,4,r,s)}function mb(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function pb(r,s,l){l=l!=null?l.concat([r]):null,rh(4,4,mb.bind(null,s,r),l)}function mp(){}function gb(r,s){var l=$t();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&rp(s,u[1])?u[0]:(l.memoizedState=[r,s],r)}function yb(r,s){var l=$t();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&rp(s,u[1]))return u[0];if(u=r(),Xa){Yt(!0);try{r()}finally{Yt(!1)}}return l.memoizedState=[u,s],u}function pp(r,s,l){return l===void 0||($i&1073741824)!==0&&(We&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=vx(),Ue.lanes|=r,Bs|=r,l)}function vb(r,s,l,u){return cr(l,s)?l:Jo.current!==null?(r=pp(r,l,u),cr(r,s)||(nn=!0),r):($i&42)===0||($i&1073741824)!==0&&(We&261930)===0?(nn=!0,r.memoizedState=l):(r=vx(),Ue.lanes|=r,Bs|=r,s)}function bb(r,s,l,u,y){var b=M.p;M.p=b!==0&&8>b?b:8;var S=R.T,z={};R.T=z,vp(r,!1,s,l);try{var X=y(),oe=R.S;if(oe!==null&&oe(z,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=pN(X,u);Vc(r,s,de,pr(r))}else Vc(r,s,u,pr(r))}catch(fe){Vc(r,s,{then:function(){},status:"rejected",reason:fe},pr())}finally{M.p=b,S!==null&&z.types!==null&&(S.types=z.types),R.T=S}}function _N(){}function gp(r,s,l,u){if(r.tag!==5)throw Error(i(476));var y=xb(r).queue;bb(r,y,s,Y,l===null?_N:function(){return _b(r),l(u)})}function xb(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:Y},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function _b(r){var s=xb(r);s.next===null&&(s=r.alternate.memoizedState),Vc(r,s.next.queue,{},pr())}function yp(){return Cn(Jc)}function wb(){return $t().memoizedState}function Tb(){return $t().memoizedState}function wN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=pr();r=Vs(l);var u=Os(s,r,l);u!==null&&(nr(u,s,l),Ic(u,s,l)),s={cache:$m()},r.payload=s;return}s=s.return}}function TN(r,s,l){var u=pr();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ih(r)?Ab(s,l):(l=Dm(r,s,l,u),l!==null&&(nr(l,r,u),Sb(l,s,u)))}function Eb(r,s,l){var u=pr();Vc(r,s,l,u)}function Vc(r,s,l,u){var y={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ih(r))Ab(s,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var S=s.lastRenderedState,z=b(S,l);if(y.hasEagerState=!0,y.eagerState=z,cr(z,S))return Ld(r,s,y,0),_t===null&&Od(),!1}catch{}finally{}if(l=Dm(r,s,y,u),l!==null)return nr(l,r,u),Sb(l,s,u),!0}return!1}function vp(r,s,l,u){if(u={lane:2,revertLane:Yp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ih(r)){if(s)throw Error(i(479))}else s=Dm(r,l,u,2),s!==null&&nr(s,r,2)}function ih(r){var s=r.alternate;return r===Ue||s!==null&&s===Ue}function Ab(r,s){el=Xd=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Sb(r,s,l){if((l&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,ic(r,l)}}var Oc={readContext:Cn,use:eh,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Oc.useEffectEvent=Ot;var Cb={readContext:Cn,use:eh,useCallback:function(r,s){return Hn().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:ub,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,nh(4194308,4,mb.bind(null,s,r),l)},useLayoutEffect:function(r,s){return nh(4194308,4,r,s)},useInsertionEffect:function(r,s){nh(4,2,r,s)},useMemo:function(r,s){var l=Hn();s=s===void 0?null:s;var u=r();if(Xa){Yt(!0);try{r()}finally{Yt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(r,s,l){var u=Hn();if(l!==void 0){var y=l(s);if(Xa){Yt(!0);try{l(s)}finally{Yt(!1)}}}else y=s;return u.memoizedState=u.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},u.queue=r,r=r.dispatch=TN.bind(null,Ue,r),[u.memoizedState,r]},useRef:function(r){var s=Hn();return r={current:r},s.memoizedState=r},useState:function(r){r=dp(r);var s=r.queue,l=Eb.bind(null,Ue,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:mp,useDeferredValue:function(r,s){var l=Hn();return pp(l,r,s)},useTransition:function(){var r=dp(!1);return r=bb.bind(null,Ue,r.queue,!0,!1),Hn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var u=Ue,y=Hn();if(Je){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),_t===null)throw Error(i(349));(We&127)!==0||Kv(u,s,l)}y.memoizedState=l;var b={value:l,getSnapshot:s};return y.queue=b,ub(Yv.bind(null,u,b,r),[r]),u.flags|=2048,nl(9,{destroy:void 0},Qv.bind(null,u,b,l,s),null),l},useId:function(){var r=Hn(),s=_t.identifierPrefix;if(Je){var l=Ei,u=Ti;l=(u&~(1<<32-St(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Zd++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=gN++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:yp,useFormState:sb,useActionState:sb,useOptimistic:function(r){var s=Hn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=vp.bind(null,Ue,!0,l),l.dispatch=s,[r,s]},useMemoCache:lp,useCacheRefresh:function(){return Hn().memoizedState=wN.bind(null,Ue)},useEffectEvent:function(r){var s=Hn(),l={impl:r};return s.memoizedState=l,function(){if((ot&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},bp={readContext:Cn,use:eh,useCallback:gb,useContext:Cn,useEffect:fp,useImperativeHandle:pb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:yb,useReducer:th,useRef:cb,useState:function(){return th(Wi)},useDebugValue:mp,useDeferredValue:function(r,s){var l=$t();return vb(l,vt.memoizedState,r,s)},useTransition:function(){var r=th(Wi)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:Dc(r),s]},useSyncExternalStore:Wv,useId:wb,useHostTransitionStatus:yp,useFormState:ab,useActionState:ab,useOptimistic:function(r,s){var l=$t();return Jv(l,vt,r,s)},useMemoCache:lp,useCacheRefresh:Tb};bp.useEffectEvent=db;var Nb={readContext:Cn,use:eh,useCallback:gb,useContext:Cn,useEffect:fp,useImperativeHandle:pb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:yb,useReducer:up,useRef:cb,useState:function(){return up(Wi)},useDebugValue:mp,useDeferredValue:function(r,s){var l=$t();return vt===null?pp(l,r,s):vb(l,vt.memoizedState,r,s)},useTransition:function(){var r=up(Wi)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:Dc(r),s]},useSyncExternalStore:Wv,useId:wb,useHostTransitionStatus:yp,useFormState:lb,useActionState:lb,useOptimistic:function(r,s){var l=$t();return vt!==null?Jv(l,vt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:lp,useCacheRefresh:Tb};Nb.useEffectEvent=db;function xp(r,s,l,u){s=r.memoizedState,l=l(u,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var _p={enqueueSetState:function(r,s,l){r=r._reactInternals;var u=pr(),y=Vs(u);y.payload=s,l!=null&&(y.callback=l),s=Os(r,y,u),s!==null&&(nr(s,r,u),Ic(s,r,u))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var u=pr(),y=Vs(u);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Os(r,y,u),s!==null&&(nr(s,r,u),Ic(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=pr(),u=Vs(l);u.tag=2,s!=null&&(u.callback=s),s=Os(r,u,l),s!==null&&(nr(s,r,l),Ic(s,r,l))}};function jb(r,s,l,u,y,b,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,b,S):s.prototype&&s.prototype.isPureReactComponent?!Tc(l,u)||!Tc(y,b):!0}function Rb(r,s,l,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==r&&_p.enqueueReplaceState(s,s.state,null)}function Za(r,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var y in r)l[y]===void 0&&(l[y]=r[y])}return l}function Ib(r){Vd(r)}function kb(r){console.error(r)}function Pb(r){Vd(r)}function sh(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Mb(r,s,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function wp(r,s,l){return l=Vs(l),l.tag=3,l.payload={element:null},l.callback=function(){sh(r,s)},l}function Db(r){return r=Vs(r),r.tag=3,r}function Vb(r,s,l,u){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=u.value;r.payload=function(){return y(b)},r.callback=function(){Mb(s,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){Mb(s,l,u),typeof y!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})})}function EN(r,s,l,u,y){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Ko(s,l,y,!0),l=dr.current,l!==null){switch(l.tag){case 31:case 13:return Rr===null?yh():l.alternate===null&&Lt===0&&(Lt=3),l.flags&=-257,l.flags|=65536,l.lanes=y,u===$d?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Wp(r,u,y)),!1;case 22:return l.flags|=65536,u===$d?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Wp(r,u,y)),!1}throw Error(i(435,l.tag))}return Wp(r,u,y),yh(),!1}if(Je)return s=dr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,u!==Fm&&(r=Error(i(422),{cause:u}),Sc(Sr(r,l)))):(u!==Fm&&(s=Error(i(423),{cause:u}),Sc(Sr(s,l))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,u=Sr(u,l),y=wp(r.stateNode,u,y),Zm(r,y),Lt!==4&&(Lt=2)),!1;var b=Error(i(520),{cause:u});if(b=Sr(b,l),Gc===null?Gc=[b]:Gc.push(b),Lt!==4&&(Lt=2),s===null)return!0;u=Sr(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=y&-y,l.lanes|=r,r=wp(l.stateNode,u,r),Zm(l,r),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qs===null||!qs.has(b))))return l.flags|=65536,y&=-y,l.lanes|=y,y=Db(y),Vb(y,r,l,u),Zm(l,y),!1}l=l.return}while(l!==null);return!1}var Tp=Error(i(461)),nn=!1;function Nn(r,s,l,u){s.child=r===null?zv(s,null,l,u):Ya(s,r.child,l,u)}function Ob(r,s,l,u,y){l=l.render;var b=s.ref;if("ref"in u){var S={};for(var z in u)z!=="ref"&&(S[z]=u[z])}else S=u;return $a(s),u=ip(r,s,l,S,b,y),z=sp(),r!==null&&!nn?(ap(r,s,y),Ki(r,s,y)):(Je&&z&&Um(s),s.flags|=1,Nn(r,s,u,y),s.child)}function Lb(r,s,l,u,y){if(r===null){var b=l.type;return typeof b=="function"&&!Vm(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,Ub(r,s,b,u,y)):(r=zd(l.type,null,u,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(b=r.child,!Ip(r,y)){var S=b.memoizedProps;if(l=l.compare,l=l!==null?l:Tc,l(S,u)&&r.ref===s.ref)return Ki(r,s,y)}return s.flags|=1,r=Bi(b,u),r.ref=s.ref,r.return=s,s.child=r}function Ub(r,s,l,u,y){if(r!==null){var b=r.memoizedProps;if(Tc(b,u)&&r.ref===s.ref)if(nn=!1,s.pendingProps=u=b,Ip(r,y))(r.flags&131072)!==0&&(nn=!0);else return s.lanes=r.lanes,Ki(r,s,y)}return Ep(r,s,l,u,y)}function zb(r,s,l,u){var y=u.children,b=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,r!==null){for(u=s.child=r.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;u=y&~b}else u=0,s.child=null;return Fb(r,s,b,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hd(s,b!==null?b.cachePool:null),b!==null?qv(s,b):ep(),Hv(s);else return u=s.lanes=536870912,Fb(r,s,b!==null?b.baseLanes|l:l,l,u)}else b!==null?(Hd(s,b.cachePool),qv(s,b),Us(),s.memoizedState=null):(r!==null&&Hd(s,null),ep(),Us());return Nn(r,s,y,l),s.child}function Lc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Fb(r,s,l,u,y){var b=Km();return b=b===null?null:{parent:en._currentValue,pool:b},s.memoizedState={baseLanes:l,cachePool:b},r!==null&&Hd(s,null),ep(),Hv(s),r!==null&&Ko(r,s,u,!0),s.childLanes=y,null}function ah(r,s){return s=lh({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Bb(r,s,l){return Ya(s,r.child,null,l),r=ah(s,s.pendingProps),r.flags|=2,hr(s),s.memoizedState=null,r}function AN(r,s,l){var u=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Je){if(u.mode==="hidden")return r=ah(s,u),s.lanes=536870912,Lc(null,r);if(np(s),(r=Ct)?(r=e2(r,jr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Is!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},l=Av(r),l.return=s,s.child=l,Sn=s,Ct=null)):r=null,r===null)throw Ps(s);return s.lanes=536870912,null}return ah(s,u)}var b=r.memoizedState;if(b!==null){var S=b.dehydrated;if(np(s),y)if(s.flags&256)s.flags&=-257,s=Bb(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(nn||Ko(r,s,l,!1),y=(l&r.childLanes)!==0,nn||y){if(u=_t,u!==null&&(S=sc(u,l),S!==0&&S!==b.retryLane))throw b.retryLane=S,Ba(r,S),nr(u,r,S),Tp;yh(),s=Bb(r,s,l)}else r=b.treeContext,Ct=Ir(S.nextSibling),Sn=s,Je=!0,ks=null,jr=!1,r!==null&&Nv(s,r),s=ah(s,u),s.flags|=4096;return s}return r=Bi(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function oh(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Ep(r,s,l,u,y){return $a(s),l=ip(r,s,l,u,void 0,y),u=sp(),r!==null&&!nn?(ap(r,s,y),Ki(r,s,y)):(Je&&u&&Um(s),s.flags|=1,Nn(r,s,l,y),s.child)}function qb(r,s,l,u,y,b){return $a(s),s.updateQueue=null,l=$v(s,u,l,y),Gv(r),u=sp(),r!==null&&!nn?(ap(r,s,b),Ki(r,s,b)):(Je&&u&&Um(s),s.flags|=1,Nn(r,s,l,b),s.child)}function Hb(r,s,l,u,y){if($a(s),s.stateNode===null){var b=Ho,S=l.contextType;typeof S=="object"&&S!==null&&(b=Cn(S)),b=new l(u,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=_p,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=u,b.state=s.memoizedState,b.refs={},Ym(s),S=l.contextType,b.context=typeof S=="object"&&S!==null?Cn(S):Ho,b.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(xp(s,l,S,u),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&_p.enqueueReplaceState(b,b.state,null),Pc(s,u,b,y),kc(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){b=s.stateNode;var z=s.memoizedProps,X=Za(l,z);b.props=X;var oe=b.context,de=l.contextType;S=Ho,typeof de=="object"&&de!==null&&(S=Cn(de));var fe=l.getDerivedStateFromProps;de=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",z=s.pendingProps!==z,de||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z||oe!==S)&&Rb(s,b,u,S),Ds=!1;var le=s.memoizedState;b.state=le,Pc(s,u,b,y),kc(),oe=s.memoizedState,z||le!==oe||Ds?(typeof fe=="function"&&(xp(s,l,fe,u),oe=s.memoizedState),(X=Ds||jb(s,l,X,u,le,oe,S))?(de||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=oe),b.props=u,b.state=oe,b.context=S,u=X):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{b=s.stateNode,Xm(r,s),S=s.memoizedProps,de=Za(l,S),b.props=de,fe=s.pendingProps,le=b.context,oe=l.contextType,X=Ho,typeof oe=="object"&&oe!==null&&(X=Cn(oe)),z=l.getDerivedStateFromProps,(oe=typeof z=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==fe||le!==X)&&Rb(s,b,u,X),Ds=!1,le=s.memoizedState,b.state=le,Pc(s,u,b,y),kc();var ue=s.memoizedState;S!==fe||le!==ue||Ds||r!==null&&r.dependencies!==null&&Bd(r.dependencies)?(typeof z=="function"&&(xp(s,l,z,u),ue=s.memoizedState),(de=Ds||jb(s,l,de,u,le,ue,X)||r!==null&&r.dependencies!==null&&Bd(r.dependencies))?(oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,ue,X),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,ue,X)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===r.memoizedProps&&le===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&le===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ue),b.props=u,b.state=ue,b.context=X,u=de):(typeof b.componentDidUpdate!="function"||S===r.memoizedProps&&le===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&le===r.memoizedState||(s.flags|=1024),u=!1)}return b=u,oh(r,s),u=(s.flags&128)!==0,b||u?(b=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,r!==null&&u?(s.child=Ya(s,r.child,null,y),s.child=Ya(s,null,l,y)):Nn(r,s,l,y),s.memoizedState=b.state,r=s.child):r=Ki(r,s,y),r}function Gb(r,s,l,u){return Ha(),s.flags|=256,Nn(r,s,l,u),s.child}var Ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sp(r){return{baseLanes:r,cachePool:Mv()}}function Cp(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=mr),r}function $b(r,s,l){var u=s.pendingProps,y=!1,b=(s.flags&128)!==0,S;if((S=b)||(S=r!==null&&r.memoizedState===null?!1:(Gt.current&2)!==0),S&&(y=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(Je){if(y?Ls(s):Us(),(r=Ct)?(r=e2(r,jr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Is!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},l=Av(r),l.return=s,s.child=l,Sn=s,Ct=null)):r=null,r===null)throw Ps(s);return cg(r)?s.lanes=32:s.lanes=536870912,null}var z=u.children;return u=u.fallback,y?(Us(),y=s.mode,z=lh({mode:"hidden",children:z},y),u=qa(u,y,l,null),z.return=s,u.return=s,z.sibling=u,s.child=z,u=s.child,u.memoizedState=Sp(l),u.childLanes=Cp(r,S,l),s.memoizedState=Ap,Lc(null,u)):(Ls(s),Np(s,z))}var X=r.memoizedState;if(X!==null&&(z=X.dehydrated,z!==null)){if(b)s.flags&256?(Ls(s),s.flags&=-257,s=jp(r,s,l)):s.memoizedState!==null?(Us(),s.child=r.child,s.flags|=128,s=null):(Us(),z=u.fallback,y=s.mode,u=lh({mode:"visible",children:u.children},y),z=qa(z,y,l,null),z.flags|=2,u.return=s,z.return=s,u.sibling=z,s.child=u,Ya(s,r.child,null,l),u=s.child,u.memoizedState=Sp(l),u.childLanes=Cp(r,S,l),s.memoizedState=Ap,s=Lc(null,u));else if(Ls(s),cg(z)){if(S=z.nextSibling&&z.nextSibling.dataset,S)var oe=S.dgst;S=oe,u=Error(i(419)),u.stack="",u.digest=S,Sc({value:u,source:null,stack:null}),s=jp(r,s,l)}else if(nn||Ko(r,s,l,!1),S=(l&r.childLanes)!==0,nn||S){if(S=_t,S!==null&&(u=sc(S,l),u!==0&&u!==X.retryLane))throw X.retryLane=u,Ba(r,u),nr(S,r,u),Tp;lg(z)||yh(),s=jp(r,s,l)}else lg(z)?(s.flags|=192,s.child=r.child,s=null):(r=X.treeContext,Ct=Ir(z.nextSibling),Sn=s,Je=!0,ks=null,jr=!1,r!==null&&Nv(s,r),s=Np(s,u.children),s.flags|=4096);return s}return y?(Us(),z=u.fallback,y=s.mode,X=r.child,oe=X.sibling,u=Bi(X,{mode:"hidden",children:u.children}),u.subtreeFlags=X.subtreeFlags&65011712,oe!==null?z=Bi(oe,z):(z=qa(z,y,l,null),z.flags|=2),z.return=s,u.return=s,u.sibling=z,s.child=u,Lc(null,u),u=s.child,z=r.child.memoizedState,z===null?z=Sp(l):(y=z.cachePool,y!==null?(X=en._currentValue,y=y.parent!==X?{parent:X,pool:X}:y):y=Mv(),z={baseLanes:z.baseLanes|l,cachePool:y}),u.memoizedState=z,u.childLanes=Cp(r,S,l),s.memoizedState=Ap,Lc(r.child,u)):(Ls(s),l=r.child,r=l.sibling,l=Bi(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=l,s.memoizedState=null,l)}function Np(r,s){return s=lh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function lh(r,s){return r=ur(22,r,null,s),r.lanes=0,r}function jp(r,s,l){return Ya(s,r.child,null,l),r=Np(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Wb(r,s,l){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Hm(r.return,s,l)}function Rp(r,s,l,u,y,b){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:y,treeForkCount:b}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=l,S.tailMode=y,S.treeForkCount=b)}function Kb(r,s,l){var u=s.pendingProps,y=u.revealOrder,b=u.tail;u=u.children;var S=Gt.current,z=(S&2)!==0;if(z?(S=S&1|2,s.flags|=128):S&=1,re(Gt,S),Nn(r,s,u,l),u=Je?Ac:0,!z&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Wb(r,l,s);else if(r.tag===19)Wb(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)r=l.alternate,r!==null&&Yd(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),Rp(s,!1,y,l,b,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&Yd(r)===null){s.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}Rp(s,!0,l,null,b,u);break;case"together":Rp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ki(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Bs|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Ko(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Bi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Bi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Ip(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Bd(r)))}function SN(r,s,l){switch(s.tag){case 3:Re(s,s.stateNode.containerInfo),Ms(s,en,r.memoizedState.cache),Ha();break;case 27:case 5:qe(s);break;case 4:Re(s,s.stateNode.containerInfo);break;case 10:Ms(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,np(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ls(s),s.flags|=128,null):(l&s.child.childLanes)!==0?$b(r,s,l):(Ls(s),r=Ki(r,s,l),r!==null?r.sibling:null);Ls(s);break;case 19:var y=(r.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Ko(r,s,l,!1),u=(l&s.childLanes)!==0),y){if(u)return Kb(r,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),re(Gt,Gt.current),u)break;return null;case 22:return s.lanes=0,zb(r,s,l,s.pendingProps);case 24:Ms(s,en,r.memoizedState.cache)}return Ki(r,s,l)}function Qb(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)nn=!0;else{if(!Ip(r,l)&&(s.flags&128)===0)return nn=!1,SN(r,s,l);nn=(r.flags&131072)!==0}else nn=!1,Je&&(s.flags&1048576)!==0&&Cv(s,Ac,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=Ka(s.elementType),s.type=r,typeof r=="function")Vm(r)?(u=Za(r,u),s.tag=1,s=Hb(null,s,r,u,l)):(s.tag=0,s=Ep(null,s,r,u,l));else{if(r!=null){var y=r.$$typeof;if(y===$){s.tag=11,s=Ob(null,s,r,u,l);break e}else if(y===O){s.tag=14,s=Lb(null,s,r,u,l);break e}}throw s=k(r)||r,Error(i(306,s,""))}}return s;case 0:return Ep(r,s,s.type,s.pendingProps,l);case 1:return u=s.type,y=Za(u,s.pendingProps),Hb(r,s,u,y,l);case 3:e:{if(Re(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var b=s.memoizedState;y=b.element,Xm(r,s),Pc(s,u,null,l);var S=s.memoizedState;if(u=S.cache,Ms(s,en,u),u!==b.cache&&Gm(s,[en],l,!0),kc(),u=S.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=Gb(r,s,u,l);break e}else if(u!==y){y=Sr(Error(i(424)),s),Sc(y),s=Gb(r,s,u,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ct=Ir(r.firstChild),Sn=s,Je=!0,ks=null,jr=!0,l=zv(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ha(),u===y){s=Ki(r,s,l);break e}Nn(r,s,u,l)}s=s.child}return s;case 26:return oh(r,s),r===null?(l=a2(s.type,null,s.pendingProps,null))?s.memoizedState=l:Je||(l=s.type,r=s.pendingProps,u=Eh(ge.current).createElement(l),u[Xt]=s,u[mn]=r,jn(u,l,r),Zt(u),s.stateNode=u):s.memoizedState=a2(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return qe(s),r===null&&Je&&(u=s.stateNode=r2(s.type,s.pendingProps,ge.current),Sn=s,jr=!0,y=Ct,Ws(s.type)?(ug=y,Ct=Ir(u.firstChild)):Ct=y),Nn(r,s,s.pendingProps.children,l),oh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Je&&((y=u=Ct)&&(u=n5(u,s.type,s.pendingProps,jr),u!==null?(s.stateNode=u,Sn=s,Ct=Ir(u.firstChild),jr=!1,y=!0):y=!1),y||Ps(s)),qe(s),y=s.type,b=s.pendingProps,S=r!==null?r.memoizedProps:null,u=b.children,sg(y,b)?u=null:S!==null&&sg(y,S)&&(s.flags|=32),s.memoizedState!==null&&(y=ip(r,s,yN,null,null,l),Jc._currentValue=y),oh(r,s),Nn(r,s,u,l),s.child;case 6:return r===null&&Je&&((r=l=Ct)&&(l=r5(l,s.pendingProps,jr),l!==null?(s.stateNode=l,Sn=s,Ct=null,r=!0):r=!1),r||Ps(s)),null;case 13:return $b(r,s,l);case 4:return Re(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ya(s,null,u,l):Nn(r,s,u,l),s.child;case 11:return Ob(r,s,s.type,s.pendingProps,l);case 7:return Nn(r,s,s.pendingProps,l),s.child;case 8:return Nn(r,s,s.pendingProps.children,l),s.child;case 12:return Nn(r,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Ms(s,s.type,u.value),Nn(r,s,u.children,l),s.child;case 9:return y=s.type._context,u=s.pendingProps.children,$a(s),y=Cn(y),u=u(y),s.flags|=1,Nn(r,s,u,l),s.child;case 14:return Lb(r,s,s.type,s.pendingProps,l);case 15:return Ub(r,s,s.type,s.pendingProps,l);case 19:return Kb(r,s,l);case 31:return AN(r,s,l);case 22:return zb(r,s,l,s.pendingProps);case 24:return $a(s),u=Cn(en),r===null?(y=Km(),y===null&&(y=_t,b=$m(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=l),y=b),s.memoizedState={parent:u,cache:y},Ym(s),Ms(s,en,y)):((r.lanes&l)!==0&&(Xm(r,s),Pc(s,null,null,l),kc()),y=r.memoizedState,b=s.memoizedState,y.parent!==u?(y={parent:u,cache:u},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ms(s,en,u)):(u=b.cache,Ms(s,en,u),u!==y.cache&&Gm(s,[en],l,!0))),Nn(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Qi(r){r.flags|=4}function kp(r,s,l,u,y){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(wx())r.flags|=8192;else throw Qa=$d,Qm}else r.flags&=-16777217}function Yb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!d2(s))if(wx())r.flags|=8192;else throw Qa=$d,Qm}function ch(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?xr():536870912,r.lanes|=s,al|=s)}function Uc(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(s)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=u,r.childLanes=l,s}function CN(r,s,l){var u=s.pendingProps;switch(zm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return l=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Gi(en),Ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Wo(s)?Qi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bm())),Nt(s),null;case 26:var y=s.type,b=s.memoizedState;return r===null?(Qi(s),b!==null?(Nt(s),Yb(s,b)):(Nt(s),kp(s,y,null,u,l))):b?b!==r.memoizedState?(Qi(s),Nt(s),Yb(s,b)):(Nt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&Qi(s),Nt(s),kp(s,y,r,u,l)),null;case 27:if(tt(s),l=ge.current,y=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Qi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}r=K.current,Wo(s)?jv(s):(r=r2(y,u,l),s.stateNode=r,Qi(s))}return Nt(s),null;case 5:if(tt(s),y=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Qi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}if(b=K.current,Wo(s))jv(s);else{var S=Eh(ge.current);switch(b){case 1:b=S.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=S.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=S.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?S.createElement(y,{is:u.is}):S.createElement(y)}}b[Xt]=s,b[mn]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)b.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=b;e:switch(jn(b,y,u),y){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Qi(s)}}return Nt(s),kp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Qi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=ge.current,Wo(s)){if(r=s.stateNode,l=s.memoizedProps,u=null,y=Sn,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}r[Xt]=s,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||$x(r.nodeValue,l)),r||Ps(s,!0)}else r=Eh(r).createTextNode(u),r[Xt]=s,s.stateNode=r}return Nt(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(u=Wo(s),l!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Xt]=s}else Ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),r=!1}else l=Bm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(hr(s),s):(hr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Nt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Wo(s),u!==null&&u.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Xt]=s}else Ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),y=!1}else y=Bm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(hr(s),s):(hr(s),null)}return hr(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=s.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==y&&(u.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),ch(s,s.updateQueue),Nt(s),null);case 4:return Ce(),r===null&&eg(s.stateNode.containerInfo),Nt(s),null;case 10:return Gi(s.type),Nt(s),null;case 19:if(W(Gt),u=s.memoizedState,u===null)return Nt(s),null;if(y=(s.flags&128)!==0,b=u.rendering,b===null)if(y)Uc(u,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(b=Yd(r),b!==null){for(s.flags|=128,Uc(u,!1),r=b.updateQueue,s.updateQueue=r,ch(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)Ev(l,r),l=l.sibling;return re(Gt,Gt.current&1|2),Je&&qi(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&ze()>mh&&(s.flags|=128,y=!0,Uc(u,!1),s.lanes=4194304)}else{if(!y)if(r=Yd(b),r!==null){if(s.flags|=128,y=!0,r=r.updateQueue,s.updateQueue=r,ch(s,r),Uc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!Je)return Nt(s),null}else 2*ze()-u.renderingStartTime>mh&&l!==536870912&&(s.flags|=128,y=!0,Uc(u,!1),s.lanes=4194304);u.isBackwards?(b.sibling=s.child,s.child=b):(r=u.last,r!==null?r.sibling=b:s.child=b,u.last=b)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=ze(),r.sibling=null,l=Gt.current,re(Gt,y?l&1|2:l&1),Je&&qi(s,u.treeForkCount),r):(Nt(s),null);case 22:case 23:return hr(s),tp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),l=s.updateQueue,l!==null&&ch(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),r!==null&&W(Wa),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Gi(en),Nt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function NN(r,s){switch(zm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Gi(en),Ce(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return tt(s),null;case 31:if(s.memoizedState!==null){if(hr(s),s.alternate===null)throw Error(i(340));Ha()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(hr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ha()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return W(Gt),null;case 4:return Ce(),null;case 10:return Gi(s.type),null;case 22:case 23:return hr(s),tp(),r!==null&&W(Wa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Gi(en),null;case 25:return null;default:return null}}function Xb(r,s){switch(zm(s),s.tag){case 3:Gi(en),Ce();break;case 26:case 27:case 5:tt(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&hr(s);break;case 13:hr(s);break;case 19:W(Gt);break;case 10:Gi(s.type);break;case 22:case 23:hr(s),tp(),r!==null&&W(Wa);break;case 24:Gi(en)}}function zc(r,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var y=u.next;l=y;do{if((l.tag&r)===r){u=void 0;var b=l.create,S=l.inst;u=b(),S.destroy=u}l=l.next}while(l!==y)}}catch(z){mt(s,s.return,z)}}function zs(r,s,l){try{var u=s.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var b=y.next;u=b;do{if((u.tag&r)===r){var S=u.inst,z=S.destroy;if(z!==void 0){S.destroy=void 0,y=s;var X=l,oe=z;try{oe()}catch(de){mt(y,X,de)}}}u=u.next}while(u!==b)}}catch(de){mt(s,s.return,de)}}function Zb(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{Bv(s,l)}catch(u){mt(r,r.return,u)}}}function Jb(r,s,l){l.props=Za(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){mt(r,s,u)}}function Fc(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(y){mt(r,s,y)}}function Ai(r,s){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(y){mt(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){mt(r,s,y)}else l.current=null}function ex(r){var s=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(y){mt(r,r.return,y)}}function Pp(r,s,l){try{var u=r.stateNode;YN(u,r.type,l,s),u[mn]=s}catch(y){mt(r,r.return,y)}}function tx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ws(r.type)||r.tag===4}function Mp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||tx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ws(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Dp(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Hr));else if(u!==4&&(u===27&&Ws(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Dp(r,s,l),r=r.sibling;r!==null;)Dp(r,s,l),r=r.sibling}function uh(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(u!==4&&(u===27&&Ws(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(uh(r,s,l),r=r.sibling;r!==null;)uh(r,s,l),r=r.sibling}function nx(r){var s=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);jn(s,u,l),s[Xt]=r,s[mn]=l}catch(b){mt(r,r.return,b)}}var Yi=!1,rn=!1,Vp=!1,rx=typeof WeakSet=="function"?WeakSet:Set,gn=null;function jN(r,s){if(r=r.containerInfo,rg=Ih,r=pv(r),jm(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var y=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var S=0,z=-1,X=-1,oe=0,de=0,fe=r,le=null;t:for(;;){for(var ue;fe!==l||y!==0&&fe.nodeType!==3||(z=S+y),fe!==b||u!==0&&fe.nodeType!==3||(X=S+u),fe.nodeType===3&&(S+=fe.nodeValue.length),(ue=fe.firstChild)!==null;)le=fe,fe=ue;for(;;){if(fe===r)break t;if(le===l&&++oe===y&&(z=S),le===b&&++de===u&&(X=S),(ue=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=ue}l=z===-1||X===-1?null:{start:z,end:X}}else l=null}l=l||{start:0,end:0}}else l=null;for(ig={focusedElem:r,selectionRange:l},Ih=!1,gn=s;gn!==null;)if(s=gn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,gn=r;else for(;gn!==null;){switch(s=gn,b=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)y=r[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,l=s,y=b.memoizedProps,b=b.memoizedState,u=l.stateNode;try{var we=Za(l.type,y);r=u.getSnapshotBeforeUpdate(we,b),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ie){mt(l,l.return,Ie)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)og(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":og(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,gn=r;break}gn=s.return}}function ix(r,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Zi(r,l),u&4&&zc(5,l);break;case 1:if(Zi(r,l),u&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(S){mt(l,l.return,S)}else{var y=Za(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(S){mt(l,l.return,S)}}u&64&&Zb(l),u&512&&Fc(l,l.return);break;case 3:if(Zi(r,l),u&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Bv(r,s)}catch(S){mt(l,l.return,S)}}break;case 27:s===null&&u&4&&nx(l);case 26:case 5:Zi(r,l),s===null&&u&4&&ex(l),u&512&&Fc(l,l.return);break;case 12:Zi(r,l);break;case 31:Zi(r,l),u&4&&ox(r,l);break;case 13:Zi(r,l),u&4&&lx(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=LN.bind(null,l),i5(r,l))));break;case 22:if(u=l.memoizedState!==null||Yi,!u){s=s!==null&&s.memoizedState!==null||rn,y=Yi;var b=rn;Yi=u,(rn=s)&&!b?Ji(r,l,(l.subtreeFlags&8772)!==0):Zi(r,l),Yi=y,rn=b}break;case 30:break;default:Zi(r,l)}}function sx(r){var s=r.alternate;s!==null&&(r.alternate=null,sx(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ro(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var It=null,Zn=!1;function Xi(r,s,l){for(l=l.child;l!==null;)ax(r,s,l),l=l.sibling}function ax(r,s,l){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(qt,l)}catch{}switch(l.tag){case 26:rn||Ai(l,s),Xi(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:rn||Ai(l,s);var u=It,y=Zn;Ws(l.type)&&(It=l.stateNode,Zn=!1),Xi(r,s,l),Yc(l.stateNode),It=u,Zn=y;break;case 5:rn||Ai(l,s);case 6:if(u=It,y=Zn,It=null,Xi(r,s,l),It=u,Zn=y,It!==null)if(Zn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(l.stateNode)}catch(b){mt(l,s,b)}else try{It.removeChild(l.stateNode)}catch(b){mt(l,s,b)}break;case 18:It!==null&&(Zn?(r=It,Zx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),ml(r)):Zx(It,l.stateNode));break;case 4:u=It,y=Zn,It=l.stateNode.containerInfo,Zn=!0,Xi(r,s,l),It=u,Zn=y;break;case 0:case 11:case 14:case 15:zs(2,l,s),rn||zs(4,l,s),Xi(r,s,l);break;case 1:rn||(Ai(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Jb(l,s,u)),Xi(r,s,l);break;case 21:Xi(r,s,l);break;case 22:rn=(u=rn)||l.memoizedState!==null,Xi(r,s,l),rn=u;break;default:Xi(r,s,l)}}function ox(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ml(r)}catch(l){mt(s,s.return,l)}}}function lx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ml(r)}catch(l){mt(s,s.return,l)}}function RN(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new rx),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new rx),s;default:throw Error(i(435,r.tag))}}function dh(r,s){var l=RN(r);s.forEach(function(u){if(!l.has(u)){l.add(u);var y=UN.bind(null,r,u);u.then(y,y)}})}function Jn(r,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var y=l[u],b=r,S=s,z=S;e:for(;z!==null;){switch(z.tag){case 27:if(Ws(z.type)){It=z.stateNode,Zn=!1;break e}break;case 5:It=z.stateNode,Zn=!1;break e;case 3:case 4:It=z.stateNode.containerInfo,Zn=!0;break e}z=z.return}if(It===null)throw Error(i(160));ax(b,S,y),It=null,Zn=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)cx(s,r),s=s.sibling}var Yr=null;function cx(r,s){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Jn(s,r),er(r),u&4&&(zs(3,r,r.return),zc(3,r),zs(5,r,r.return));break;case 1:Jn(s,r),er(r),u&512&&(rn||l===null||Ai(l,l.return)),u&64&&Yi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var y=Yr;if(Jn(s,r),er(r),u&512&&(rn||l===null||Ai(l,l.return)),u&4){var b=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":b=y.getElementsByTagName("title")[0],(!b||b[di]||b[Xt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(u),y.head.insertBefore(b,y.querySelector("head > title"))),jn(b,u,l),b[Xt]=r,Zt(b),u=b;break e;case"link":var S=c2("link","href",y).get(u+(l.href||""));if(S){for(var z=0;z<S.length;z++)if(b=S[z],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(z,1);break t}}b=y.createElement(u),jn(b,u,l),y.head.appendChild(b);break;case"meta":if(S=c2("meta","content",y).get(u+(l.content||""))){for(z=0;z<S.length;z++)if(b=S[z],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(z,1);break t}}b=y.createElement(u),jn(b,u,l),y.head.appendChild(b);break;default:throw Error(i(468,u))}b[Xt]=r,Zt(b),u=b}r.stateNode=u}else u2(y,r.type,r.stateNode);else r.stateNode=l2(y,u,r.memoizedProps);else b!==u?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,u===null?u2(y,r.type,r.stateNode):l2(y,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Pp(r,r.memoizedProps,l.memoizedProps)}break;case 27:Jn(s,r),er(r),u&512&&(rn||l===null||Ai(l,l.return)),l!==null&&u&4&&Pp(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Jn(s,r),er(r),u&512&&(rn||l===null||Ai(l,l.return)),r.flags&32){y=r.stateNode;try{Xn(y,"")}catch(we){mt(r,r.return,we)}}u&4&&r.stateNode!=null&&(y=r.memoizedProps,Pp(r,y,l!==null?l.memoizedProps:y)),u&1024&&(Vp=!0);break;case 6:if(Jn(s,r),er(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(we){mt(r,r.return,we)}}break;case 3:if(Ch=null,y=Yr,Yr=Ah(s.containerInfo),Jn(s,r),Yr=y,er(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ml(s.containerInfo)}catch(we){mt(r,r.return,we)}Vp&&(Vp=!1,ux(r));break;case 4:u=Yr,Yr=Ah(r.stateNode.containerInfo),Jn(s,r),er(r),Yr=u;break;case 12:Jn(s,r),er(r);break;case 31:Jn(s,r),er(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,dh(r,u)));break;case 13:Jn(s,r),er(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fh=ze()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,dh(r,u)));break;case 22:y=r.memoizedState!==null;var X=l!==null&&l.memoizedState!==null,oe=Yi,de=rn;if(Yi=oe||y,rn=de||X,Jn(s,r),rn=de,Yi=oe,er(r),u&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||X||Yi||rn||Ja(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){X=l=s;try{if(b=X.stateNode,y)S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{z=X.stateNode;var fe=X.memoizedProps.style,le=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;z.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(we){mt(X,X.return,we)}}}else if(s.tag===6){if(l===null){X=s;try{X.stateNode.nodeValue=y?"":X.memoizedProps}catch(we){mt(X,X.return,we)}}}else if(s.tag===18){if(l===null){X=s;try{var ue=X.stateNode;y?Jx(ue,!0):Jx(X.stateNode,!1)}catch(we){mt(X,X.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,dh(r,l))));break;case 19:Jn(s,r),er(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,dh(r,u)));break;case 30:break;case 21:break;default:Jn(s,r),er(r)}}function er(r){var s=r.flags;if(s&2){try{for(var l,u=r.return;u!==null;){if(tx(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,b=Mp(r);uh(r,b,y);break;case 5:var S=l.stateNode;l.flags&32&&(Xn(S,""),l.flags&=-33);var z=Mp(r);uh(r,z,S);break;case 3:case 4:var X=l.stateNode.containerInfo,oe=Mp(r);Dp(r,oe,X);break;default:throw Error(i(161))}}catch(de){mt(r,r.return,de)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ux(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;ux(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Zi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ix(r,s.alternate,s),s=s.sibling}function Ja(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),Ja(s);break;case 1:Ai(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Jb(s,s.return,l),Ja(s);break;case 27:Yc(s.stateNode);case 26:case 5:Ai(s,s.return),Ja(s);break;case 22:s.memoizedState===null&&Ja(s);break;case 30:Ja(s);break;default:Ja(s)}r=r.sibling}}function Ji(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,y=r,b=s,S=b.flags;switch(b.tag){case 0:case 11:case 15:Ji(y,b,l),zc(4,b);break;case 1:if(Ji(y,b,l),u=b,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(oe){mt(u,u.return,oe)}if(u=b,y=u.updateQueue,y!==null){var z=u.stateNode;try{var X=y.shared.hiddenCallbacks;if(X!==null)for(y.shared.hiddenCallbacks=null,y=0;y<X.length;y++)Fv(X[y],z)}catch(oe){mt(u,u.return,oe)}}l&&S&64&&Zb(b),Fc(b,b.return);break;case 27:nx(b);case 26:case 5:Ji(y,b,l),l&&u===null&&S&4&&ex(b),Fc(b,b.return);break;case 12:Ji(y,b,l);break;case 31:Ji(y,b,l),l&&S&4&&ox(y,b);break;case 13:Ji(y,b,l),l&&S&4&&lx(y,b);break;case 22:b.memoizedState===null&&Ji(y,b,l),Fc(b,b.return);break;case 30:break;default:Ji(y,b,l)}s=s.sibling}}function Op(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Cc(l))}function Lp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Cc(r))}function Xr(r,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dx(r,s,l,u),s=s.sibling}function dx(r,s,l,u){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Xr(r,s,l,u),y&2048&&zc(9,s);break;case 1:Xr(r,s,l,u);break;case 3:Xr(r,s,l,u),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Cc(r)));break;case 12:if(y&2048){Xr(r,s,l,u),r=s.stateNode;try{var b=s.memoizedProps,S=b.id,z=b.onPostCommit;typeof z=="function"&&z(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(X){mt(s,s.return,X)}}else Xr(r,s,l,u);break;case 31:Xr(r,s,l,u);break;case 13:Xr(r,s,l,u);break;case 23:break;case 22:b=s.stateNode,S=s.alternate,s.memoizedState!==null?b._visibility&2?Xr(r,s,l,u):Bc(r,s):b._visibility&2?Xr(r,s,l,u):(b._visibility|=2,rl(r,s,l,u,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Op(S,s);break;case 24:Xr(r,s,l,u),y&2048&&Lp(s.alternate,s);break;default:Xr(r,s,l,u)}}function rl(r,s,l,u,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=r,S=s,z=l,X=u,oe=S.flags;switch(S.tag){case 0:case 11:case 15:rl(b,S,z,X,y),zc(8,S);break;case 23:break;case 22:var de=S.stateNode;S.memoizedState!==null?de._visibility&2?rl(b,S,z,X,y):Bc(b,S):(de._visibility|=2,rl(b,S,z,X,y)),y&&oe&2048&&Op(S.alternate,S);break;case 24:rl(b,S,z,X,y),y&&oe&2048&&Lp(S.alternate,S);break;default:rl(b,S,z,X,y)}s=s.sibling}}function Bc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,u=s,y=u.flags;switch(u.tag){case 22:Bc(l,u),y&2048&&Op(u.alternate,u);break;case 24:Bc(l,u),y&2048&&Lp(u.alternate,u);break;default:Bc(l,u)}s=s.sibling}}var qc=8192;function il(r,s,l){if(r.subtreeFlags&qc)for(r=r.child;r!==null;)hx(r,s,l),r=r.sibling}function hx(r,s,l){switch(r.tag){case 26:il(r,s,l),r.flags&qc&&r.memoizedState!==null&&g5(l,Yr,r.memoizedState,r.memoizedProps);break;case 5:il(r,s,l);break;case 3:case 4:var u=Yr;Yr=Ah(r.stateNode.containerInfo),il(r,s,l),Yr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=qc,qc=16777216,il(r,s,l),qc=u):il(r,s,l));break;default:il(r,s,l)}}function fx(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Hc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];gn=u,px(u,r)}fx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mx(r),r=r.sibling}function mx(r){switch(r.tag){case 0:case 11:case 15:Hc(r),r.flags&2048&&zs(9,r,r.return);break;case 3:Hc(r);break;case 12:Hc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,hh(r)):Hc(r);break;default:Hc(r)}}function hh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];gn=u,px(u,r)}fx(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:zs(8,s,s.return),hh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,hh(s));break;default:hh(s)}r=r.sibling}}function px(r,s){for(;gn!==null;){var l=gn;switch(l.tag){case 0:case 11:case 15:zs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,gn=u;else e:for(l=r;gn!==null;){u=gn;var y=u.sibling,b=u.return;if(sx(u),u===l){gn=null;break e}if(y!==null){y.return=b,gn=y;break e}gn=b}}}var IN={getCacheForType:function(r){var s=Cn(en),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return Cn(en).controller.signal}},kN=typeof WeakMap=="function"?WeakMap:Map,ot=0,_t=null,Ge=null,We=0,ft=0,fr=null,Fs=!1,sl=!1,Up=!1,es=0,Lt=0,Bs=0,eo=0,zp=0,mr=0,al=0,Gc=null,tr=null,Fp=!1,fh=0,gx=0,mh=1/0,ph=null,qs=null,un=0,Hs=null,ol=null,ts=0,Bp=0,qp=null,yx=null,$c=0,Hp=null;function pr(){return(ot&2)!==0&&We!==0?We&-We:R.T!==null?Yp():gd()}function vx(){if(mr===0)if((We&536870912)===0||Je){var r=Oi;Oi<<=1,(Oi&3932160)===0&&(Oi=262144),mr=r}else mr=536870912;return r=dr.current,r!==null&&(r.flags|=32),mr}function nr(r,s,l){(r===_t&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(ll(r,0),Gs(r,We,mr,!1)),Na(r,l),((ot&2)===0||r!==_t)&&(r===_t&&((ot&2)===0&&(eo|=l),Lt===4&&Gs(r,We,mr,!1)),Si(r))}function bx(r,s,l){if((ot&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&r.expiredLanes)===0||En(r,s),y=u?DN(r,s):$p(r,s,!0),b=u;do{if(y===0){sl&&!u&&Gs(r,s,0,!1);break}else{if(l=r.current.alternate,b&&!PN(l)){y=$p(r,s,!1),b=!1;continue}if(y===2){if(b=s,r.errorRecoveryDisabledLanes&b)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var z=r;y=Gc;var X=z.current.memoizedState.isDehydrated;if(X&&(ll(z,S).flags|=256),S=$p(z,S,!1),S!==2){if(Up&&!X){z.errorRecoveryDisabledLanes|=b,eo|=b,y=4;break e}b=tr,tr=y,b!==null&&(tr===null?tr=b:tr.push.apply(tr,b))}y=S}if(b=!1,y!==2)continue}}if(y===1){ll(r,0),Gs(r,s,0,!0);break}e:{switch(u=r,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Gs(u,s,mr,!Fs);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(y=fh+300-ze(),10<y)){if(Gs(u,s,mr,!Fs),Tn(u,0,!0)!==0)break e;ts=s,u.timeoutHandle=Yx(xx.bind(null,u,l,tr,ph,Fp,s,mr,eo,al,Fs,b,"Throttled",-0,0),y);break e}xx(u,l,tr,ph,Fp,s,mr,eo,al,Fs,b,null,-0,0)}}break}while(!0);Si(r)}function xx(r,s,l,u,y,b,S,z,X,oe,de,fe,le,ue){if(r.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hr},hx(s,b,fe);var we=(b&62914560)===b?fh-ze():(b&4194048)===b?gx-ze():0;if(we=y5(fe,we),we!==null){ts=b,r.cancelPendingCommit=we(Nx.bind(null,r,s,b,l,u,y,S,z,X,de,fe,null,le,ue)),Gs(r,b,S,!oe);return}}Nx(r,s,b,l,u,y,S,z,X)}function PN(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var y=l[u],b=y.getSnapshot;y=y.value;try{if(!cr(b(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gs(r,s,l,u){s&=~zp,s&=~eo,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var y=s;0<y;){var b=31-St(y),S=1<<b;u[b]=-1,y&=~S}l!==0&&ja(r,l,s)}function gh(){return(ot&6)===0?(Wc(0),!1):!0}function Gp(){if(Ge!==null){if(ft===0)var r=Ge.return;else r=Ge,Hi=Ga=null,op(r),Zo=null,jc=0,r=Ge;for(;r!==null;)Xb(r.alternate,r),r=r.return;Ge=null}}function ll(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,JN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),ts=0,Gp(),_t=r,Ge=l=Bi(r.current,null),We=s,ft=0,fr=null,Fs=!1,sl=En(r,s),Up=!1,al=mr=zp=eo=Bs=Lt=0,tr=Gc=null,Fp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var y=31-St(u),b=1<<y;s|=r[y],u&=~b}return es=s,Od(),l}function _x(r,s){Ue=null,R.H=Oc,s===Xo||s===Gd?(s=Ov(),ft=3):s===Qm?(s=Ov(),ft=4):ft=s===Tp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fr=s,Ge===null&&(Lt=1,sh(r,Sr(s,r.current)))}function wx(){var r=dr.current;return r===null?!0:(We&4194048)===We?Rr===null:(We&62914560)===We||(We&536870912)!==0?r===Rr:!1}function Tx(){var r=R.H;return R.H=Oc,r===null?Oc:r}function Ex(){var r=R.A;return R.A=IN,r}function yh(){Lt=4,Fs||(We&4194048)!==We&&dr.current!==null||(sl=!0),(Bs&134217727)===0&&(eo&134217727)===0||_t===null||Gs(_t,We,mr,!1)}function $p(r,s,l){var u=ot;ot|=2;var y=Tx(),b=Ex();(_t!==r||We!==s)&&(ph=null,ll(r,s)),s=!1;var S=Lt;e:do try{if(ft!==0&&Ge!==null){var z=Ge,X=fr;switch(ft){case 8:Gp(),S=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(s=!0);var oe=ft;if(ft=0,fr=null,cl(r,z,X,oe),l&&sl){S=0;break e}break;default:oe=ft,ft=0,fr=null,cl(r,z,X,oe)}}MN(),S=Lt;break}catch(de){_x(r,de)}while(!0);return s&&r.shellSuspendCounter++,Hi=Ga=null,ot=u,R.H=y,R.A=b,Ge===null&&(_t=null,We=0,Od()),S}function MN(){for(;Ge!==null;)Ax(Ge)}function DN(r,s){var l=ot;ot|=2;var u=Tx(),y=Ex();_t!==r||We!==s?(ph=null,mh=ze()+500,ll(r,s)):sl=En(r,s);e:do try{if(ft!==0&&Ge!==null){s=Ge;var b=fr;t:switch(ft){case 1:ft=0,fr=null,cl(r,s,b,1);break;case 2:case 9:if(Dv(b)){ft=0,fr=null,Sx(s);break}s=function(){ft!==2&&ft!==9||_t!==r||(ft=7),Si(r)},b.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Dv(b)?(ft=0,fr=null,Sx(s)):(ft=0,fr=null,cl(r,s,b,7));break;case 5:var S=null;switch(Ge.tag){case 26:S=Ge.memoizedState;case 5:case 27:var z=Ge;if(S?d2(S):z.stateNode.complete){ft=0,fr=null;var X=z.sibling;if(X!==null)Ge=X;else{var oe=z.return;oe!==null?(Ge=oe,vh(oe)):Ge=null}break t}}ft=0,fr=null,cl(r,s,b,5);break;case 6:ft=0,fr=null,cl(r,s,b,6);break;case 8:Gp(),Lt=6;break e;default:throw Error(i(462))}}VN();break}catch(de){_x(r,de)}while(!0);return Hi=Ga=null,R.H=u,R.A=y,ot=l,Ge!==null?0:(_t=null,We=0,Od(),Lt)}function VN(){for(;Ge!==null&&!_n();)Ax(Ge)}function Ax(r){var s=Qb(r.alternate,r,es);r.memoizedProps=r.pendingProps,s===null?vh(r):Ge=s}function Sx(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=qb(l,s,s.pendingProps,s.type,void 0,We);break;case 11:s=qb(l,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:op(s);default:Xb(l,s),s=Ge=Ev(s,es),s=Qb(l,s,es)}r.memoizedProps=r.pendingProps,s===null?vh(r):Ge=s}function cl(r,s,l,u){Hi=Ga=null,op(s),Zo=null,jc=0;var y=s.return;try{if(EN(r,y,s,l,We)){Lt=1,sh(r,Sr(l,r.current)),Ge=null;return}}catch(b){if(y!==null)throw Ge=y,b;Lt=1,sh(r,Sr(l,r.current)),Ge=null;return}s.flags&32768?(Je||u===1?r=!0:sl||(We&536870912)!==0?r=!1:(Fs=r=!0,(u===2||u===9||u===3||u===6)&&(u=dr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cx(s,r)):vh(s)}function vh(r){var s=r;do{if((s.flags&32768)!==0){Cx(s,Fs);return}r=s.return;var l=CN(s.alternate,s,es);if(l!==null){Ge=l;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=r}while(s!==null);Lt===0&&(Lt=5)}function Cx(r,s){do{var l=NN(r.alternate,r);if(l!==null){l.flags&=32767,Ge=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=l}while(r!==null);Lt=6,Ge=null}function Nx(r,s,l,u,y,b,S,z,X){r.cancelPendingCommit=null;do bh();while(un!==0);if((ot&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(b=s.lanes|s.childLanes,b|=Mm,Am(r,l,b,S,z,X),r===_t&&(Ge=_t=null,We=0),ol=s,Hs=r,ts=l,Bp=b,qp=y,yx=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,zN(At,function(){return Px(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=R.T,R.T=null,y=M.p,M.p=2,S=ot,ot|=4;try{jN(r,s,l)}finally{ot=S,M.p=y,R.T=u}}un=1,jx(),Rx(),Ix()}}function jx(){if(un===1){un=0;var r=Hs,s=ol,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=R.T,R.T=null;var u=M.p;M.p=2;var y=ot;ot|=4;try{cx(s,r);var b=ig,S=pv(r.containerInfo),z=b.focusedElem,X=b.selectionRange;if(S!==z&&z&&z.ownerDocument&&mv(z.ownerDocument.documentElement,z)){if(X!==null&&jm(z)){var oe=X.start,de=X.end;if(de===void 0&&(de=oe),"selectionStart"in z)z.selectionStart=oe,z.selectionEnd=Math.min(de,z.value.length);else{var fe=z.ownerDocument||document,le=fe&&fe.defaultView||window;if(le.getSelection){var ue=le.getSelection(),we=z.textContent.length,Ie=Math.min(X.start,we),xt=X.end===void 0?Ie:Math.min(X.end,we);!ue.extend&&Ie>xt&&(S=xt,xt=Ie,Ie=S);var ne=fv(z,Ie),J=fv(z,xt);if(ne&&J&&(ue.rangeCount!==1||ue.anchorNode!==ne.node||ue.anchorOffset!==ne.offset||ue.focusNode!==J.node||ue.focusOffset!==J.offset)){var ae=fe.createRange();ae.setStart(ne.node,ne.offset),ue.removeAllRanges(),Ie>xt?(ue.addRange(ae),ue.extend(J.node,J.offset)):(ae.setEnd(J.node,J.offset),ue.addRange(ae))}}}}for(fe=[],ue=z;ue=ue.parentNode;)ue.nodeType===1&&fe.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<fe.length;z++){var he=fe[z];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Ih=!!rg,ig=rg=null}finally{ot=y,M.p=u,R.T=l}}r.current=s,un=2}}function Rx(){if(un===2){un=0;var r=Hs,s=ol,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=R.T,R.T=null;var u=M.p;M.p=2;var y=ot;ot|=4;try{ix(r,s.alternate,s)}finally{ot=y,M.p=u,R.T=l}}un=3}}function Ix(){if(un===4||un===3){un=0,Et();var r=Hs,s=ol,l=ts,u=yx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?un=5:(un=0,ol=Hs=null,kx(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(qs=null),Li(l),s=s.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(qt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=R.T,y=M.p,M.p=2,R.T=null;try{for(var b=r.onRecoverableError,S=0;S<u.length;S++){var z=u[S];b(z.value,{componentStack:z.stack})}}finally{R.T=s,M.p=y}}(ts&3)!==0&&bh(),Si(r),y=r.pendingLanes,(l&261930)!==0&&(y&42)!==0?r===Hp?$c++:($c=0,Hp=r):$c=0,Wc(0)}}function kx(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Cc(s)))}function bh(){return jx(),Rx(),Ix(),Px()}function Px(){if(un!==5)return!1;var r=Hs,s=Bp;Bp=0;var l=Li(ts),u=R.T,y=M.p;try{M.p=32>l?32:l,R.T=null,l=qp,qp=null;var b=Hs,S=ts;if(un=0,ol=Hs=null,ts=0,(ot&6)!==0)throw Error(i(331));var z=ot;if(ot|=4,mx(b.current),dx(b,b.current,S,l),ot=z,Wc(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(qt,b)}catch{}return!0}finally{M.p=y,R.T=u,kx(r,s)}}function Mx(r,s,l){s=Sr(l,s),s=wp(r.stateNode,s,2),r=Os(r,s,2),r!==null&&(Na(r,2),Si(r))}function mt(r,s,l){if(r.tag===3)Mx(r,r,l);else for(;s!==null;){if(s.tag===3){Mx(s,r,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qs===null||!qs.has(u))){r=Sr(l,r),l=Db(2),u=Os(s,l,2),u!==null&&(Vb(l,u,s,r),Na(u,2),Si(u));break}}s=s.return}}function Wp(r,s,l){var u=r.pingCache;if(u===null){u=r.pingCache=new kN;var y=new Set;u.set(s,y)}else y=u.get(s),y===void 0&&(y=new Set,u.set(s,y));y.has(l)||(Up=!0,y.add(l),r=ON.bind(null,r,s,l),s.then(r,r))}function ON(r,s,l){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,_t===r&&(We&l)===l&&(Lt===4||Lt===3&&(We&62914560)===We&&300>ze()-fh?(ot&2)===0&&ll(r,0):zp|=l,al===We&&(al=0)),Si(r)}function Dx(r,s){s===0&&(s=xr()),r=Ba(r,s),r!==null&&(Na(r,s),Si(r))}function LN(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Dx(r,l)}function UN(r,s){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Dx(r,l)}function zN(r,s){return Ze(r,s)}var xh=null,ul=null,Kp=!1,_h=!1,Qp=!1,$s=0;function Si(r){r!==ul&&r.next===null&&(ul===null?xh=ul=r:ul=ul.next=r),_h=!0,Kp||(Kp=!0,BN())}function Wc(r,s){if(!Qp&&_h){Qp=!0;do for(var l=!1,u=xh;u!==null;){if(r!==0){var y=u.pendingLanes;if(y===0)var b=0;else{var S=u.suspendedLanes,z=u.pingedLanes;b=(1<<31-St(42|r)+1)-1,b&=y&~(S&~z),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Ux(u,b))}else b=We,b=Tn(u,u===_t?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||En(u,b)||(l=!0,Ux(u,b));u=u.next}while(l);Qp=!1}}function FN(){Vx()}function Vx(){_h=Kp=!1;var r=0;$s!==0&&ZN()&&(r=$s);for(var s=ze(),l=null,u=xh;u!==null;){var y=u.next,b=Ox(u,s);b===0?(u.next=null,l===null?xh=y:l.next=y,y===null&&(ul=l)):(l=u,(r!==0||(b&3)!==0)&&(_h=!0)),u=y}un!==0&&un!==5||Wc(r),$s!==0&&($s=0)}function Ox(r,s){for(var l=r.suspendedLanes,u=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var S=31-St(b),z=1<<S,X=y[S];X===-1?((z&l)===0||(z&u)!==0)&&(y[S]=No(z,s)):X<=s&&(r.expiredLanes|=z),b&=~z}if(s=_t,l=We,l=Tn(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===s&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ut(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||En(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(u!==null&&ut(u),Li(l)){case 2:case 8:l=li;break;case 32:l=At;break;case 268435456:l=Qt;break;default:l=At}return u=Lx.bind(null,r),l=Ze(l,u),r.callbackPriority=s,r.callbackNode=l,s}return u!==null&&u!==null&&ut(u),r.callbackPriority=2,r.callbackNode=null,2}function Lx(r,s){if(un!==0&&un!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(bh()&&r.callbackNode!==l)return null;var u=We;return u=Tn(r,r===_t?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(bx(r,u,s),Ox(r,ze()),r.callbackNode!=null&&r.callbackNode===l?Lx.bind(null,r):null)}function Ux(r,s){if(bh())return null;bx(r,s,!0)}function BN(){e5(function(){(ot&6)!==0?Ze(Qn,FN):Vx()})}function Yp(){if($s===0){var r=Qo;r===0&&(r=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),$s=r}return $s}function zx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mo(""+r)}function Fx(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function qN(r,s,l,u,y){if(s==="submit"&&l&&l.stateNode===y){var b=zx((y[mn]||null).action),S=u.submitter;S&&(s=(s=S[mn]||null)?zx(s.formAction):S.getAttribute("formAction"),s!==null&&(b=s,S=null));var z=new bi("action","action",null,u,y);r.push({event:z,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($s!==0){var X=S?Fx(y,S):new FormData(y);gp(l,{pending:!0,data:X,method:y.method,action:b},null,X)}}else typeof b=="function"&&(z.preventDefault(),X=S?Fx(y,S):new FormData(y),gp(l,{pending:!0,data:X,method:y.method,action:b},b,X))},currentTarget:y}]})}}for(var Xp=0;Xp<Pm.length;Xp++){var Zp=Pm[Xp],HN=Zp.toLowerCase(),GN=Zp[0].toUpperCase()+Zp.slice(1);Qr(HN,"on"+GN)}Qr(vv,"onAnimationEnd"),Qr(bv,"onAnimationIteration"),Qr(xv,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(oN,"onTransitionRun"),Qr(lN,"onTransitionStart"),Qr(cN,"onTransitionCancel"),Qr(_v,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$N=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function Bx(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],y=u.event;u=u.listeners;e:{var b=void 0;if(s)for(var S=u.length-1;0<=S;S--){var z=u[S],X=z.instance,oe=z.currentTarget;if(z=z.listener,X!==b&&y.isPropagationStopped())break e;b=z,y.currentTarget=oe;try{b(y)}catch(de){Vd(de)}y.currentTarget=null,b=X}else for(S=0;S<u.length;S++){if(z=u[S],X=z.instance,oe=z.currentTarget,z=z.listener,X!==b&&y.isPropagationStopped())break e;b=z,y.currentTarget=oe;try{b(y)}catch(de){Vd(de)}y.currentTarget=null,b=X}}}}function $e(r,s){var l=s[jo];l===void 0&&(l=s[jo]=new Set);var u=r+"__bubble";l.has(u)||(qx(s,r,2,!1),l.add(u))}function Jp(r,s,l){var u=0;s&&(u|=4),qx(l,r,u,s)}var wh="_reactListening"+Math.random().toString(36).slice(2);function eg(r){if(!r[wh]){r[wh]=!0,ac.forEach(function(l){l!=="selectionchange"&&($N.has(l)||Jp(l,!1,r),Jp(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[wh]||(s[wh]=!0,Jp("selectionchange",!1,s))}}function qx(r,s,l,u){switch(v2(s)){case 2:var y=x5;break;case 8:y=_5;break;default:y=pg}l=y.bind(null,s,l,r),y=void 0,!Ma||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),u?y!==void 0?r.addEventListener(s,l,{capture:!0,passive:y}):r.addEventListener(s,l,!0):y!==void 0?r.addEventListener(s,l,{passive:y}):r.addEventListener(s,l,!1)}function tg(r,s,l,u,y){var b=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var z=u.stateNode.containerInfo;if(z===y)break;if(S===4)for(S=u.return;S!==null;){var X=S.tag;if((X===3||X===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;z!==null;){if(S=hi(z),S===null)return;if(X=S.tag,X===5||X===6||X===26||X===27){u=b=S;continue e}z=z.parentNode}}u=u.return}Cs(function(){var oe=b,de=wr(l),fe=[];e:{var le=wv.get(r);if(le!==void 0){var ue=bi,we=r;switch(r){case"keypress":if(Va(l)===0)break e;case"keydown":case"keyup":ue=Pd;break;case"focusin":we="focus",ue=La;break;case"focusout":we="blur",ue=La;break;case"beforeblur":case"afterblur":ue=La;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=T;break;case vv:case bv:case xv:ue=Sd;break;case _v:ue=H;break;case"scroll":case"scrollend":ue=vc;break;case"wheel":ue=ce;break;case"copy":case"cut":case"paste":ue=Cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Fi;break;case"toggle":case"beforetoggle":ue=Le}var Ie=(s&4)!==0,xt=!Ie&&(r==="scroll"||r==="scrollend"),ne=Ie?le!==null?le+"Capture":null:le;Ie=[];for(var J=oe,ae;J!==null;){var he=J;if(ae=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ae===null||ne===null||(he=Gr(J,ne),he!=null&&Ie.push(Qc(J,he,ae))),xt)break;J=J.return}0<Ie.length&&(le=new ue(le,we,null,l,de),fe.push({event:le,listeners:Ie}))}}if((s&7)===0){e:{if(le=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",le&&l!==pc&&(we=l.relatedTarget||l.fromElement)&&(hi(we)||we[ui]))break e;if((ue||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(we=l.relatedTarget||l.toElement,ue=oe,we=we?hi(we):null,we!==null&&(xt=o(we),Ie=we.tag,we!==xt||Ie!==5&&Ie!==27&&Ie!==6)&&(we=null)):(ue=null,we=oe),ue!==we)){if(Ie=bc,he="onMouseLeave",ne="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=Fi,he="onPointerLeave",ne="onPointerEnter",J="pointer"),xt=ue==null?le:or(ue),ae=we==null?le:or(we),le=new Ie(he,J+"leave",ue,l,de),le.target=xt,le.relatedTarget=ae,he=null,hi(de)===oe&&(Ie=new Ie(ne,J+"enter",we,l,de),Ie.target=ae,Ie.relatedTarget=xt,he=Ie),xt=he,ue&&we)t:{for(Ie=WN,ne=ue,J=we,ae=0,he=ne;he;he=Ie(he))ae++;he=0;for(var je=J;je;je=Ie(je))he++;for(;0<ae-he;)ne=Ie(ne),ae--;for(;0<he-ae;)J=Ie(J),he--;for(;ae--;){if(ne===J||J!==null&&ne===J.alternate){Ie=ne;break t}ne=Ie(ne),J=Ie(J)}Ie=null}else Ie=null;ue!==null&&Hx(fe,le,ue,Ie,!1),we!==null&&xt!==null&&Hx(fe,xt,we,Ie,!0)}}e:{if(le=oe?or(oe):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var nt=ov;else if(sv(le))if(lv)nt=iN;else{nt=nN;var Se=tN}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?oe&&Po(oe.elementType)&&(nt=ov):nt=rN;if(nt&&(nt=nt(r,oe))){av(fe,nt,l,de);break e}Se&&Se(r,le,oe),r==="focusout"&&oe&&le.type==="number"&&oe.memoizedProps.value!=null&&hc(le,"number",le.value)}switch(Se=oe?or(oe):window,r){case"focusin":(sv(Se)||Se.contentEditable==="true")&&(Fo=Se,Rm=oe,Ec=null);break;case"focusout":Ec=Rm=Fo=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,gv(fe,l,de);break;case"selectionchange":if(aN)break;case"keydown":case"keyup":gv(fe,l,de)}var Fe;if(at)e:{switch(r){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else zo?Ua(r,l)&&(Ke="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(wi&&l.locale!=="ko"&&(zo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&zo&&(Fe=yc()):(vi=de,gc="value"in vi?vi.value:vi.textContent,zo=!0)),Se=Th(oe,Ke),0<Se.length&&(Ke=new _i(Ke,r,null,l,de),fe.push({event:Ke,listeners:Se}),Fe?Ke.data=Fe:(Fe=Uo(l),Fe!==null&&(Ke.data=Fe)))),(Fe=Er?X4(r,l):Z4(r,l))&&(Ke=Th(oe,"onBeforeInput"),0<Ke.length&&(Se=new _i("onBeforeInput","beforeinput",null,l,de),fe.push({event:Se,listeners:Ke}),Se.data=Fe)),qN(fe,r,oe,l,de)}Bx(fe,s)})}function Qc(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Th(r,s){for(var l=s+"Capture",u=[];r!==null;){var y=r,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Gr(r,l),y!=null&&u.unshift(Qc(r,y,b)),y=Gr(r,s),y!=null&&u.push(Qc(r,y,b))),r.tag===3)return u;r=r.return}return[]}function WN(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Hx(r,s,l,u,y){for(var b=s._reactName,S=[];l!==null&&l!==u;){var z=l,X=z.alternate,oe=z.stateNode;if(z=z.tag,X!==null&&X===u)break;z!==5&&z!==26&&z!==27||oe===null||(X=oe,y?(oe=Gr(l,b),oe!=null&&S.unshift(Qc(l,oe,X))):y||(oe=Gr(l,b),oe!=null&&S.push(Qc(l,oe,X)))),l=l.return}S.length!==0&&r.push({event:s,listeners:S})}var KN=/\r\n?/g,QN=/\u0000|\uFFFD/g;function Gx(r){return(typeof r=="string"?r:""+r).replace(KN,`
`).replace(QN,"")}function $x(r,s){return s=Gx(s),Gx(r)===s}function bt(r,s,l,u,y,b){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Xn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Xn(r,""+u);break;case"className":lr(r,"class",u);break;case"tabIndex":lr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(r,l,u);break;case"style":mc(r,u,b);break;case"data":if(s!=="object"){lr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Mo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&bt(r,s,"name",y.name,y,null),bt(r,s,"formEncType",y.formEncType,y,null),bt(r,s,"formMethod",y.formMethod,y,null),bt(r,s,"formTarget",y.formTarget,y,null)):(bt(r,s,"encType",y.encType,y,null),bt(r,s,"method",y.method,y,null),bt(r,s,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Mo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=Hr);break;case"onScroll":u!=null&&$e("scroll",r);break;case"onScrollEnd":u!=null&&$e("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Mo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":$e("beforetoggle",r),$e("toggle",r),Io(r,"popover",u);break;case"xlinkActuate":Jt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Jt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Jt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Jt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Jt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Jt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Io(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Td.get(l)||l,Io(r,l,u))}}function ng(r,s,l,u,y,b){switch(l){case"style":mc(r,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Xn(r,u):(typeof u=="number"||typeof u=="bigint")&&Xn(r,""+u);break;case"onScroll":u!=null&&$e("scroll",r);break;case"onScrollEnd":u!=null&&$e("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),b=r[mn]||null,b=b!=null?b[l]:null,typeof b=="function"&&r.removeEventListener(s,b,y),typeof u=="function")){typeof b!="function"&&b!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,u,y);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Io(r,l,u)}}}function jn(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",r),$e("load",r);var u=!1,y=!1,b;for(b in l)if(l.hasOwnProperty(b)){var S=l[b];if(S!=null)switch(b){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(r,s,b,S,l,null)}}y&&bt(r,s,"srcSet",l.srcSet,l,null),u&&bt(r,s,"src",l.src,l,null);return;case"input":$e("invalid",r);var z=b=S=y=null,X=null,oe=null;for(u in l)if(l.hasOwnProperty(u)){var de=l[u];if(de!=null)switch(u){case"name":y=de;break;case"type":S=de;break;case"checked":X=de;break;case"defaultChecked":oe=de;break;case"value":b=de;break;case"defaultValue":z=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:bt(r,s,u,de,l,null)}}xd(r,b,z,X,oe,S,y,!1);return;case"select":$e("invalid",r),u=S=b=null;for(y in l)if(l.hasOwnProperty(y)&&(z=l[y],z!=null))switch(y){case"value":b=z;break;case"defaultValue":S=z;break;case"multiple":u=z;default:bt(r,s,y,z,l,null)}s=b,l=S,r.multiple=!!u,s!=null?Ts(r,!!u,s,!1):l!=null&&Ts(r,!!u,l,!0);return;case"textarea":$e("invalid",r),b=y=u=null;for(S in l)if(l.hasOwnProperty(S)&&(z=l[S],z!=null))switch(S){case"value":u=z;break;case"defaultValue":y=z;break;case"children":b=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:bt(r,s,S,z,l,null)}Es(r,u,y,b);return;case"option":for(X in l)if(l.hasOwnProperty(X)&&(u=l[X],u!=null))switch(X){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:bt(r,s,X,u,l,null)}return;case"dialog":$e("beforetoggle",r),$e("toggle",r),$e("cancel",r),$e("close",r);break;case"iframe":case"object":$e("load",r);break;case"video":case"audio":for(u=0;u<Kc.length;u++)$e(Kc[u],r);break;case"image":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"embed":case"source":case"link":$e("error",r),$e("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in l)if(l.hasOwnProperty(oe)&&(u=l[oe],u!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(r,s,oe,u,l,null)}return;default:if(Po(s)){for(de in l)l.hasOwnProperty(de)&&(u=l[de],u!==void 0&&ng(r,s,de,u,l,void 0));return}}for(z in l)l.hasOwnProperty(z)&&(u=l[z],u!=null&&bt(r,s,z,u,l,null))}function YN(r,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,S=null,z=null,X=null,oe=null,de=null;for(ue in l){var fe=l[ue];if(l.hasOwnProperty(ue)&&fe!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":X=fe;default:u.hasOwnProperty(ue)||bt(r,s,ue,null,u,fe)}}for(var le in u){var ue=u[le];if(fe=l[le],u.hasOwnProperty(le)&&(ue!=null||fe!=null))switch(le){case"type":b=ue;break;case"name":y=ue;break;case"checked":oe=ue;break;case"defaultChecked":de=ue;break;case"value":S=ue;break;case"defaultValue":z=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:ue!==fe&&bt(r,s,le,ue,u,fe)}}ko(r,S,z,X,oe,de,b,y);return;case"select":ue=S=z=le=null;for(b in l)if(X=l[b],l.hasOwnProperty(b)&&X!=null)switch(b){case"value":break;case"multiple":ue=X;default:u.hasOwnProperty(b)||bt(r,s,b,null,u,X)}for(y in u)if(b=u[y],X=l[y],u.hasOwnProperty(y)&&(b!=null||X!=null))switch(y){case"value":le=b;break;case"defaultValue":z=b;break;case"multiple":S=b;default:b!==X&&bt(r,s,y,b,u,X)}s=z,l=S,u=ue,le!=null?Ts(r,!!l,le,!1):!!u!=!!l&&(s!=null?Ts(r,!!l,s,!0):Ts(r,!!l,l?[]:"",!1));return;case"textarea":ue=le=null;for(z in l)if(y=l[z],l.hasOwnProperty(z)&&y!=null&&!u.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:bt(r,s,z,null,u,y)}for(S in u)if(y=u[S],b=l[S],u.hasOwnProperty(S)&&(y!=null||b!=null))switch(S){case"value":le=y;break;case"defaultValue":ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&bt(r,s,S,y,u,b)}_d(r,le,ue);return;case"option":for(var we in l)if(le=l[we],l.hasOwnProperty(we)&&le!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:bt(r,s,we,null,u,le)}for(X in u)if(le=u[X],ue=l[X],u.hasOwnProperty(X)&&le!==ue&&(le!=null||ue!=null))switch(X){case"selected":r.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:bt(r,s,X,le,u,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)le=l[Ie],l.hasOwnProperty(Ie)&&le!=null&&!u.hasOwnProperty(Ie)&&bt(r,s,Ie,null,u,le);for(oe in u)if(le=u[oe],ue=l[oe],u.hasOwnProperty(oe)&&le!==ue&&(le!=null||ue!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:bt(r,s,oe,le,u,ue)}return;default:if(Po(s)){for(var xt in l)le=l[xt],l.hasOwnProperty(xt)&&le!==void 0&&!u.hasOwnProperty(xt)&&ng(r,s,xt,void 0,u,le);for(de in u)le=u[de],ue=l[de],!u.hasOwnProperty(de)||le===ue||le===void 0&&ue===void 0||ng(r,s,de,le,u,ue);return}}for(var ne in l)le=l[ne],l.hasOwnProperty(ne)&&le!=null&&!u.hasOwnProperty(ne)&&bt(r,s,ne,null,u,le);for(fe in u)le=u[fe],ue=l[fe],!u.hasOwnProperty(fe)||le===ue||le==null&&ue==null||bt(r,s,fe,le,u,ue)}function Wx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var y=l[u],b=y.transferSize,S=y.initiatorType,z=y.duration;if(b&&z&&Wx(S)){for(S=0,z=y.responseEnd,u+=1;u<l.length;u++){var X=l[u],oe=X.startTime;if(oe>z)break;var de=X.transferSize,fe=X.initiatorType;de&&Wx(fe)&&(X=X.responseEnd,S+=de*(X<z?1:(z-oe)/(X-oe)))}if(--u,s+=8*(b+S)/(y.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var rg=null,ig=null;function Eh(r){return r.nodeType===9?r:r.ownerDocument}function Kx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qx(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function sg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ag=null;function ZN(){var r=window.event;return r&&r.type==="popstate"?r===ag?!1:(ag=r,!0):(ag=null,!1)}var Yx=typeof setTimeout=="function"?setTimeout:void 0,JN=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,e5=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(r){return Xx.resolve(null).then(r).catch(t5)}:Yx;function t5(r){setTimeout(function(){throw r})}function Ws(r){return r==="head"}function Zx(r,s){var l=s,u=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(y),ml(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Yc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Yc(l);for(var b=l.firstChild;b;){var S=b.nextSibling,z=b.nodeName;b[di]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=S}}else l==="body"&&Yc(r.ownerDocument.body);l=y}while(l);ml(s)}function Jx(r,s){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function og(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":og(l),Ro(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function n5(r,s,l,u){for(;r.nodeType===1;){var y=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[di])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=Ir(r.nextSibling),r===null)break}return null}function r5(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ir(r.nextSibling),r===null))return null;return r}function e2(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Ir(r.nextSibling),r===null))return null;return r}function lg(r){return r.data==="$?"||r.data==="$~"}function cg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function i5(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Ir(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var ug=null;function t2(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return Ir(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function n2(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function r2(r,s,l){switch(s=Eh(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Yc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ro(r)}var kr=new Map,i2=new Set;function Ah(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ns=M.d;M.d={f:s5,r:a5,D:o5,C:l5,L:c5,m:u5,X:h5,S:d5,M:f5};function s5(){var r=ns.f(),s=gh();return r||s}function a5(r){var s=_r(r);s!==null&&s.tag===5&&s.type==="form"?_b(s):ns.r(r)}var dl=typeof document>"u"?null:document;function s2(r,s,l){var u=dl;if(u&&typeof s=="string"&&s){var y=Yn(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),i2.has(y)||(i2.add(y),r={rel:r,crossOrigin:l,href:s},u.querySelector(y)===null&&(s=u.createElement("link"),jn(s,"link",r),Zt(s),u.head.appendChild(s)))}}function o5(r){ns.D(r),s2("dns-prefetch",r,null)}function l5(r,s){ns.C(r,s),s2("preconnect",r,s)}function c5(r,s,l){ns.L(r,s,l);var u=dl;if(u&&r&&s){var y='link[rel="preload"][as="'+Yn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Yn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Yn(l.imageSizes)+'"]')):y+='[href="'+Yn(r)+'"]';var b=y;switch(s){case"style":b=hl(r);break;case"script":b=fl(r)}kr.has(b)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),kr.set(b,r),u.querySelector(y)!==null||s==="style"&&u.querySelector(Xc(b))||s==="script"&&u.querySelector(Zc(b))||(s=u.createElement("link"),jn(s,"link",r),Zt(s),u.head.appendChild(s)))}}function u5(r,s){ns.m(r,s);var l=dl;if(l&&r){var u=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Yn(u)+'"][href="'+Yn(r)+'"]',b=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=fl(r)}if(!kr.has(b)&&(r=v({rel:"modulepreload",href:r},s),kr.set(b,r),l.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zc(b)))return}u=l.createElement("link"),jn(u,"link",r),Zt(u),l.head.appendChild(u)}}}function d5(r,s,l){ns.S(r,s,l);var u=dl;if(u&&r){var y=fi(u).hoistableStyles,b=hl(r);s=s||"default";var S=y.get(b);if(!S){var z={loading:0,preload:null};if(S=u.querySelector(Xc(b)))z.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=kr.get(b))&&dg(r,l);var X=S=u.createElement("link");Zt(X),jn(X,"link",r),X._p=new Promise(function(oe,de){X.onload=oe,X.onerror=de}),X.addEventListener("load",function(){z.loading|=1}),X.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Sh(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:z},y.set(b,S)}}}function h5(r,s){ns.X(r,s);var l=dl;if(l&&r){var u=fi(l).hoistableScripts,y=fl(r),b=u.get(y);b||(b=l.querySelector(Zc(y)),b||(r=v({src:r,async:!0},s),(s=kr.get(y))&&hg(r,s),b=l.createElement("script"),Zt(b),jn(b,"link",r),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(y,b))}}function f5(r,s){ns.M(r,s);var l=dl;if(l&&r){var u=fi(l).hoistableScripts,y=fl(r),b=u.get(y);b||(b=l.querySelector(Zc(y)),b||(r=v({src:r,async:!0,type:"module"},s),(s=kr.get(y))&&hg(r,s),b=l.createElement("script"),Zt(b),jn(b,"link",r),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(y,b))}}function a2(r,s,l,u){var y=(y=ge.current)?Ah(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=hl(l.href),l=fi(y).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=hl(l.href);var b=fi(y).hoistableStyles,S=b.get(r);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,S),(b=y.querySelector(Xc(r)))&&!b._p&&(S.instance=b,S.state.loading=5),kr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},kr.set(r,l),b||m5(y,r,l,S.state))),s&&u===null)throw Error(i(528,""));return S}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fl(l),l=fi(y).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function hl(r){return'href="'+Yn(r)+'"'}function Xc(r){return'link[rel="stylesheet"]['+r+"]"}function o2(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function m5(r,s,l,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),jn(s,"link",l),Zt(s),r.head.appendChild(s))}function fl(r){return'[src="'+Yn(r)+'"]'}function Zc(r){return"script[async]"+r}function l2(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Yn(l.href)+'"]');if(u)return s.instance=u,Zt(u),u;var y=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Zt(u),jn(u,"style",y),Sh(u,l.precedence,r),s.instance=u;case"stylesheet":y=hl(l.href);var b=r.querySelector(Xc(y));if(b)return s.state.loading|=4,s.instance=b,Zt(b),b;u=o2(l),(y=kr.get(y))&&dg(u,y),b=(r.ownerDocument||r).createElement("link"),Zt(b);var S=b;return S._p=new Promise(function(z,X){S.onload=z,S.onerror=X}),jn(b,"link",u),s.state.loading|=4,Sh(b,l.precedence,r),s.instance=b;case"script":return b=fl(l.src),(y=r.querySelector(Zc(b)))?(s.instance=y,Zt(y),y):(u=l,(y=kr.get(b))&&(u=v({},l),hg(u,y)),r=r.ownerDocument||r,y=r.createElement("script"),Zt(y),jn(y,"link",u),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Sh(u,l.precedence,r));return s.instance}function Sh(r,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,b=y,S=0;S<u.length;S++){var z=u[S];if(z.dataset.precedence===s)b=z;else if(b!==y)break}b?b.parentNode.insertBefore(r,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function dg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function hg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ch=null;function c2(r,s,l){if(Ch===null){var u=new Map,y=Ch=new Map;y.set(l,u)}else y=Ch,u=y.get(l),u||(u=new Map,y.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),y=0;y<l.length;y++){var b=l[y];if(!(b[di]||b[Xt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(s)||"";S=r+S;var z=u.get(S);z?z.push(b):u.set(S,[b])}}return u}function u2(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function p5(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function d2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function g5(r,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=hl(u.href),b=s.querySelector(Xc(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Nh.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=b,Zt(b);return}b=s.ownerDocument||s,u=o2(u),(y=kr.get(y))&&dg(u,y),b=b.createElement("link"),Zt(b);var S=b;S._p=new Promise(function(z,X){S.onload=z,S.onerror=X}),jn(b,"link",u),l.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Nh.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var fg=0;function y5(r,s){return r.stylesheets&&r.count===0&&Rh(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&Rh(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+s);0<r.imgBytes&&fg===0&&(fg=62500*XN());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Rh(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>fg?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(y)}}:null}function Nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var jh=null;function Rh(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,jh=new Map,s.forEach(v5,r),jh=null,Nh.call(r))}function v5(r,s){if(!(s.state.loading&4)){var l=jh.get(r);if(l)var u=l.get(null);else{l=new Map,jh.set(r,l);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var S=y[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}y=s.instance,S=y.getAttribute("data-precedence"),b=l.get(S)||u,b===u&&l.set(null,y),l.set(S,y),this.count++,u=Nh.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),b?b.parentNode.insertBefore(y,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var Jc={$$typeof:B,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function b5(r,s,l,u,y,b,S,z,X){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fn(0),this.hiddenUpdates=fn(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function h2(r,s,l,u,y,b,S,z,X,oe,de,fe){return r=new b5(r,s,l,S,X,oe,de,fe,z),s=1,b===!0&&(s|=24),b=ur(3,null,null,s),r.current=b,b.stateNode=r,s=$m(),s.refCount++,r.pooledCache=s,s.refCount++,b.memoizedState={element:u,isDehydrated:l,cache:s},Ym(b),r}function f2(r){return r?(r=Ho,r):Ho}function m2(r,s,l,u,y,b){y=f2(y),u.context===null?u.context=y:u.pendingContext=y,u=Vs(s),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Os(r,u,s),l!==null&&(nr(l,r,s),Ic(l,r,s))}function p2(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function mg(r,s){p2(r,s),(r=r.alternate)&&p2(r,s)}function g2(r){if(r.tag===13||r.tag===31){var s=Ba(r,67108864);s!==null&&nr(s,r,67108864),mg(r,67108864)}}function y2(r){if(r.tag===13||r.tag===31){var s=pr();s=Ra(s);var l=Ba(r,s);l!==null&&nr(l,r,s),mg(r,s)}}var Ih=!0;function x5(r,s,l,u){var y=R.T;R.T=null;var b=M.p;try{M.p=2,pg(r,s,l,u)}finally{M.p=b,R.T=y}}function _5(r,s,l,u){var y=R.T;R.T=null;var b=M.p;try{M.p=8,pg(r,s,l,u)}finally{M.p=b,R.T=y}}function pg(r,s,l,u){if(Ih){var y=gg(u);if(y===null)tg(r,s,u,kh,l),b2(r,u);else if(T5(y,r,s,l,u))u.stopPropagation();else if(b2(r,u),s&4&&-1<w5.indexOf(r)){for(;y!==null;){var b=_r(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=cn(b.pendingLanes);if(S!==0){var z=b;for(z.pendingLanes|=2,z.entangledLanes|=2;S;){var X=1<<31-St(S);z.entanglements[1]|=X,S&=~X}Si(b),(ot&6)===0&&(mh=ze()+500,Wc(0))}}break;case 31:case 13:z=Ba(b,2),z!==null&&nr(z,b,2),gh(),mg(b,2)}if(b=gg(u),b===null&&tg(r,s,u,kh,l),b===y)break;y=b}y!==null&&u.stopPropagation()}else tg(r,s,u,null,l)}}function gg(r){return r=wr(r),yg(r)}var kh=null;function yg(r){if(kh=null,r=hi(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=c(s),r!==null)return r;r=null}else if(l===31){if(r=h(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return kh=r,null}function v2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case Qn:return 2;case li:return 8;case At:case Fr:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var vg=!1,Ks=null,Qs=null,Ys=null,eu=new Map,tu=new Map,Xs=[],w5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b2(r,s){switch(r){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":eu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(s.pointerId)}}function nu(r,s,l,u,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:b,targetContainers:[y]},s!==null&&(s=_r(s),s!==null&&g2(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function T5(r,s,l,u,y){switch(s){case"focusin":return Ks=nu(Ks,r,s,l,u,y),!0;case"dragenter":return Qs=nu(Qs,r,s,l,u,y),!0;case"mouseover":return Ys=nu(Ys,r,s,l,u,y),!0;case"pointerover":var b=y.pointerId;return eu.set(b,nu(eu.get(b)||null,r,s,l,u,y)),!0;case"gotpointercapture":return b=y.pointerId,tu.set(b,nu(tu.get(b)||null,r,s,l,u,y)),!0}return!1}function x2(r){var s=hi(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){r.blockedOn=s,Br(r.priority,function(){y2(l)});return}}else if(s===31){if(s=h(l),s!==null){r.blockedOn=s,Br(r.priority,function(){y2(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ph(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=gg(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);pc=u,l.target.dispatchEvent(u),pc=null}else return s=_r(l),s!==null&&g2(s),r.blockedOn=l,!1;s.shift()}return!0}function _2(r,s,l){Ph(r)&&l.delete(s)}function E5(){vg=!1,Ks!==null&&Ph(Ks)&&(Ks=null),Qs!==null&&Ph(Qs)&&(Qs=null),Ys!==null&&Ph(Ys)&&(Ys=null),eu.forEach(_2),tu.forEach(_2)}function Mh(r,s){r.blockedOn===s&&(r.blockedOn=null,vg||(vg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,E5)))}var Dh=null;function w2(r){Dh!==r&&(Dh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dh===r&&(Dh=null);for(var s=0;s<r.length;s+=3){var l=r[s],u=r[s+1],y=r[s+2];if(typeof u!="function"){if(yg(u||l)===null)continue;break}var b=_r(l);b!==null&&(r.splice(s,3),s-=3,gp(b,{pending:!0,data:y,method:l.method,action:u},u,y))}}))}function ml(r){function s(X){return Mh(X,r)}Ks!==null&&Mh(Ks,r),Qs!==null&&Mh(Qs,r),Ys!==null&&Mh(Ys,r),eu.forEach(s),tu.forEach(s);for(var l=0;l<Xs.length;l++){var u=Xs[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Xs.length&&(l=Xs[0],l.blockedOn===null);)x2(l),l.blockedOn===null&&Xs.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var y=l[u],b=l[u+1],S=y[mn]||null;if(typeof b=="function")S||w2(l);else if(S){var z=null;if(b&&b.hasAttribute("formAction")){if(y=b,S=b[mn]||null)z=S.formAction;else if(yg(y)!==null)continue}else z=S.action;typeof z=="function"?l[u+1]=z:(l.splice(u,3),u-=3),w2(l)}}}function T2(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(S){return y=S})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function bg(r){this._internalRoot=r}Vh.prototype.render=bg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=pr();m2(l,u,r,s,null,null)},Vh.prototype.unmount=bg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;m2(r.current,2,null,r,null,null),gh(),s[ui]=null}};function Vh(r){this._internalRoot=r}Vh.prototype.unstable_scheduleHydration=function(r){if(r){var s=gd();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Xs.length&&s!==0&&s<Xs[l].priority;l++);Xs.splice(l,0,r),l===0&&x2(r)}};var E2=e.version;if(E2!=="19.2.0")throw Error(i(527,E2,"19.2.0"));M.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var A5={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{qt=Oh.inject(A5),gt=Oh}catch{}}return iu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,u="",y=Ib,b=kb,S=Pb;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=h2(r,1,!1,null,null,l,u,null,y,b,S,T2),r[ui]=s.current,eg(r),new bg(s)},iu.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var u=!1,y="",b=Ib,S=kb,z=Pb,X=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.formState!==void 0&&(X=l.formState)),s=h2(r,1,!0,s,l??null,u,y,X,b,S,z,T2),s.context=f2(null),l=s.current,u=pr(),u=Ra(u),y=Vs(u),y.callback=null,Os(l,y,u),l=u,s.current.lanes=l,Na(s,l),Si(s),r[ui]=s.current,eg(r),new Vh(s)},iu.version="19.2.0",iu}var M2;function D5(){if(M2)return _g.exports;M2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=M5(),_g.exports}var V5=D5(),q=wy();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D2="popstate";function O5(t={}){function e(i,a){let{pathname:o,search:c,hash:h}=i.location;return c0("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Cu(a)}return U5(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L5(){return Math.random().toString(36).substring(2,10)}function V2(t,e){return{usr:t.state,key:t.key,idx:e}}function c0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Hl(e):e,state:n,key:e&&e.key||i||L5()}}function Cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function U5(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",f=null,g=p();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function p(){return(c.state||{idx:null}).idx}function v(){h="POP";let I=p(),N=I==null?null:I-g;g=I,f&&f({action:h,location:L.location,delta:N})}function x(I,N){h="PUSH";let U=c0(L.location,I,N);g=p()+1;let B=V2(U,g),$=L.createHref(U);try{c.pushState(B,"",$)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign($)}o&&f&&f({action:h,location:L.location,delta:1})}function _(I,N){h="REPLACE";let U=c0(L.location,I,N);g=p();let B=V2(U,g),$=L.createHref(U);c.replaceState(B,"",$),o&&f&&f({action:h,location:L.location,delta:0})}function C(I){return z5(I)}let L={get action(){return h},get location(){return t(a,c)},listen(I){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(D2,v),f=I,()=>{a.removeEventListener(D2,v),f=null}},createHref(I){return e(a,I)},createURL:C,encodeLocation(I){let N=C(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:_,go(I){return c.go(I)}};return L}function z5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Cu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function qT(t,e,n="/"){return F5(t,e,n,!1)}function F5(t,e,n,i){let a=typeof e=="string"?Hl(e):e,o=hs(a.pathname||"/",n);if(o==null)return null;let c=HT(t);B5(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=J5(o);h=X5(c[f],g,i)}return h}function HT(t,e=[],n=[],i="",a=!1){let o=(c,h,f=a,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;Dt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let v=ls([i,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(Dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),HT(c.children,e,x,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:Q5(v,c.index),routesMeta:x})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of GT(c.path))o(c,h,!0,f)}),e}function GT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=GT(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function B5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y5(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var q5=/^:[\w-]+$/,H5=3,G5=2,$5=1,W5=10,K5=-2,O2=t=>t==="*";function Q5(t,e){let n=t.split("/"),i=n.length;return n.some(O2)&&(i+=K5),e&&(i+=G5),n.filter(a=>!O2(a)).reduce((a,o)=>a+(q5.test(o)?H5:o===""?$5:W5),i)}function Y5(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function X5(t,e,n=!1){let{routesMeta:i}=t,a={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",v=yf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},p),x=f.route;if(!v&&g&&n&&!i[i.length-1].route.index&&(v=yf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:ls([o,v.pathname]),pathnameBase:i3(ls([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ls([o,v.pathnameBase]))}return c}function yf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Z5(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:p,isOptional:v},x)=>{if(p==="*"){let C=h[x]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const _=h[x];return v&&!_?g[p]=void 0:g[p]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function Z5(t,e=!1,n=!0){si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function J5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var e3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t3=t=>e3.test(t);function n3(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Hl(t):t,o;if(n)if(t3(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=L2(n.substring(1),"/"):o=L2(n,e)}else o=e;return{pathname:o,search:s3(i),hash:a3(a)}}function L2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Sg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $T(t){let e=r3(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function WT(t,e,n,i=!1){let a;typeof t=="string"?a=Hl(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),Sg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),Sg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),Sg("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}h=v>=0?e[v]:"/"}let f=n3(a,h),g=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||p)&&(f.pathname+="/"),f}var ls=t=>t.join("/").replace(/\/\/+/g,"/"),i3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function l3(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KT=["POST","PUT","PATCH","DELETE"];new Set(KT);var c3=["GET",...KT];new Set(c3);var Gl=q.createContext(null);Gl.displayName="DataRouter";var Qf=q.createContext(null);Qf.displayName="DataRouterState";q.createContext(!1);var QT=q.createContext({isTransitioning:!1});QT.displayName="ViewTransition";var u3=q.createContext(new Map);u3.displayName="Fetchers";var d3=q.createContext(null);d3.displayName="Await";var oi=q.createContext(null);oi.displayName="Navigation";var Hu=q.createContext(null);Hu.displayName="Location";var bs=q.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var Ty=q.createContext(null);Ty.displayName="RouteError";function h3(t,{relative:e}={}){Dt(Gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=q.useContext(oi),{hash:a,pathname:o,search:c}=$u(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:ls([n,o])),i.createHref({pathname:h,search:c,hash:a})}function Gu(){return q.useContext(Hu)!=null}function wa(){return Dt(Gu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Hu).location}var YT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XT(t){q.useContext(oi).static||q.useLayoutEffect(t)}function ZT(){let{isDataRoute:t}=q.useContext(bs);return t?A3():f3()}function f3(){Dt(Gu(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(Gl),{basename:e,navigator:n}=q.useContext(oi),{matches:i}=q.useContext(bs),{pathname:a}=wa(),o=JSON.stringify($T(i)),c=q.useRef(!1);return XT(()=>{c.current=!0}),q.useCallback((f,g={})=>{if(si(c.current,YT),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=WT(f,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ls([e,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[e,n,o,a,t])}q.createContext(null);function $u(t,{relative:e}={}){let{matches:n}=q.useContext(bs),{pathname:i}=wa(),a=JSON.stringify($T(n));return q.useMemo(()=>WT(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function m3(t,e){return JT(t,e)}function JT(t,e,n,i,a){Dt(Gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(oi),{matches:c}=q.useContext(bs),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";eE(g,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let x=wa(),_;if(e){let U=typeof e=="string"?Hl(e):e;Dt(p==="/"||U.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),_=U}else _=x;let C=_.pathname||"/",L=C;if(p!=="/"){let U=p.replace(/^\//,"").split("/");L="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let I=qT(t,{pathname:L});si(v||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),si(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=b3(I&&I.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:ls([p,o.encodeLocation?o.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:ls([p,o.encodeLocation?o.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),c,n,i,a);return e&&N?q.createElement(Hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},N):N}function p3(){let t=E3(),e=o3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:a},n):null,c)}var g3=q.createElement(p3,null),y3=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?q.createElement(bs.Provider,{value:this.props.routeContext},q.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v3({routeContext:t,match:e,children:n}){let i=q.useContext(Gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(bs.Provider,{value:t},n)}function b3(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let p=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let v=o[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=p),v.route.id){let{loaderData:x,errors:_}=n,C=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||C){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let g=n&&i?(p,v)=>{i(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:l3(n.matches),errorInfo:v})}:void 0;return o.reduceRight((p,v,x)=>{let _,C=!1,L=null,I=null;n&&(_=c&&v.route.id?c[v.route.id]:void 0,L=v.route.errorElement||g3,h&&(f<0&&x===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,I=null):f===x&&(C=!0,I=v.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,x+1)),U=()=>{let B;return _?B=L:C?B=I:v.route.Component?B=q.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=p,q.createElement(v3,{match:v,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:B})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?q.createElement(y3,{location:n.location,revalidation:n.revalidation,component:L,error:_,children:U(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:g}):U()},null)}function Ey(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x3(t){let e=q.useContext(Gl);return Dt(e,Ey(t)),e}function _3(t){let e=q.useContext(Qf);return Dt(e,Ey(t)),e}function w3(t){let e=q.useContext(bs);return Dt(e,Ey(t)),e}function Ay(t){let e=w3(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function T3(){return Ay("useRouteId")}function E3(){let t=q.useContext(Ty),e=_3("useRouteError"),n=Ay("useRouteError");return t!==void 0?t:e.errors?.[n]}function A3(){let{router:t}=x3("useNavigate"),e=Ay("useNavigate"),n=q.useRef(!1);return XT(()=>{n.current=!0}),q.useCallback(async(a,o={})=>{si(n.current,YT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var U2={};function eE(t,e,n){!e&&!U2[t]&&(U2[t]=!0,si(!1,n))}q.memo(S3);function S3({routes:t,future:e,state:n,unstable_onError:i}){return JT(t,void 0,n,i,e)}function ro(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C3({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Dt(!Gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[h,a,o,c]);typeof n=="string"&&(n=Hl(n));let{pathname:g="/",search:p="",hash:v="",state:x=null,key:_="default"}=n,C=q.useMemo(()=>{let L=hs(g,h);return L==null?null:{location:{pathname:L,search:p,hash:v,state:x,key:_},navigationType:i}},[h,g,p,v,x,_,i]);return si(C!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:q.createElement(oi.Provider,{value:f},q.createElement(Hu.Provider,{children:e,value:C}))}function N3({children:t,location:e}){return m3(u0(t),e)}function u0(t,e=[]){let n=[];return q.Children.forEach(t,(i,a)=>{if(!q.isValidElement(i))return;let o=[...e,a];if(i.type===q.Fragment){n.push.apply(n,u0(i.props.children,o));return}Dt(i.type===ro,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=u0(i.props.children,o)),n.push(c)}),n}var ef="get",tf="application/x-www-form-urlencoded";function Yf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function j3(t){return Yf(t)&&t.tagName.toLowerCase()==="button"}function R3(t){return Yf(t)&&t.tagName.toLowerCase()==="form"}function I3(t){return Yf(t)&&t.tagName.toLowerCase()==="input"}function k3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function P3(t,e){return t.button===0&&(!e||e==="_self")&&!k3(t)}var Lh=null;function M3(){if(Lh===null)try{new FormData(document.createElement("form"),0),Lh=!1}catch{Lh=!0}return Lh}var D3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cg(t){return t!=null&&!D3.has(t)?(si(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tf}"`),null):t}function V3(t,e){let n,i,a,o,c;if(R3(t)){let h=t.getAttribute("action");i=h?hs(h,e):null,n=t.getAttribute("method")||ef,a=Cg(t.getAttribute("enctype"))||tf,o=new FormData(t)}else if(j3(t)||I3(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?hs(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||ef,a=Cg(t.getAttribute("formenctype"))||Cg(h.getAttribute("enctype"))||tf,o=new FormData(h,t),!M3()){let{name:g,type:p,value:v}=t;if(p==="image"){let x=g?`${g}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else g&&o.append(g,v)}}else{if(Yf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ef,i=null,a=tf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function O3(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&hs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function L3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function z3(t,e,n){let i=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await L3(o,n);return c.links?c.links():[]}return[]}));return H3(i.flat(1).filter(U3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function z2(t,e,n,i,a,o){let c=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,h=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?e.filter((f,g)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function F3(t,e,{includeHydrateFallback:n}={}){return B3(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function B3(t){return[...new Set(t)]}function q3(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function H3(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let o=JSON.stringify(q3(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function tE(){let t=q.useContext(Gl);return Sy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function G3(){let t=q.useContext(Qf);return Sy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cy=q.createContext(void 0);Cy.displayName="FrameworkContext";function nE(){let t=q.useContext(Cy);return Sy(t,"You must render this element inside a <HydratedRouter> element"),t}function $3(t,e){let n=q.useContext(Cy),[i,a]=q.useState(!1),[o,c]=q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:p,onTouchStart:v}=e,x=q.useRef(null);q.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let L=N=>{N.forEach(U=>{c(U.isIntersecting)})},I=new IntersectionObserver(L,{threshold:.5});return x.current&&I.observe(x.current),()=>{I.disconnect()}}},[t]),q.useEffect(()=>{if(i){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[i]);let _=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:su(h,_),onBlur:su(f,C),onMouseEnter:su(g,_),onMouseLeave:su(p,C),onTouchStart:su(v,_)}]:[!1,x,{}]}function su(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function W3({page:t,...e}){let{router:n}=tE(),i=q.useMemo(()=>qT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?q.createElement(Q3,{page:t,matches:i,...e}):null}function K3(t){let{manifest:e,routeModules:n}=nE(),[i,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return z3(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),i}function Q3({page:t,matches:e,...n}){let i=wa(),{manifest:a,routeModules:o}=nE(),{basename:c}=tE(),{loaderData:h,matches:f}=G3(),g=q.useMemo(()=>z2(t,e,f,a,i,"data"),[t,e,f,a,i]),p=q.useMemo(()=>z2(t,e,f,a,i,"assets"),[t,e,f,a,i]),v=q.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,L=!1;if(e.forEach(N=>{let U=a.routes[N.route.id];!U||!U.hasLoader||(!g.some(B=>B.route.id===N.route.id)&&N.route.id in h&&o[N.route.id]?.shouldRevalidate||U.hasClientLoader?L=!0:C.add(N.route.id))}),C.size===0)return[];let I=O3(t,c,"data");return L&&C.size>0&&I.searchParams.set("_routes",e.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[I.pathname+I.search]},[c,h,i,a,g,e,t,o]),x=q.useMemo(()=>F3(p,a),[p,a]),_=K3(p);return q.createElement(q.Fragment,null,v.map(C=>q.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),x.map(C=>q.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),_.map(({key:C,link:L})=>q.createElement("link",{key:C,nonce:n.nonce,...L})))}function Y3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rE&&(window.__reactRouterVersion="7.10.1")}catch{}function X3({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=q.useRef();a.current==null&&(a.current=O5({window:i,v5Compat:!0}));let o=a.current,[c,h]=q.useState({action:o.action,location:o.location}),f=q.useCallback(g=>{n===!1?h(g):q.startTransition(()=>h(g))},[n]);return q.useLayoutEffect(()=>o.listen(f),[o,f]),q.createElement(C3,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n===!0})}var iE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xl=q.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:p,viewTransition:v,...x},_){let{basename:C,unstable_useTransitions:L}=q.useContext(oi),I=typeof g=="string"&&iE.test(g),N,U=!1;if(typeof g=="string"&&I&&(N=g,rE))try{let D=new URL(window.location.href),V=g.startsWith("//")?new URL(D.protocol+g):new URL(g),P=hs(V.pathname,C);V.origin===D.origin&&P!=null?g=P+V.search+V.hash:U=!0}catch{si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=h3(g,{relative:a}),[$,Z,G]=$3(i,x),O=tj(g,{replace:c,state:h,target:f,preventScrollReset:p,relative:a,viewTransition:v,unstable_useTransitions:L});function w(D){e&&e(D),D.defaultPrevented||O(D)}let E=q.createElement("a",{...x,...G,href:N||B,onClick:U||o?e:w,ref:Y3(_,Z),target:f,"data-discover":!I&&n==="render"?"true":void 0});return $&&!I?q.createElement(q.Fragment,null,E,q.createElement(W3,{page:B})):E});xl.displayName="Link";var Z3=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...g},p){let v=$u(c,{relative:g.relative}),x=wa(),_=q.useContext(Qf),{navigator:C,basename:L}=q.useContext(oi),I=_!=null&&aj(v)&&h===!0,N=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,U=x.pathname,B=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(U=U.toLowerCase(),B=B?B.toLowerCase():null,N=N.toLowerCase()),B&&L&&(B=hs(B,L)||B);const $=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Z=U===N||!a&&U.startsWith(N)&&U.charAt($)==="/",G=B!=null&&(B===N||!a&&B.startsWith(N)&&B.charAt(N.length)==="/"),O={isActive:Z,isPending:G,isTransitioning:I},w=Z?e:void 0,E;typeof i=="function"?E=i(O):E=[i,Z?"active":null,G?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(O):o;return q.createElement(xl,{...g,"aria-current":w,className:E,ref:p,style:D,to:c,viewTransition:h},typeof f=="function"?f(O):f)});Z3.displayName="NavLink";var J3=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:o,method:c=ef,action:h,onSubmit:f,relative:g,preventScrollReset:p,viewTransition:v,...x},_)=>{let{unstable_useTransitions:C}=q.useContext(oi),L=ij(),I=sj(h,{relative:g}),N=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&iE.test(h),B=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let Z=$.nativeEvent.submitter,G=Z?.getAttribute("formmethod")||c,O=()=>L(Z||$.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:a,state:o,relative:g,preventScrollReset:p,viewTransition:v});C&&n!==!1?q.startTransition(()=>O()):O()};return q.createElement("form",{ref:_,method:N,action:I,onSubmit:i?f:B,...x,"data-discover":!U&&t==="render"?"true":void 0})});J3.displayName="Form";function ej(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sE(t){let e=q.useContext(Gl);return Dt(e,ej(t)),e}function tj(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:c,unstable_useTransitions:h}={}){let f=ZT(),g=wa(),p=$u(t,{relative:o});return q.useCallback(v=>{if(P3(v,e)){v.preventDefault();let x=n!==void 0?n:Cu(g)===Cu(p),_=()=>f(t,{replace:x,state:i,preventScrollReset:a,relative:o,viewTransition:c});h?q.startTransition(()=>_()):_()}},[g,f,p,n,i,e,t,a,o,c,h])}var nj=0,rj=()=>`__${String(++nj)}__`;function ij(){let{router:t}=sE("useSubmit"),{basename:e}=q.useContext(oi),n=T3(),i=t.fetch,a=t.navigate;return q.useCallback(async(o,c={})=>{let{action:h,method:f,encType:g,formData:p,body:v}=V3(o,e);if(c.navigate===!1){let x=c.fetcherKey||rj();await i(x,n,c.action||h,{preventScrollReset:c.preventScrollReset,formData:p,body:v,formMethod:c.method||f,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||h,{preventScrollReset:c.preventScrollReset,formData:p,body:v,formMethod:c.method||f,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function sj(t,{relative:e}={}){let{basename:n}=q.useContext(oi),i=q.useContext(bs);Dt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...$u(t||".",{relative:e})},c=wa();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(p=>p==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let p=h.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ls([n,o.pathname])),Cu(o)}function aj(t,{relative:e}={}){let n=q.useContext(QT);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=sE("useViewTransitionState"),a=$u(t,{relative:e});if(!n.isTransitioning)return!1;let o=hs(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=hs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return yf(a.pathname,c)!=null||yf(a.pathname,o)!=null}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),F2=t=>{const e=lj(t);return e.charAt(0).toUpperCase()+e.slice(1)},aE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),cj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},f)=>q.createElement("svg",{ref:f,...uj,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:aE("lucide",a),...!o&&!cj(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,p])=>q.createElement(g,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=q.forwardRef(({className:i,...a},o)=>q.createElement(dj,{ref:o,iconNode:e,className:aE(`lucide-${oj(F2(t))}`,`lucide-${t}`,i),...a}));return n.displayName=F2(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],fj=Ae("arrow-down",hj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nu=Ae("arrow-left",mj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mu=Ae("arrow-right",pj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],yj=Ae("arrow-up",gj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],d0=Ae("award",vj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],xj=Ae("bell-ring",bj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wj=Ae("bell",_j);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oE=Ae("book-open",Tj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Aj=Ae("calendar",Ej);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],vf=Ae("camera",Sj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vr=Ae("check",Cj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],$n=Ae("chef-hat",Nj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],B2=Ae("chevron-down",jj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],h0=Ae("circle-alert",Rj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ny=Ae("circle-question-mark",Ij);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kn=Ae("clock",kj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mj=Ae("copy",Pj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ng=Ae("crown",Dj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Oj=Ae("flame",Vj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bf=Ae("globe",Lj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],oa=Ae("heart",Uj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Fj=Ae("house",zj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qj=Ae("image",Bj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Gj=Ae("lightbulb",Hj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],f0=Ae("link",$j);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],m0=Ae("loader-circle",Wj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],p0=Ae("log-out",Kj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lE=Ae("lock",Qj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xj=Ae("mail",Yj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],g0=Ae("message-circle",Zj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],cE=Ae("mic-off",Jj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],y0=Ae("mic",eR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],nR=Ae("monitor",tR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],iR=Ae("moon",rR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],xf=Ae("pause",sR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oR=Ae("pen-line",aR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],v0=Ae("pen",lR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fa=Ae("play",cR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],go=Ae("plus",uR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hR=Ae("refresh-cw",dR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],mR=Ae("rotate-ccw",fR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gR=Ae("save",pR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],vR=Ae("scale",yR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],xR=Ae("scan",bR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uE=Ae("search",_R);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TR=Ae("send",wR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dE=Ae("settings",ER);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Pl=Ae("share-2",AR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],CR=Ae("shield",SR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],jR=Ae("skip-back",NR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],IR=Ae("skip-forward",RR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ss=Ae("sparkles",kR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hE=Ae("star",PR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DR=Ae("sun",MR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],b0=Ae("timer",VR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_f=Ae("trash-2",OR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],x0=Ae("trending-up",LR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fE=Ae("upload",UR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],FR=Ae("user-plus",zR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cs=Ae("users",BR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cu=Ae("user",qR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],mE=Ae("utensils",HR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],$R=Ae("volume-2",GR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wn=Ae("x",WR),KR=["Viandes","Poissons","Lgumes","Fculents","Oeufs","Fruits"],QR=[{id:"boeuf-rotis",name:"Rti de Boeuf",category:"Viandes",subcategory:"Boeuf",defaultWeight:1e3,baseTime:15,timePer100g:1.5,method:"Four",temp:200,tips:["Sortir la viande 30min avant","Laisser reposer 10min aprs cuisson"],emoji:""},{id:"boeuf-entrecote",name:"Entrecte",category:"Viandes",subcategory:"Boeuf",defaultWeight:300,baseTime:3,timePer100g:1,method:"Pole",tips:["Saisir  feu vif","2-3 min par face pour saignant"],emoji:""},{id:"boeuf-faux-filet",name:"Faux-Filet",category:"Viandes",subcategory:"Boeuf",defaultWeight:250,baseTime:3,timePer100g:1,method:"Pole",tips:["Pole bien chaude","Laisser reposer avant de couper"],emoji:""},{id:"boeuf-tournedos",name:"Tournedos",category:"Viandes",subcategory:"Boeuf",defaultWeight:180,baseTime:3,timePer100g:1.5,method:"Pole",tips:["Cuisson rapide","Servir ros"],emoji:""},{id:"boeuf-bavette",name:"Bavette",category:"Viandes",subcategory:"Boeuf",defaultWeight:200,baseTime:2,timePer100g:1,method:"Pole",tips:["Cuisson courte","Couper contre les fibres"],emoji:""},{id:"boeuf-onglet",name:"Onglet",category:"Viandes",subcategory:"Boeuf",defaultWeight:200,baseTime:2,timePer100g:1,method:"Pole",tips:["Servir saignant","Retirer le nerf central"],emoji:""},{id:"boeuf-hampe",name:"Hampe",category:"Viandes",subcategory:"Boeuf",defaultWeight:200,baseTime:2,timePer100g:1,method:"Pole",tips:["Ne pas trop cuire","Idal saignant"],emoji:""},{id:"boeuf-bourguignon",name:"Boeuf Bourguignon",category:"Viandes",subcategory:"Boeuf",defaultWeight:800,baseTime:150,timePer100g:0,method:"Cocotte",temp:150,tips:["Cuisson lente","La viande doit tre fondante"],emoji:""},{id:"boeuf-pot-au-feu",name:"Pot-au-Feu",category:"Viandes",subcategory:"Boeuf",defaultWeight:1e3,baseTime:180,timePer100g:0,method:"Eau",tips:["Cuisson trs lente","cumer rgulirement"],emoji:""},{id:"boeuf-steak-hache",name:"Steak Hach",category:"Viandes",subcategory:"Boeuf",defaultWeight:125,baseTime:3,timePer100g:2,method:"Pole",tips:["Feu vif","Ne pas craser pendant la cuisson"],emoji:""},{id:"veau-escalope",name:"Escalope de Veau",category:"Viandes",subcategory:"Veau",defaultWeight:150,baseTime:3,timePer100g:2,method:"Pole",tips:["Farine lgrement","Cuisson rapide"],emoji:""},{id:"veau-blanquette",name:"Blanquette de Veau",category:"Viandes",subcategory:"Veau",defaultWeight:800,baseTime:90,timePer100g:0,method:"Cocotte",tips:["Ne pas faire bouillir","Sauce crmeuse"],emoji:""},{id:"veau-roti",name:"Rti de Veau",category:"Viandes",subcategory:"Veau",defaultWeight:1e3,baseTime:20,timePer100g:3,method:"Four",temp:180,tips:["Arroser rgulirement","Servir ros"],emoji:""},{id:"veau-osso-bucco",name:"Osso Bucco",category:"Viandes",subcategory:"Veau",defaultWeight:400,baseTime:120,timePer100g:0,method:"Cocotte",tips:["Cuisson lente","Servir avec gremolata"],emoji:""},{id:"veau-cote",name:"Cte de Veau",category:"Viandes",subcategory:"Veau",defaultWeight:300,baseTime:6,timePer100g:2,method:"Pole",tips:["Finir au four 10min  180C","Laisser reposer"],emoji:""},{id:"veau-foie",name:"Foie de Veau",category:"Viandes",subcategory:"Veau",defaultWeight:150,baseTime:2,timePer100g:1,method:"Pole",tips:["Cuisson trs courte","Servir ros  l'intrieur"],emoji:""},{id:"poulet-entier",name:"Poulet Entier",category:"Viandes",subcategory:"Volaille",defaultWeight:1500,baseTime:20,timePer100g:5,method:"Four",temp:180,tips:["Arroser toutes les 20min","Vrifier la cuisson  la cuisse"],emoji:""},{id:"poulet-cuisse",name:"Cuisse de Poulet",category:"Viandes",subcategory:"Volaille",defaultWeight:200,baseTime:25,timePer100g:5,method:"Four",temp:200,tips:["Peau croustillante  220C","Chair bien cuite"],emoji:""},{id:"poulet-filet",name:"Filet de Poulet",category:"Viandes",subcategory:"Volaille",defaultWeight:150,baseTime:8,timePer100g:4,method:"Pole",tips:["Ne pas surcuire","Couvrir pour garder moelleux"],emoji:""},{id:"poulet-aile",name:"Ailes de Poulet",category:"Viandes",subcategory:"Volaille",defaultWeight:500,baseTime:25,timePer100g:0,method:"Four",temp:200,tips:["Retourner  mi-cuisson","Marinade recommande"],emoji:""},{id:"dinde-escalope",name:"Escalope de Dinde",category:"Viandes",subcategory:"Volaille",defaultWeight:150,baseTime:6,timePer100g:3,method:"Pole",tips:["Feu moyen","Ne pas surcuire"],emoji:""},{id:"dinde-cuisse",name:"Cuisse de Dinde",category:"Viandes",subcategory:"Volaille",defaultWeight:500,baseTime:45,timePer100g:5,method:"Four",temp:180,tips:["Arroser rgulirement","Bien cuite  coeur"],emoji:""},{id:"dinde-entiere",name:"Dinde Entire",category:"Viandes",subcategory:"Volaille",defaultWeight:4e3,baseTime:30,timePer100g:3,method:"Four",temp:160,tips:["Farcir pour plus de saveur","Couvrir d'alu si dore trop"],emoji:""},{id:"magret-canard",name:"Magret de Canard",category:"Viandes",subcategory:"Volaille",defaultWeight:400,baseTime:0,timePer100g:2.5,method:"Pole",tips:["Quadriller la peau","Commencer ct peau  froid"],emoji:""},{id:"canard-cuisse",name:"Cuisse de Canard",category:"Viandes",subcategory:"Volaille",defaultWeight:250,baseTime:25,timePer100g:0,method:"Four",temp:200,tips:["Rchauffer au four","Peau croustillante"],emoji:""},{id:"canard-entier",name:"Canard Entier",category:"Viandes",subcategory:"Volaille",defaultWeight:2e3,baseTime:20,timePer100g:4,method:"Four",temp:180,tips:["Piquer la peau","Arroser avec le jus"],emoji:""},{id:"pintade",name:"Pintade",category:"Viandes",subcategory:"Volaille",defaultWeight:1200,baseTime:15,timePer100g:4,method:"Four",temp:180,tips:["Barder pour garder moelleux","Servir ros"],emoji:""},{id:"lapin-entier",name:"Lapin",category:"Viandes",subcategory:"Volaille",defaultWeight:1500,baseTime:45,timePer100g:2,method:"Four",temp:180,tips:["Arroser de moutarde","Chair blanche bien cuite"],emoji:""},{id:"porc-roti",name:"Rti de Porc",category:"Viandes",subcategory:"Porc",defaultWeight:1e3,baseTime:25,timePer100g:4,method:"Four",temp:180,tips:["Bien cuit  coeur","Laisser reposer 10min"],emoji:""},{id:"porc-cote",name:"Cte de Porc",category:"Viandes",subcategory:"Porc",defaultWeight:200,baseTime:8,timePer100g:3,method:"Pole",tips:["Feu moyen","Retourner une fois"],emoji:""},{id:"porc-filet-mignon",name:"Filet Mignon de Porc",category:"Viandes",subcategory:"Porc",defaultWeight:500,baseTime:20,timePer100g:3,method:"Four",temp:180,tips:["Saisir avant","Enrouler de lard"],emoji:""},{id:"porc-travers",name:"Travers de Porc",category:"Viandes",subcategory:"Porc",defaultWeight:1e3,baseTime:90,timePer100g:0,method:"Four",temp:160,tips:["Cuisson lente","Badigeonner de sauce BBQ"],emoji:""},{id:"porc-echine",name:"chine de Porc",category:"Viandes",subcategory:"Porc",defaultWeight:1e3,baseTime:30,timePer100g:4,method:"Four",temp:170,tips:["Grasse et savoureuse","Effiloche aprs cuisson longue"],emoji:""},{id:"porc-lard",name:"Lardons",category:"Viandes",subcategory:"Porc",defaultWeight:200,baseTime:8,timePer100g:0,method:"Pole",tips:["Feu moyen","Bien dors"],emoji:""},{id:"saucisse-fraiche",name:"Saucisse Frache",category:"Viandes",subcategory:"Porc",defaultWeight:150,baseTime:15,timePer100g:0,method:"Pole",tips:["Feu doux","Piquer lgrement"],emoji:""},{id:"boudin-noir",name:"Boudin Noir",category:"Viandes",subcategory:"Porc",defaultWeight:200,baseTime:10,timePer100g:0,method:"Pole",tips:["Feu trs doux","Ne pas percer la peau"],emoji:""},{id:"jambon",name:"Jambon",category:"Viandes",subcategory:"Porc",defaultWeight:100,baseTime:0,timePer100g:0,method:"Cru",tips:["Servir  temprature ambiante"],emoji:""},{id:"agneau-gigot",name:"Gigot d'Agneau",category:"Viandes",subcategory:"Agneau",defaultWeight:2e3,baseTime:20,timePer100g:3,method:"Four",temp:200,tips:["Piquer d'ail","Servir ros"],emoji:""},{id:"agneau-cote",name:"Ctelettes d'Agneau",category:"Viandes",subcategory:"Agneau",defaultWeight:100,baseTime:4,timePer100g:0,method:"Pole",tips:["Feu vif","Servir ros"],emoji:""},{id:"agneau-carre",name:"Carr d'Agneau",category:"Viandes",subcategory:"Agneau",defaultWeight:800,baseTime:25,timePer100g:0,method:"Four",temp:200,tips:["Saisir avant","Chair rose"],emoji:""},{id:"agneau-epaule",name:"paule d'Agneau",category:"Viandes",subcategory:"Agneau",defaultWeight:1500,baseTime:150,timePer100g:0,method:"Four",temp:150,tips:["Cuisson lente","Viande confite"],emoji:""},{id:"agneau-souris",name:"Souris d'Agneau",category:"Viandes",subcategory:"Agneau",defaultWeight:350,baseTime:120,timePer100g:0,method:"Cocotte",tips:["Braiser doucement","Chair fondante"],emoji:""},{id:"saumon-pave",name:"Pav de Saumon",category:"Poissons",subcategory:"Poisson Gras",defaultWeight:150,baseTime:0,timePer100g:8,method:"Pole",tips:["Cuire ct peau","Feu moyen"],emoji:""},{id:"saumon-entier",name:"Saumon Entier",category:"Poissons",subcategory:"Poisson Gras",defaultWeight:2e3,baseTime:10,timePer100g:2,method:"Four",temp:180,tips:["En papillote ou court-bouillon","Chair rose  coeur"],emoji:""},{id:"saumon-fume",name:"Saumon Fum",category:"Poissons",subcategory:"Poisson Gras",defaultWeight:100,baseTime:0,timePer100g:0,method:"Cru",tips:["Servir  temprature","Avec blinis et crme"],emoji:""},{id:"thon-steak",name:"Steak de Thon",category:"Poissons",subcategory:"Poisson Gras",defaultWeight:180,baseTime:2,timePer100g:1,method:"Pole",tips:["Cuisson mi-cuit","Feu trs vif"],emoji:""},{id:"maquereau",name:"Maquereau",category:"Poissons",subcategory:"Poisson Gras",defaultWeight:250,baseTime:8,timePer100g:2,method:"Grill",tips:["Inciser la peau","Feu vif"],emoji:""},{id:"sardine",name:"Sardines",category:"Poissons",subcategory:"Poisson Gras",defaultWeight:200,baseTime:4,timePer100g:0,method:"Grill",tips:["3 min par face","Huile d'olive et gros sel"],emoji:""},{id:"truite",name:"Truite",category:"Poissons",subcategory:"Poisson Gras",defaultWeight:300,baseTime:10,timePer100g:2,method:"Pole",tips:["Cuisson meunire","Beurre noisette"],emoji:""},{id:"cabillaud-dos",name:"Dos de Cabillaud",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:150,baseTime:0,timePer100g:10,method:"Four",temp:180,tips:["Filet d'huile d'olive","Ne pas surcuire"],emoji:""},{id:"cabillaud-filet",name:"Filet de Cabillaud",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:150,baseTime:8,timePer100g:3,method:"Vapeur",tips:["Cuisson dlicate","Chair blanche et moelleuse"],emoji:""},{id:"lieu-noir",name:"Lieu Noir",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:150,baseTime:8,timePer100g:3,method:"Pole",tips:["conomique et savoureux","Bien assaisonner"],emoji:""},{id:"colin",name:"Colin (Merlu)",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:150,baseTime:10,timePer100g:3,method:"Vapeur",tips:["Chair fine","Sauce lgre"],emoji:""},{id:"sole",name:"Sole",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:300,baseTime:6,timePer100g:2,method:"Pole",tips:["Cuisson meunire","Beurre citronn"],emoji:""},{id:"bar-loup",name:"Bar (Loup)",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:400,baseTime:20,timePer100g:0,method:"Four",temp:180,tips:["En crote de sel","Chair dlicate"],emoji:""},{id:"bar-filet",name:"Filet de Bar",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:150,baseTime:6,timePer100g:2,method:"Pole",tips:["Ct peau d'abord","Peau croustillante"],emoji:""},{id:"dorade",name:"Dorade",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:400,baseTime:25,timePer100g:0,method:"Four",temp:200,tips:["Entire avec herbes","Citron et huile d'olive"],emoji:""},{id:"lotte",name:"Lotte (Queue)",category:"Poissons",subcategory:"Poisson Blanc",defaultWeight:300,baseTime:15,timePer100g:3,method:"Four",temp:180,tips:["Chair ferme comme homard","Rtir entire"],emoji:""},{id:"crevettes",name:"Crevettes",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:200,baseTime:3,timePer100g:0,method:"Pole",tips:["Feu vif","Retirer ds qu'elles rosissent"],emoji:""},{id:"gambas",name:"Gambas",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:200,baseTime:4,timePer100g:0,method:"Grill",tips:[" la plancha","Huile d'olive et ail"],emoji:""},{id:"langoustines",name:"Langoustines",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:300,baseTime:3,timePer100g:0,method:"Eau",tips:["Court-bouillon","Ne pas surcuire"],emoji:""},{id:"homard",name:"Homard",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:600,baseTime:15,timePer100g:2,method:"Eau",tips:["Court-bouillon parfum","12min/500g"],emoji:""},{id:"moules",name:"Moules",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:500,baseTime:5,timePer100g:0,method:"Cocotte",tips:["Marinires ou  la crme","Retirer celles fermes"],emoji:""},{id:"coquilles-st-jacques",name:"Saint-Jacques",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:200,baseTime:2,timePer100g:0,method:"Pole",tips:["1-2 min par face","Feu vif, coeur nacr"],emoji:""},{id:"calamars",name:"Calamars",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:300,baseTime:2,timePer100g:0,method:"Pole",tips:["Cuisson trs courte ou trs longue","viter entre-deux"],emoji:""},{id:"poulpe",name:"Poulpe",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:500,baseTime:45,timePer100g:0,method:"Eau",tips:["Cuisson longue pour attendrir","Ajouter bouchon lige"],emoji:""},{id:"huitres",name:"Hutres",category:"Poissons",subcategory:"Fruits de Mer",defaultWeight:150,baseTime:0,timePer100g:0,method:"Cru",tips:["Servir fraches","Citron ou vinaigre chalote"],emoji:""},{id:"haricots-verts",name:"Haricots Verts",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:500,baseTime:12,timePer100g:0,method:"Vapeur",tips:["Plonger dans eau glace aprs cuisson"],emoji:""},{id:"petits-pois",name:"Petits Pois",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:300,baseTime:8,timePer100g:0,method:"Eau",tips:["Frais: 8-10min, surgels: 5min"],emoji:""},{id:"epinards",name:"pinards",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:500,baseTime:3,timePer100g:0,method:"Pole",tips:["Tombent trs vite","goutter bien"],emoji:""},{id:"brocolis",name:"Brocolis",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:500,baseTime:8,timePer100g:0,method:"Vapeur",tips:["Couper en fleurettes gales"],emoji:""},{id:"chou-fleur",name:"Chou-Fleur",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:600,baseTime:15,timePer100g:0,method:"Eau",tips:["Entier ou en fleurettes"],emoji:""},{id:"choux-bruxelles",name:"Choux de Bruxelles",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:400,baseTime:15,timePer100g:0,method:"Eau",tips:["Inciser la base","Eau sale"],emoji:""},{id:"asperges-vertes",name:"Asperges Vertes",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:500,baseTime:8,timePer100g:0,method:"Eau",tips:["Debout dans l'eau","Pointes hors de l'eau"],emoji:""},{id:"poireaux",name:"Poireaux",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:400,baseTime:15,timePer100g:0,method:"Eau",tips:["Bien laver","Fondants"],emoji:""},{id:"artichaut-entier",name:"Artichaut",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:300,baseTime:40,timePer100g:0,method:"Eau",tips:["Gros artichauts","Retirer le foin"],emoji:""},{id:"salade-verte",name:"Salade Verte",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Laver et essorer","Assaisonner au dernier moment"],emoji:""},{id:"chou-vert",name:"Chou Vert",category:"Lgumes",subcategory:"Lgumes Verts",defaultWeight:500,baseTime:20,timePer100g:0,method:"Eau",tips:["Blanchir avant","Braiser pour plus de saveur"],emoji:""},{id:"pommes-terre-eau",name:"Pommes de Terre",category:"Lgumes",subcategory:"Racines",defaultWeight:500,baseTime:20,timePer100g:1,method:"Eau",tips:["Dmarrer eau froide sale","Vrifier avec couteau"],emoji:""},{id:"pommes-terre-four",name:"Pommes de Terre au Four",category:"Lgumes",subcategory:"Racines",defaultWeight:300,baseTime:45,timePer100g:5,method:"Four",temp:200,tips:["Piquer avec fourchette","Chair farineuse"],emoji:""},{id:"frites",name:"Frites",category:"Lgumes",subcategory:"Racines",defaultWeight:500,baseTime:8,timePer100g:0,method:"Friture",temp:180,tips:["Double cuisson","1re  160C, 2me  180C"],emoji:""},{id:"carottes-vapeur",name:"Carottes",category:"Lgumes",subcategory:"Racines",defaultWeight:400,baseTime:15,timePer100g:0,method:"Vapeur",tips:["Couper en rondelles gales"],emoji:""},{id:"navets",name:"Navets",category:"Lgumes",subcategory:"Racines",defaultWeight:400,baseTime:20,timePer100g:0,method:"Eau",tips:["Blanchir pour adoucir","Glacer au beurre"],emoji:""},{id:"panais",name:"Panais",category:"Lgumes",subcategory:"Racines",defaultWeight:400,baseTime:20,timePer100g:0,method:"Vapeur",tips:["Got sucr","Excellent en pure"],emoji:""},{id:"betteraves",name:"Betteraves",category:"Lgumes",subcategory:"Racines",defaultWeight:400,baseTime:60,timePer100g:0,method:"Four",temp:180,tips:["En papillote","plucher aprs cuisson"],emoji:""},{id:"patate-douce",name:"Patate Douce",category:"Lgumes",subcategory:"Racines",defaultWeight:300,baseTime:20,timePer100g:0,method:"Vapeur",tips:["Chair orange sucre"],emoji:""},{id:"celeri-rave",name:"Cleri-Rave",category:"Lgumes",subcategory:"Racines",defaultWeight:500,baseTime:25,timePer100g:0,method:"Eau",tips:["Citronner pour viter oxydation"],emoji:""},{id:"radis",name:"Radis",category:"Lgumes",subcategory:"Racines",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Avec beurre et sel","Croquants"],emoji:""},{id:"tomates",name:"Tomates",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:400,baseTime:0,timePer100g:0,method:"Cru",tips:["Servir  temprature ambiante"],emoji:""},{id:"tomates-farcies",name:"Tomates Farcies",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:600,baseTime:45,timePer100g:0,method:"Four",temp:180,tips:["Farce  la viande","Arroser du jus"],emoji:""},{id:"courgettes",name:"Courgettes",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:400,baseTime:8,timePer100g:0,method:"Vapeur",tips:["Tranches paisses","Garder fermes"],emoji:""},{id:"aubergines",name:"Aubergines",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:400,baseTime:15,timePer100g:0,method:"Grill",tips:["Tranches paisses","Huile d'olive gnreuse"],emoji:""},{id:"poivrons",name:"Poivrons",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:400,baseTime:20,timePer100g:0,method:"Four",temp:220,tips:["Peau noircie","Peler sous film"],emoji:""},{id:"champignons",name:"Champignons",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:300,baseTime:8,timePer100g:0,method:"Pole",tips:["Feu vif","Ne pas surcharger la pole"],emoji:""},{id:"mais-epi",name:"Mas en pi",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:200,baseTime:10,timePer100g:0,method:"Eau",tips:["Eau non sale","Beurre sal aprs"],emoji:""},{id:"courge-butternut",name:"Courge Butternut",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:500,baseTime:40,timePer100g:0,method:"Four",temp:200,tips:["En cubes ou demie","Chair fondante"],emoji:""},{id:"potimarron",name:"Potimarron",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:600,baseTime:35,timePer100g:0,method:"Four",temp:200,tips:["Peau comestible","Got chtaigne"],emoji:""},{id:"concombre",name:"Concombre",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:300,baseTime:0,timePer100g:0,method:"Cru",tips:["Dgorger au sel","Frais et croquant"],emoji:""},{id:"avocat",name:"Avocat",category:"Lgumes",subcategory:"Lgumes Fruits",defaultWeight:150,baseTime:0,timePer100g:0,method:"Cru",tips:["Mr  point","Citronner pour viter oxydation"],emoji:""},{id:"lentilles-vertes",name:"Lentilles Vertes",category:"Lgumes",subcategory:"Lgumineuses",defaultWeight:200,baseTime:25,timePer100g:0,method:"Eau",tips:["Ne pas saler au dbut","Dmarrer eau froide"],emoji:""},{id:"pois-chiches",name:"Pois Chiches",category:"Lgumes",subcategory:"Lgumineuses",defaultWeight:200,baseTime:90,timePer100g:0,method:"Eau",tips:["Trempage 12h","Bicarbonate acclre"],emoji:""},{id:"haricots-blancs",name:"Haricots Blancs",category:"Lgumes",subcategory:"Lgumineuses",defaultWeight:200,baseTime:90,timePer100g:0,method:"Eau",tips:["Trempage une nuit","Saler en fin de cuisson"],emoji:""},{id:"haricots-rouges",name:"Haricots Rouges",category:"Lgumes",subcategory:"Lgumineuses",defaultWeight:200,baseTime:90,timePer100g:0,method:"Eau",tips:["Trempage obligatoire","Bouillir 10min au dpart"],emoji:""},{id:"feves",name:"Fves",category:"Lgumes",subcategory:"Lgumineuses",defaultWeight:300,baseTime:15,timePer100g:0,method:"Eau",tips:["cosser et peler","Fraches: 5min"],emoji:""},{id:"oignons",name:"Oignons",category:"Lgumes",subcategory:"Alliacs",defaultWeight:200,baseTime:10,timePer100g:0,method:"Pole",tips:["Feu moyen","Translucides ou dors"],emoji:""},{id:"oignons-caramelises",name:"Oignons Caramliss",category:"Lgumes",subcategory:"Alliacs",defaultWeight:500,baseTime:30,timePer100g:0,method:"Pole",tips:["Feu doux","Patience pour dorer"],emoji:""},{id:"ail-confit",name:"Ail Confit",category:"Lgumes",subcategory:"Alliacs",defaultWeight:100,baseTime:45,timePer100g:0,method:"Four",temp:160,tips:["Huile d'olive","Tte entire"],emoji:""},{id:"echalotes",name:"chalotes",category:"Lgumes",subcategory:"Alliacs",defaultWeight:100,baseTime:5,timePer100g:0,method:"Pole",tips:["mincer finement","Ne pas brler"],emoji:""},{id:"pates-spaghetti",name:"Spaghetti",category:"Fculents",subcategory:"Ptes",defaultWeight:100,baseTime:9,timePer100g:0,method:"Eau",tips:["1L d'eau pour 100g","Saler  l'bullition"],emoji:""},{id:"pates-penne",name:"Penne",category:"Fculents",subcategory:"Ptes",defaultWeight:100,baseTime:11,timePer100g:0,method:"Eau",tips:["Idales avec sauces paisses"],emoji:""},{id:"pates-tagliatelles",name:"Tagliatelles",category:"Fculents",subcategory:"Ptes",defaultWeight:100,baseTime:8,timePer100g:0,method:"Eau",tips:["Fraches: 2-3min","Parfaites carbonara"],emoji:""},{id:"pates-fusilli",name:"Fusilli",category:"Fculents",subcategory:"Ptes",defaultWeight:100,baseTime:10,timePer100g:0,method:"Eau",tips:["Retiennent bien la sauce"],emoji:""},{id:"pates-lasagnes",name:"Lasagnes",category:"Fculents",subcategory:"Ptes",defaultWeight:300,baseTime:45,timePer100g:0,method:"Four",temp:180,tips:["Cuisson assemble","Pas besoin de prcuire"],emoji:""},{id:"pates-gnocchi",name:"Gnocchi",category:"Fculents",subcategory:"Ptes",defaultWeight:200,baseTime:3,timePer100g:0,method:"Eau",tips:["Remontent quand cuits","Poler aprs pour dorer"],emoji:""},{id:"pates-ravioli",name:"Raviolis",category:"Fculents",subcategory:"Ptes",defaultWeight:200,baseTime:4,timePer100g:0,method:"Eau",tips:["Eau  peine frmissante","Dlicats"],emoji:""},{id:"pates-farfalle",name:"Farfalle",category:"Fculents",subcategory:"Ptes",defaultWeight:100,baseTime:11,timePer100g:0,method:"Eau",tips:["Forme papillon","Salades de ptes"],emoji:""},{id:"riz-basmati",name:"Riz Basmati",category:"Fculents",subcategory:"Riz",defaultWeight:60,baseTime:11,timePer100g:0,method:"Absorption",tips:["Rincer avant","1 vol. riz / 1.5 vol. eau"],emoji:""},{id:"riz-thai",name:"Riz Tha",category:"Fculents",subcategory:"Riz",defaultWeight:60,baseTime:12,timePer100g:0,method:"Absorption",tips:["Parfum au jasmin"],emoji:""},{id:"riz-risotto",name:"Riz Arborio (Risotto)",category:"Fculents",subcategory:"Riz",defaultWeight:80,baseTime:18,timePer100g:0,method:"Cocotte",tips:["Bouillon louche par louche","Remuer constamment"],emoji:""},{id:"riz-complet",name:"Riz Complet",category:"Fculents",subcategory:"Riz",defaultWeight:60,baseTime:35,timePer100g:0,method:"Eau",tips:["Plus long  cuire","Plus nutritif"],emoji:""},{id:"riz-sushi",name:"Riz  Sushi",category:"Fculents",subcategory:"Riz",defaultWeight:100,baseTime:15,timePer100g:0,method:"Absorption",tips:["Rincer plusieurs fois","Vinaigre de riz aprs"],emoji:""},{id:"quinoa",name:"Quinoa",category:"Fculents",subcategory:"Crales",defaultWeight:80,baseTime:12,timePer100g:0,method:"Absorption",tips:["Rincer abondamment","1 vol. quinoa / 2 vol. eau"],emoji:""},{id:"boulgour",name:"Boulgour",category:"Fculents",subcategory:"Crales",defaultWeight:80,baseTime:10,timePer100g:0,method:"Absorption",tips:["Gonfle dans l'eau chaude","Base de taboul"],emoji:""},{id:"couscous",name:"Couscous",category:"Fculents",subcategory:"Crales",defaultWeight:80,baseTime:5,timePer100g:0,method:"Vapeur",tips:["Eau bouillante + repos","grener  la fourchette"],emoji:""},{id:"polenta",name:"Polenta",category:"Fculents",subcategory:"Crales",defaultWeight:100,baseTime:30,timePer100g:0,method:"Eau",tips:["Verser en pluie","Remuer sans cesse"],emoji:""},{id:"semoule",name:"Semoule",category:"Fculents",subcategory:"Crales",defaultWeight:80,baseTime:5,timePer100g:0,method:"Absorption",tips:["Eau bouillante","Couvrir et laisser gonfler"],emoji:""},{id:"oeuf-dur",name:"Oeuf Dur",category:"Oeufs",subcategory:"Entier",defaultWeight:60,baseTime:9,timePer100g:0,method:"Eau",tips:["Plonger dans eau bouillante","Refroidir immdiatement"],emoji:""},{id:"oeuf-mollet",name:"Oeuf Mollet",category:"Oeufs",subcategory:"Entier",defaultWeight:60,baseTime:6,timePer100g:0,method:"Eau",tips:["Blanc cuit, jaune coulant","Dlicat  caler"],emoji:""},{id:"oeuf-coque",name:"Oeuf  la Coque",category:"Oeufs",subcategory:"Entier",defaultWeight:60,baseTime:3,timePer100g:0,method:"Eau",tips:["Servir immdiatement","Avec mouillettes"],emoji:""},{id:"oeuf-poche",name:"Oeuf Poch",category:"Oeufs",subcategory:"Entier",defaultWeight:60,baseTime:3,timePer100g:0,method:"Eau",tips:["Eau frmissante + vinaigre","Crer un tourbillon"],emoji:""},{id:"oeuf-plat",name:"Oeuf au Plat",category:"Oeufs",subcategory:"Entier",defaultWeight:60,baseTime:3,timePer100g:0,method:"Pole",tips:["Feu doux","Blanc cuit, jaune coulant"],emoji:""},{id:"oeufs-brouilles",name:"Oeufs Brouills",category:"Oeufs",subcategory:"Battus",defaultWeight:120,baseTime:5,timePer100g:0,method:"Pole",tips:["Feu trs doux","Remuer constamment, crmeux"],emoji:""},{id:"omelette",name:"Omelette",category:"Oeufs",subcategory:"Battus",defaultWeight:120,baseTime:3,timePer100g:0,method:"Pole",tips:["Feu vif au dbut","Baveuse au centre"],emoji:""},{id:"quiche",name:"Quiche Lorraine",category:"Oeufs",subcategory:"Tartes",defaultWeight:800,baseTime:35,timePer100g:0,method:"Four",temp:180,tips:["Appareil: oeufs + crme","Lardons et gruyre"],emoji:""},{id:"souffle-fromage",name:"Souffl au Fromage",category:"Oeufs",subcategory:"Souffls",defaultWeight:400,baseTime:25,timePer100g:0,method:"Four",temp:200,tips:["Ne pas ouvrir le four","Servir immdiatement"],emoji:""},{id:"frittata",name:"Frittata",category:"Oeufs",subcategory:"Battus",defaultWeight:300,baseTime:15,timePer100g:0,method:"Four",temp:180,tips:["Commencer  la pole","Finir au four"],emoji:""},{id:"pommes",name:"Pommes",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Fraches et croquantes"],emoji:""},{id:"pommes-poelees",name:"Pommes Poles",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:300,baseTime:10,timePer100g:0,method:"Pole",tips:["Beurre et sucre","Quartiers dors"],emoji:""},{id:"pommes-au-four",name:"Pommes au Four",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:200,baseTime:30,timePer100g:0,method:"Four",temp:180,tips:["vider le coeur","Beurre, sucre, cannelle"],emoji:""},{id:"compote-pommes",name:"Compote de Pommes",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:500,baseTime:20,timePer100g:0,method:"Cocotte",tips:["Peu d'eau","craser ou mixer"],emoji:""},{id:"poires",name:"Poires",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Mres  point"],emoji:""},{id:"poires-pochees",name:"Poires Poches",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:400,baseTime:25,timePer100g:0,method:"Eau",tips:["Sirop vanill ou vin rouge","Tendres  coeur"],emoji:""},{id:"bananes",name:"Bananes",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:150,baseTime:0,timePer100g:0,method:"Cru",tips:["Bien mres pour plus de sucre"],emoji:""},{id:"bananes-flambees",name:"Bananes Flambes",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:200,baseTime:5,timePer100g:0,method:"Pole",tips:["Rhum ou cognac","Caramliser au sucre"],emoji:""},{id:"ananas",name:"Ananas",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:300,baseTime:0,timePer100g:0,method:"Cru",tips:["Frais et juteux"],emoji:""},{id:"ananas-caramelise",name:"Ananas Caramlis",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:300,baseTime:8,timePer100g:0,method:"Pole",tips:["Tranches paisses","Caramel et rhum"],emoji:""},{id:"peches",name:"Pches",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Parfumes et juteuses"],emoji:""},{id:"peches-poelees",name:"Pches Poles",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:300,baseTime:5,timePer100g:0,method:"Pole",tips:["Demi-pches","Beurre et sucre vanill"],emoji:""},{id:"abricots",name:"Abricots",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Mrs et parfums"],emoji:""},{id:"abricots-rotis",name:"Abricots Rtis",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:300,baseTime:15,timePer100g:0,method:"Four",temp:200,tips:["En moitis","Miel et amandes"],emoji:""},{id:"figues",name:"Figues",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:150,baseTime:0,timePer100g:0,method:"Cru",tips:["Fraches et sucres"],emoji:""},{id:"figues-roties",name:"Figues Rties",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:300,baseTime:15,timePer100g:0,method:"Four",temp:180,tips:["Inciser en croix","Miel et mascarpone"],emoji:""},{id:"fraises",name:"Fraises",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:250,baseTime:0,timePer100g:0,method:"Cru",tips:[" temprature ambiante","Sucrer lgrement"],emoji:""},{id:"framboises",name:"Framboises",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:150,baseTime:0,timePer100g:0,method:"Cru",tips:["Dlicates","Ne pas laver si possible"],emoji:""},{id:"fruits-rouges",name:"Fruits Rouges Mlangs",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:300,baseTime:0,timePer100g:0,method:"Cru",tips:["Frais ou surgels","Base de coulis"],emoji:""},{id:"fruits-rouges-poeles",name:"Fruits Rouges Pols",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:300,baseTime:3,timePer100g:0,method:"Pole",tips:["Feu doux","Sucre et beurre, ne pas trop cuire"],emoji:""},{id:"rhubarbe",name:"Rhubarbe",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:400,baseTime:15,timePer100g:0,method:"Cocotte",tips:["Sucrer gnreusement","Fond facilement"],emoji:""},{id:"mangue",name:"Mangue",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Mre et parfume"],emoji:""},{id:"mangue-caramelisee",name:"Mangue Caramlise",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:200,baseTime:4,timePer100g:0,method:"Pole",tips:["Tranches paisses","Citron vert"],emoji:""},{id:"citron",name:"Citron",category:"Fruits",subcategory:"Agrumes",defaultWeight:100,baseTime:0,timePer100g:0,method:"Cru",tips:["Jus et zeste","Indispensable en cuisine"],emoji:""},{id:"orange",name:"Orange",category:"Fruits",subcategory:"Agrumes",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Jus frais","Zeste parfum"],emoji:""},{id:"pruneaux",name:"Pruneaux",category:"Fruits",subcategory:"Fruits Secs",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Moelleux","Accompagne viandes"],emoji:""},{id:"pruneaux-cuits",name:"Pruneaux au Vin",category:"Fruits",subcategory:"Fruits Cuits",defaultWeight:300,baseTime:20,timePer100g:0,method:"Cocotte",tips:["Vin rouge ou th","Gonfler et parfumer"],emoji:""},{id:"raisins",name:"Raisins",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:200,baseTime:0,timePer100g:0,method:"Cru",tips:["Frais et sucrs","Blanc ou noir"],emoji:""},{id:"melon",name:"Melon",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:300,baseTime:0,timePer100g:0,method:"Cru",tips:["Bien mr","Rafrachir avant de servir"],emoji:""},{id:"pasteque",name:"Pastque",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:400,baseTime:0,timePer100g:0,method:"Cru",tips:["Trs rafrachissante","Servir bien froide"],emoji:""},{id:"kiwi",name:"Kiwi",category:"Fruits",subcategory:"Fruits Crus",defaultWeight:100,baseTime:0,timePer100g:0,method:"Cru",tips:["Riche en vitamine C","Mr quand souple"],emoji:""}],Uh={SAIGNANT:{label:"Saignant",multiplier:1},A_POINT:{label:" point",multiplier:1.2},BIEN_CUIT:{label:"Bien cuit",multiplier:1.5},AL_DENTE:{label:"Al Dente",multiplier:1},FONDANT:{label:"Fondant",multiplier:1.3}};function pE(t){const e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=t%60;return e>0?`${e}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}function q2(t,e,n,i,a=1){if(i===0)return Math.round(t*a*60);let o=t;if(i>0){const c=n-e;o+=c/100*i}return Math.round(o*a*60)}const YR=()=>{new Audio("https://assets.mixkit.co/active_storage/sfx/951/951-preview.mp3").play().catch(e=>console.log("Audio play failed (interaction required)",e))};function gE(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=gE(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function XR(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=gE(t))&&(i&&(i+=" "),i+=e);return i}const jy="-",ZR=t=>{const e=e6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{const h=c.split(jy);return h[0]===""&&h.length!==1&&h.shift(),yE(h,e)||JR(c)},getConflictingClassGroupIds:(c,h)=>{const f=n[c]||[];return h&&i[c]?[...f,...i[c]]:f}}},yE=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),a=i?yE(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const o=t.join(jy);return e.validators.find(({validator:c})=>c(o))?.classGroupId},H2=/^\[(.+)\]$/,JR=t=>{if(H2.test(t)){const e=H2.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},e6=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const a in n)_0(n[a],i,a,e);return i},_0=(t,e,n,i)=>{t.forEach(a=>{if(typeof a=="string"){const o=a===""?e:G2(e,a);o.classGroupId=n;return}if(typeof a=="function"){if(t6(a)){_0(a(i),e,n,i);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{_0(c,G2(e,o),n,i)})})},G2=(t,e)=>{let n=t;return e.split(jy).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},t6=t=>t.isThemeGetter,n6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const a=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,i=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=i.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},w0="!",T0=":",r6=T0.length,i6=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const o=[];let c=0,h=0,f=0,g;for(let C=0;C<a.length;C++){let L=a[C];if(c===0&&h===0){if(L===T0){o.push(a.slice(f,C)),f=C+r6;continue}if(L==="/"){g=C;continue}}L==="["?c++:L==="]"?c--:L==="("?h++:L===")"&&h--}const p=o.length===0?a:a.substring(f),v=s6(p),x=v!==p,_=g&&g>f?g-f:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:_}};if(e){const a=e+T0,o=i;i=c=>c.startsWith(a)?o(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=i;i=o=>n({className:o,parseClassName:a})}return i},s6=t=>t.endsWith(w0)?t.substring(0,t.length-1):t.startsWith(w0)?t.substring(1):t,a6=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let o=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...o.sort(),c),o=[]):o.push(c)}),a.push(...o.sort()),a}},o6=t=>({cache:n6(t.cacheSize),parseClassName:i6(t),sortModifiers:a6(t),...ZR(t)}),l6=/\s+/,c6=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],h=t.trim().split(l6);let f="";for(let g=h.length-1;g>=0;g-=1){const p=h[g],{isExternal:v,modifiers:x,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:L}=n(p);if(v){f=p+(f.length>0?" "+f:f);continue}let I=!!L,N=i(I?C.substring(0,L):C);if(!N){if(!I){f=p+(f.length>0?" "+f:f);continue}if(N=i(C),!N){f=p+(f.length>0?" "+f:f);continue}I=!1}const U=o(x).join(":"),B=_?U+w0:U,$=B+N;if(c.includes($))continue;c.push($);const Z=a(N,I);for(let G=0;G<Z.length;++G){const O=Z[G];c.push(B+O)}f=p+(f.length>0?" "+f:f)}return f};function u6(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vE(e))&&(i&&(i+=" "),i+=n);return i}const vE=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=vE(t[i]))&&(n&&(n+=" "),n+=e);return n};function d6(t,...e){let n,i,a,o=c;function c(f){const g=e.reduce((p,v)=>v(p),t());return n=o6(g),i=n.cache.get,a=n.cache.set,o=h,h(f)}function h(f){const g=i(f);if(g)return g;const p=c6(f,n);return a(f,p),p}return function(){return o(u6.apply(null,arguments))}}const dn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,h6=/^\d+\/\d+$/,f6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,g6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pl=t=>h6.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Js=t=>!!t&&Number.isInteger(Number(t)),jg=t=>t.endsWith("%")&&Be(t.slice(0,-1)),rs=t=>f6.test(t),v6=()=>!0,b6=t=>m6.test(t)&&!p6.test(t),_E=()=>!1,x6=t=>g6.test(t),_6=t=>y6.test(t),w6=t=>!Te(t)&&!Ee(t),T6=t=>$l(t,EE,_E),Te=t=>bE.test(t),to=t=>$l(t,AE,b6),Rg=t=>$l(t,N6,Be),$2=t=>$l(t,wE,_E),E6=t=>$l(t,TE,_6),zh=t=>$l(t,SE,x6),Ee=t=>xE.test(t),au=t=>Wl(t,AE),A6=t=>Wl(t,j6),W2=t=>Wl(t,wE),S6=t=>Wl(t,EE),C6=t=>Wl(t,TE),Fh=t=>Wl(t,SE,!0),$l=(t,e,n)=>{const i=bE.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Wl=(t,e,n=!1)=>{const i=xE.exec(t);return i?i[1]?e(i[1]):n:!1},wE=t=>t==="position"||t==="percentage",TE=t=>t==="image"||t==="url",EE=t=>t==="length"||t==="size"||t==="bg-size",AE=t=>t==="length",N6=t=>t==="number",j6=t=>t==="family-name",SE=t=>t==="shadow",R6=()=>{const t=dn("color"),e=dn("font"),n=dn("text"),i=dn("font-weight"),a=dn("tracking"),o=dn("leading"),c=dn("breakpoint"),h=dn("container"),f=dn("spacing"),g=dn("radius"),p=dn("shadow"),v=dn("inset-shadow"),x=dn("text-shadow"),_=dn("drop-shadow"),C=dn("blur"),L=dn("perspective"),I=dn("aspect"),N=dn("ease"),U=dn("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...$(),Ee,Te],G=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],w=()=>[Ee,Te,f],E=()=>[pl,"full","auto",...w()],D=()=>[Js,"none","subgrid",Ee,Te],V=()=>["auto",{span:["full",Js,Ee,Te]},Js,Ee,Te],P=()=>[Js,"auto",Ee,Te],A=()=>["auto","min","max","fr",Ee,Te],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...w()],M=()=>[pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],Y=()=>[t,Ee,Te],ee=()=>[...$(),W2,$2,{position:[Ee,Te]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",S6,T6,{size:[Ee,Te]}],W=()=>[jg,au,to],re=()=>["","none","full",g,Ee,Te],K=()=>["",Be,au,to],te=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Be,jg,W2,$2],Re=()=>["","none",C,Ee,Te],Ce=()=>["none",Be,Ee,Te],qe=()=>["none",Be,Ee,Te],tt=()=>[Be,Ee,Te],it=()=>[pl,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rs],breakpoint:[rs],color:[v6],container:[rs],"drop-shadow":[rs],ease:["in","out","in-out"],font:[w6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rs],shadow:[rs],spacing:["px",Be],text:[rs],"text-shadow":[rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pl,Te,Ee,I]}],container:["container"],columns:[{columns:[Be,Te,Ee,h]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Js,"auto",Ee,Te]}],basis:[{basis:[pl,"full","auto",h,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,pl,"auto","initial","none",Te]}],grow:[{grow:["",Be,Ee,Te]}],shrink:[{shrink:["",Be,Ee,Te]}],order:[{order:[Js,"first","last","none",Ee,Te]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[h,"screen",...M()]}],"min-w":[{"min-w":[h,"screen","none",...M()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",n,au,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ee,Rg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jg,Te]}],"font-family":[{font:[A6,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ee,Te]}],"line-clamp":[{"line-clamp":[Be,"none",Ee,Rg]}],leading:[{leading:[o,...w()]}],"list-image":[{"list-image":["none",Ee,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Ee,to]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Be,"auto",Ee,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Js,Ee,Te],radial:["",Ee,Te],conic:[Js,Ee,Te]},C6,E6]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...te(),"hidden","none"]}],"divide-style":[{divide:[...te(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Ee,Te]}],"outline-w":[{outline:["",Be,au,to]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",p,Fh,zh]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",v,Fh,zh]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Be,to]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",x,Fh,zh]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Be,Ee,Te]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Ee,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Te]}],filter:[{filter:["","none",Ee,Te]}],blur:[{blur:Re()}],brightness:[{brightness:[Be,Ee,Te]}],contrast:[{contrast:[Be,Ee,Te]}],"drop-shadow":[{"drop-shadow":["","none",_,Fh,zh]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Be,Ee,Te]}],"hue-rotate":[{"hue-rotate":[Be,Ee,Te]}],invert:[{invert:["",Be,Ee,Te]}],saturate:[{saturate:[Be,Ee,Te]}],sepia:[{sepia:["",Be,Ee,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Te]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Ee,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Ee,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Ee,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Ee,Te]}],"backdrop-invert":[{"backdrop-invert":["",Be,Ee,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Ee,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Ee,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Ee,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Ee,Te]}],ease:[{ease:["linear","initial",N,Ee,Te]}],delay:[{delay:[Be,Ee,Te]}],animate:[{animate:["none",U,Ee,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[L,Ee,Te]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:tt()}],"skew-x":[{"skew-x":tt()}],"skew-y":[{"skew-y":tt()}],transform:[{transform:[Ee,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:it()}],"translate-x":[{"translate-x":it()}],"translate-y":[{"translate-y":it()}],"translate-z":[{"translate-z":it()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Te]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Be,au,to,Rg]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},I6=d6(R6);function xe(...t){return I6(XR(t))}function k6({onAddTimer:t}){const[e,n]=q.useState(1),[i,a]=q.useState(null),[o,c]=q.useState(null),[h,f]=q.useState(0),[g,p]=q.useState(2),[v,x]=q.useState(null),[_,C]=q.useState(""),L=q.useMemo(()=>QR.filter(N=>{const U=N.name.toLowerCase().includes(_.toLowerCase()),B=i?N.category===i:!0;return U&&B}),[_,i]),I=()=>{if(!o)return;let N=h;N===0&&(["Fculents","Riz","Ptes"].includes(o.category)||["Riz","Ptes"].includes(o.subcategory)?N=o.defaultWeight*g:N=o.defaultWeight);const U=q2(o.baseTime,o.defaultWeight,N,o.timePer100g,v?Uh[v].multiplier:1),B=v?` - ${Uh[v].label}`:"";t(`${o.name}${B}`,U,o.category),n(1),c(null),x(null),f(0)};return d.jsx("div",{className:"w-full mx-auto overflow-hidden rounded-2xl sm:rounded-3xl border border-primary/20 bg-gradient-to-br from-white to-primary/5 shadow-xl dark:from-zinc-900 dark:to-primary/10",children:d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-primary/10 to-transparent p-3 sm:p-4 border-b border-primary/10",children:[d.jsx("div",{className:"flex items-center gap-3 sm:gap-6",children:[1,2,3].map(N=>d.jsxs("div",{className:xe("flex items-center gap-1.5 sm:gap-2 transition-all duration-300",e>=N?"text-primary scale-105":"text-muted-foreground opacity-60"),children:[d.jsx("div",{className:xe("flex h-7 w-7 sm:h-9 sm:w-9 items-center justify-center rounded-full text-xs sm:text-sm font-bold transition-all duration-300 shadow-sm",e===N?"bg-gradient-to-br from-primary to-primary/80 text-white shadow-primary/30 shadow-lg scale-110":e>N?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"),children:e>N?"":N}),d.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:N===1?"Ingrdient":N===2?"Quantit":"Cuisson"})]},N))}),o&&d.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-white/80 dark:bg-zinc-800/80 px-3 py-1.5 shadow-sm border border-primary/10",children:[d.jsx("span",{className:"text-2xl sm:text-3xl animate-bounce",children:o.emoji}),d.jsx("span",{className:"text-xs sm:text-sm font-semibold text-foreground truncate max-w-[80px] sm:max-w-none",children:o.name})]})]}),d.jsxs("div",{className:"flex-1 p-4 sm:p-6",children:[e===1&&d.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-foreground",children:"Que cuisinez-vous ?"}),d.jsx("p",{className:"text-xs sm:text-base text-muted-foreground",children:"Slectionnez un ingrdient"})]}),d.jsxs("div",{className:"flex gap-1.5 sm:gap-2 overflow-x-auto pb-2 -mx-1 px-1",children:[d.jsx("button",{onClick:()=>a(null),className:xe("whitespace-nowrap rounded-full px-2.5 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium transition-colors",i?"bg-secondary text-secondary-foreground hover:bg-secondary/80":"bg-primary text-white shadow-md"),children:"Tout"}),KR.map(N=>d.jsx("button",{onClick:()=>a(N),className:xe("whitespace-nowrap rounded-full px-2.5 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium transition-colors",i===N?"bg-primary text-white shadow-md":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),children:N},N))]}),d.jsxs("div",{className:"relative",children:[d.jsx(uE,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx("input",{type:"text",placeholder:"Rechercher...",className:"w-full rounded-lg sm:rounded-xl border border-input bg-background py-2 sm:py-3 pl-9 sm:pl-10 pr-3 sm:pr-4 text-sm shadow-sm transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",value:_,onChange:N=>C(N.target.value)})]}),d.jsx("div",{className:"grid max-h-[300px] sm:max-h-[400px] grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-2.5 sm:gap-3 overflow-y-auto pr-1 pb-2",children:L.map(N=>d.jsxs("button",{onClick:()=>{c(N),f(N.defaultWeight),n(2)},className:"group relative flex flex-col overflow-hidden rounded-xl border-2 border-transparent bg-gradient-to-br from-white to-muted/50 dark:from-zinc-800 dark:to-zinc-900 shadow-sm transition-all duration-200 hover:border-primary hover:shadow-lg hover:shadow-primary/20 active:scale-95",children:[d.jsx("div",{className:"flex aspect-square w-full items-center justify-center bg-gradient-to-br from-primary/5 to-transparent",children:d.jsx("span",{className:"text-3xl sm:text-4xl transition-all duration-300 group-hover:scale-125 group-hover:rotate-6",children:N.emoji})}),d.jsx("div",{className:"p-1.5 sm:p-2 text-center bg-white/50 dark:bg-black/20",children:d.jsx("span",{className:"text-[11px] sm:text-xs font-semibold text-foreground line-clamp-1 leading-tight",children:N.name})})]},N.id))})]}),e===2&&o&&d.jsxs("div",{className:"space-y-4 sm:space-y-8 animate-in slide-in-from-right-10 fade-in duration-300",children:[d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-foreground",children:"Quelle quantit ?"}),d.jsx("p",{className:"text-xs sm:text-base text-muted-foreground",children:"Adaptez le temps selon le poids"})]}),d.jsxs("div",{className:"grid gap-3 sm:gap-6 grid-cols-2",children:[d.jsxs("div",{className:"rounded-xl sm:rounded-2xl border border-border bg-card p-3 sm:p-6 shadow-sm",children:[d.jsxs("div",{className:"mb-2 sm:mb-4 flex items-center gap-1.5 sm:gap-2 text-primary",children:[d.jsx(vR,{className:"h-4 w-4 sm:h-5 sm:w-5"}),d.jsx("span",{className:"text-xs sm:text-base font-bold",children:"Poids (g)"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{onClick:()=>f(Math.max(0,h-50)),className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-secondary text-lg sm:text-xl font-bold text-secondary-foreground hover:bg-secondary/80",children:"-"}),d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"text-xl sm:text-3xl font-bold text-foreground",children:h}),d.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"g"})]}),d.jsx("button",{onClick:()=>f(h+50),className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary text-lg sm:text-xl font-bold text-white hover:bg-primary/90",children:"+"})]})]}),d.jsxs("div",{className:"rounded-xl sm:rounded-2xl border border-border bg-card p-3 sm:p-6 shadow-sm",children:[d.jsxs("div",{className:"mb-2 sm:mb-4 flex items-center gap-1.5 sm:gap-2 text-primary",children:[d.jsx(cs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),d.jsx("span",{className:"text-xs sm:text-base font-bold",children:"Personnes"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{onClick:()=>p(Math.max(1,g-1)),className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-secondary text-lg sm:text-xl font-bold text-secondary-foreground hover:bg-secondary/80",children:"-"}),d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"text-xl sm:text-3xl font-bold text-foreground",children:g}),d.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"pers."})]}),d.jsx("button",{onClick:()=>p(g+1),className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary text-lg sm:text-xl font-bold text-white hover:bg-primary/90",children:"+"})]})]})]}),d.jsxs("div",{className:"flex justify-between pt-2 sm:pt-4",children:[d.jsx("button",{onClick:()=>n(1),className:"rounded-lg sm:rounded-xl px-4 sm:px-6 py-2 text-sm font-medium text-muted-foreground hover:text-foreground",children:"Retour"}),d.jsx("button",{onClick:()=>n(3),className:"rounded-lg sm:rounded-xl bg-primary px-5 sm:px-8 py-2 text-sm sm:text-base font-bold text-white shadow-lg transition-transform hover:scale-105 active:scale-95",children:"Continuer"})]})]}),e===3&&o&&d.jsxs("div",{className:"space-y-4 sm:space-y-8 animate-in slide-in-from-right-10 fade-in duration-300",children:[d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-foreground",children:"Cuisson & Lancement"}),d.jsx("p",{className:"text-xs sm:text-base text-muted-foreground",children:"Derniers ajustements"})]}),(o.category==="Viandes"||o.name.includes("Saumon")||o.name.includes("Ptes"))&&d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Prfrence de cuisson"}),d.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-3",children:Object.entries(Uh).map(([N,U])=>d.jsx("button",{onClick:()=>x(N),className:xe("rounded-lg sm:rounded-xl border px-2.5 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium transition-all",v===N?"border-primary bg-primary/10 text-primary shadow-sm":"border-border bg-background text-muted-foreground hover:border-primary/50"),children:U.label},N))})]}),d.jsxs("div",{className:"rounded-xl sm:rounded-2xl bg-gradient-to-br from-primary/5 to-primary/10 p-4 sm:p-6 border border-primary/10",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[d.jsx(kn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"}),d.jsx("span",{className:"text-sm sm:text-lg font-medium",children:"Temps estim"})]}),d.jsx("div",{className:"mt-1 sm:mt-2 text-3xl sm:text-5xl font-bold text-primary tracking-tight",children:pE(q2(o.baseTime,o.defaultWeight,h||o.defaultWeight,o.timePer100g,v?Uh[v].multiplier:1))}),d.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm text-muted-foreground",children:[h,"g  ",o.method," ",o.temp?`@ ${o.temp}C`:""]})]}),o.tips.length>0&&d.jsxs("div",{className:"rounded-lg sm:rounded-xl bg-amber-50 p-3 sm:p-4 text-xs sm:text-sm text-amber-800 dark:bg-amber-900/20 dark:text-amber-200",children:[d.jsxs("div",{className:"mb-1.5 sm:mb-2 flex items-center gap-1.5 sm:gap-2 font-bold",children:[d.jsx(Oj,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),"Conseils du chef"]}),d.jsx("ul",{className:"list-inside list-disc space-y-0.5 sm:space-y-1 opacity-90",children:o.tips.map((N,U)=>d.jsx("li",{children:N},U))})]}),d.jsxs("div",{className:"flex justify-between pt-2 sm:pt-4",children:[d.jsx("button",{onClick:()=>n(2),className:"rounded-lg sm:rounded-xl px-4 sm:px-6 py-2 text-sm font-medium text-muted-foreground hover:text-foreground",children:"Retour"}),d.jsxs("button",{onClick:I,className:"flex items-center gap-1.5 sm:gap-2 rounded-lg sm:rounded-xl bg-gradient-to-r from-green-500 to-green-600 px-4 sm:px-8 py-2 sm:py-3 text-sm sm:text-lg font-bold text-white shadow-lg shadow-green-500/30 transition-all hover:scale-105 hover:from-green-600 hover:to-green-700 active:scale-95",children:[d.jsx(fa,{className:"h-4 w-4 sm:h-5 sm:w-5 fill-current"}),"Lancer"]})]})]})]})]})})}function P6({timer:t,onToggle:e,onReset:n,onDelete:i}){const a=(t.totalTime-t.remainingTime)/t.totalTime*100,o=f=>{switch(f.toLowerCase()){case"viandes":return"text-cooking-meat bg-cooking-meat/10 border-cooking-meat/20";case"poissons":return"text-cooking-fish bg-cooking-fish/10 border-cooking-fish/20";case"lgumes":return"text-cooking-vegetable bg-cooking-vegetable/10 border-cooking-vegetable/20";case"fculents":return"text-cooking-pasta bg-cooking-pasta/10 border-cooking-pasta/20";case"oeufs":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";default:return"text-primary bg-primary/10 border-primary/20"}},c=f=>{switch(f.toLowerCase()){case"viandes":return"bg-cooking-meat";case"poissons":return"bg-cooking-fish";case"lgumes":return"bg-cooking-vegetable";case"fculents":return"bg-cooking-pasta";case"oeufs":return"bg-yellow-500";default:return"bg-primary"}},h=t.remainingTime<=0;return d.jsxs("div",{className:xe("timer-card group relative overflow-hidden rounded-3xl p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-timer-hover",h?"ring-4 ring-red-500/50 shadow-error":"shadow-timer"),children:[d.jsx("div",{className:xe("absolute bottom-0 left-0 top-0 -z-10 bg-opacity-5 transition-all duration-1000 ease-linear",c(t.category).replace("bg-","bg-")),style:{width:`${a}%`,opacity:.1}}),d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("span",{className:xe("inline-flex rounded-full px-2.5 py-0.5 text-xs font-semibold uppercase tracking-wider",o(t.category)),children:t.category}),d.jsx("h3",{className:"font-heading text-xl font-bold text-foreground",children:t.name})]}),d.jsx("button",{onClick:()=>i(t.id),className:"rounded-full p-2 text-muted-foreground opacity-0 transition-all hover:bg-destructive/10 hover:text-destructive group-hover:opacity-100",children:d.jsx(_f,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"my-8 flex justify-center",children:d.jsx("div",{className:xe("font-timer text-timer tabular-nums tracking-tighter transition-colors",h?"text-destructive animate-pulse":"text-foreground",t.isRunning&&!h?"animate-timer-tick":""),children:pE(Math.max(0,t.remainingTime))})}),h&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:d.jsxs("div",{className:"flex flex-col items-center gap-4 animate-bounce-slow",children:[d.jsx(xj,{className:"h-12 w-12 text-destructive"}),d.jsx("span",{className:"text-2xl font-bold text-destructive",children:"C'est prt !"}),d.jsx("button",{onClick:()=>i(t.id),className:"rounded-full bg-destructive px-6 py-2 text-white shadow-lg transition-transform hover:scale-105 active:scale-95",children:"Arrter"})]})}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>e(t.id),disabled:h,className:xe("flex h-12 w-12 items-center justify-center rounded-full shadow-lg transition-all hover:scale-110 active:scale-95",t.isRunning?"bg-amber-500 text-white hover:bg-amber-600":"bg-primary text-white hover:bg-primary/90",h&&"opacity-0 pointer-events-none"),children:t.isRunning?d.jsx(xf,{className:"h-5 w-5 fill-current"}):d.jsx(fa,{className:"h-5 w-5 fill-current"})}),d.jsx("button",{onClick:()=>n(t.id),disabled:h,className:xe("flex h-12 w-12 items-center justify-center rounded-full bg-secondary text-secondary-foreground shadow-sm transition-all hover:bg-secondary/80 hover:scale-110 active:scale-95",h&&"opacity-0 pointer-events-none"),children:d.jsx(hR,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"h-1.5 flex-1 overflow-hidden rounded-full bg-secondary",children:d.jsx("div",{className:xe("h-full transition-all duration-1000 ease-linear",c(t.category)),style:{width:`${a}%`}})})]})]})}const Ry=q.createContext({});function Iy(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const ky=typeof window<"u",CE=ky?q.useLayoutEffect:q.useEffect,Xf=q.createContext(null);function Py(t,e){t.indexOf(e)===-1&&t.push(e)}function My(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fs=(t,e,n)=>n>e?e:n<t?t:n;let Dy=()=>{};const ms={},NE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jE(t){return typeof t=="object"&&t!==null}const RE=t=>/^0[^.\s]+$/u.test(t);function Vy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vr=t=>t,M6=(t,e)=>n=>e(t(n)),Wu=(...t)=>t.reduce(M6),ju=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Oy{constructor(){this.subscriptions=[]}add(e){return Py(this.subscriptions,e),()=>My(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ji=t=>t*1e3,Dr=t=>t/1e3;function IE(t,e){return e?t*(1e3/e):0}const kE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,D6=1e-7,V6=12;function O6(t,e,n,i,a){let o,c,h=0;do c=e+(n-e)/2,o=kE(c,i,a)-t,o>0?n=c:e=c;while(Math.abs(o)>D6&&++h<V6);return c}function Ku(t,e,n,i){if(t===e&&n===i)return Vr;const a=o=>O6(o,0,1,t,n);return o=>o===0||o===1?o:kE(a(o),e,i)}const PE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ME=t=>e=>1-t(1-e),DE=Ku(.33,1.53,.69,.99),Ly=ME(DE),VE=PE(Ly),OE=t=>(t*=2)<1?.5*Ly(t):.5*(2-Math.pow(2,-10*(t-1))),Uy=t=>1-Math.sin(Math.acos(t)),LE=ME(Uy),UE=PE(Uy),L6=Ku(.42,0,1,1),U6=Ku(0,0,.58,1),zE=Ku(.42,0,.58,1),z6=t=>Array.isArray(t)&&typeof t[0]!="number",FE=t=>Array.isArray(t)&&typeof t[0]=="number",F6={linear:Vr,easeIn:L6,easeInOut:zE,easeOut:U6,circIn:Uy,circInOut:UE,circOut:LE,backIn:Ly,backInOut:VE,backOut:DE,anticipate:OE},B6=t=>typeof t=="string",K2=t=>{if(FE(t)){Dy(t.length===4);const[e,n,i,a]=t;return Ku(e,n,i,a)}else if(B6(t))return F6[t];return t},Bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q6(t,e){let n=new Set,i=new Set,a=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(g.schedule(p),t()),p(h)}const g={schedule:(p,v=!1,x=!1)=>{const C=x&&a?n:i;return v&&c.add(p),C.has(p)||C.add(p),p},cancel:p=>{i.delete(p),c.delete(p)},process:p=>{if(h=p,a){o=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,o&&(o=!1,g.process(p))}};return g}const H6=40;function BE(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Bh.reduce((B,$)=>(B[$]=q6(o),B),{}),{setup:h,read:f,resolveKeyframes:g,preUpdate:p,update:v,preRender:x,render:_,postRender:C}=c,L=()=>{const B=ms.useManualTiming?a.timestamp:performance.now();n=!1,ms.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(B-a.timestamp,H6),1)),a.timestamp=B,a.isProcessing=!0,h.process(a),f.process(a),g.process(a),p.process(a),v.process(a),x.process(a),_.process(a),C.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},I=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:Bh.reduce((B,$)=>{const Z=c[$];return B[$]=(G,O=!1,w=!1)=>(n||I(),Z.schedule(G,O,w)),B},{}),cancel:B=>{for(let $=0;$<Bh.length;$++)c[Bh[$]].cancel(B)},state:a,steps:c}}const{schedule:kt,cancel:ma,state:Rn,steps:Ig}=BE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0);let nf;function G6(){nf=void 0}const ar={now:()=>(nf===void 0&&ar.set(Rn.isProcessing||ms.useManualTiming?Rn.timestamp:performance.now()),nf),set:t=>{nf=t,queueMicrotask(G6)}},qE=t=>e=>typeof e=="string"&&e.startsWith(t),zy=qE("--"),$6=qE("var(--"),Fy=t=>$6(t)?W6.test(t.split("/*")[0].trim()):!1,W6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ru={...Kl,transform:t=>fs(0,1,t)},qh={...Kl,default:1},pu=t=>Math.round(t*1e5)/1e5,By=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function K6(t){return t==null}const Q6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qy=(t,e)=>n=>!!(typeof n=="string"&&Q6.test(n)&&n.startsWith(t)||e&&!K6(n)&&Object.prototype.hasOwnProperty.call(n,e)),HE=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,o,c,h]=i.match(By);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},Y6=t=>fs(0,255,t),kg={...Kl,transform:t=>Math.round(Y6(t))},ao={test:qy("rgb","red"),parse:HE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+kg.transform(t)+", "+kg.transform(e)+", "+kg.transform(n)+", "+pu(Ru.transform(i))+")"};function X6(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const E0={test:qy("#"),parse:X6,transform:ao.transform},Qu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),na=Qu("deg"),Ri=Qu("%"),Pe=Qu("px"),Z6=Qu("vh"),J6=Qu("vw"),Q2={...Ri,parse:t=>Ri.parse(t)/100,transform:t=>Ri.transform(t*100)},_l={test:qy("hsl","hue"),parse:HE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ri.transform(pu(e))+", "+Ri.transform(pu(n))+", "+pu(Ru.transform(i))+")"},an={test:t=>ao.test(t)||E0.test(t)||_l.test(t),parse:t=>ao.test(t)?ao.parse(t):_l.test(t)?_l.parse(t):E0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ao.transform(t):_l.transform(t),getAnimatableNone:t=>{const e=an.parse(t);return e.alpha=0,an.transform(e)}},eI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tI(t){return isNaN(t)&&typeof t=="string"&&(t.match(By)?.length||0)+(t.match(eI)?.length||0)>0}const GE="number",$E="color",nI="var",rI="var(",Y2="${}",iI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(iI,f=>(an.test(f)?(i.color.push(o),a.push($E),n.push(an.parse(f))):f.startsWith(rI)?(i.var.push(o),a.push(nI),n.push(f)):(i.number.push(o),a.push(GE),n.push(parseFloat(f))),++o,Y2)).split(Y2);return{values:n,split:h,indexes:i,types:a}}function WE(t){return Iu(t).values}function KE(t){const{split:e,types:n}=Iu(t),i=e.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],a[c]!==void 0){const h=n[c];h===GE?o+=pu(a[c]):h===$E?o+=an.transform(a[c]):o+=a[c]}return o}}const sI=t=>typeof t=="number"?0:an.test(t)?an.getAnimatableNone(t):t;function aI(t){const e=WE(t);return KE(t)(e.map(sI))}const pa={test:tI,parse:WE,createTransformer:KE,getAnimatableNone:aI};function Pg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oI({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,o=0,c=0;if(!e)a=o=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=Pg(f,h,t+1/3),o=Pg(f,h,t),c=Pg(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function wf(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,Mg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},lI=[E0,ao,_l],cI=t=>lI.find(e=>e.test(t));function X2(t){const e=cI(t);if(!e)return!1;let n=e.parse(t);return e===_l&&(n=oI(n)),n}const Z2=(t,e)=>{const n=X2(t),i=X2(e);if(!n||!i)return wf(t,e);const a={...n};return o=>(a.red=Mg(n.red,i.red,o),a.green=Mg(n.green,i.green,o),a.blue=Mg(n.blue,i.blue,o),a.alpha=Mt(n.alpha,i.alpha,o),ao.transform(a))},A0=new Set(["none","hidden"]);function uI(t,e){return A0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dI(t,e){return n=>Mt(t,e,n)}function Hy(t){return typeof t=="number"?dI:typeof t=="string"?Fy(t)?wf:an.test(t)?Z2:mI:Array.isArray(t)?QE:typeof t=="object"?an.test(t)?Z2:hI:wf}function QE(t,e){const n=[...t],i=n.length,a=t.map((o,c)=>Hy(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)n[c]=a[c](o);return n}}function hI(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Hy(t[a])(t[a],e[a]));return a=>{for(const o in i)n[o]=i[o](a);return n}}function fI(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=t.indexes[o][i[o]],h=t.values[c]??0;n[a]=h,i[o]++}return n}const mI=(t,e)=>{const n=pa.createTransformer(e),i=Iu(t),a=Iu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?A0.has(t)&&!a.values.length||A0.has(e)&&!i.values.length?uI(t,e):Wu(QE(fI(i,a),a.values),n):wf(t,e)};function YE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):Hy(t)(t,e)}const pI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>kt.update(e,n),stop:()=>ma(e),now:()=>Rn.isProcessing?Rn.timestamp:ar.now()}},XE=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)i+=Math.round(t(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Tf=2e4;function Gy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Tf;)e+=n,i=t.next(e);return e>=Tf?1/0:e}function gI(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Gy(i),Tf);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:Dr(a)}}const yI=5;function ZE(t,e,n){const i=Math.max(e-yI,0);return IE(n-t(i),e-i)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dg=.001;function vI({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:i=Ut.mass}){let a,o,c=1-e;c=fs(Ut.minDamping,Ut.maxDamping,c),t=fs(Ut.minDuration,Ut.maxDuration,Dr(t)),c<1?(a=g=>{const p=g*c,v=p*t,x=p-n,_=S0(g,c),C=Math.exp(-v);return Dg-x/_*C},o=g=>{const v=g*c*t,x=v*n+n,_=Math.pow(c,2)*Math.pow(g,2)*t,C=Math.exp(-v),L=S0(Math.pow(g,2),c);return(-a(g)+Dg>0?-1:1)*((x-_)*C)/L}):(a=g=>{const p=Math.exp(-g*t),v=(g-n)*t+1;return-Dg+p*v},o=g=>{const p=Math.exp(-g*t),v=(n-g)*(t*t);return p*v});const h=5/t,f=xI(a,o,h);if(t=ji(t),isNaN(f))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const bI=12;function xI(t,e,n){let i=n;for(let a=1;a<bI;a++)i=i-t(i)/e(i);return i}function S0(t,e){return t*Math.sqrt(1-e*e)}const _I=["duration","bounce"],wI=["stiffness","damping","mass"];function J2(t,e){return e.some(n=>t[n]!==void 0)}function TI(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!J2(t,wI)&&J2(t,_I))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,o=2*fs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ut.mass,stiffness:a,damping:o}}else{const n=vI(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function Ef(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:g,mass:p,duration:v,velocity:x,isResolvedFromDuration:_}=TI({...n,velocity:-Dr(n.velocity||0)}),C=x||0,L=g/(2*Math.sqrt(f*p)),I=c-o,N=Dr(Math.sqrt(f/p)),U=Math.abs(I)<5;i||(i=U?Ut.restSpeed.granular:Ut.restSpeed.default),a||(a=U?Ut.restDelta.granular:Ut.restDelta.default);let B;if(L<1){const Z=S0(N,L);B=G=>{const O=Math.exp(-L*N*G);return c-O*((C+L*N*I)/Z*Math.sin(Z*G)+I*Math.cos(Z*G))}}else if(L===1)B=Z=>c-Math.exp(-N*Z)*(I+(C+N*I)*Z);else{const Z=N*Math.sqrt(L*L-1);B=G=>{const O=Math.exp(-L*N*G),w=Math.min(Z*G,300);return c-O*((C+L*N*I)*Math.sinh(w)+Z*I*Math.cosh(w))/Z}}const $={calculatedDuration:_&&v||null,next:Z=>{const G=B(Z);if(_)h.done=Z>=v;else{let O=Z===0?C:0;L<1&&(O=Z===0?ji(C):ZE(B,Z,G));const w=Math.abs(O)<=i,E=Math.abs(c-G)<=a;h.done=w&&E}return h.value=h.done?c:G,h},toString:()=>{const Z=Math.min(Gy($),Tf),G=XE(O=>$.next(Z*O).value,Z,30);return Z+"ms "+G},toTransition:()=>{}};return $}Ef.applyToOptions=t=>{const e=gI(t,100,Ef);return t.ease=e.ease,t.duration=ji(e.duration),t.type="keyframes",t};function C0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:f,restDelta:g=.5,restSpeed:p}){const v=t[0],x={done:!1,value:v},_=w=>h!==void 0&&w<h||f!==void 0&&w>f,C=w=>h===void 0?f:f===void 0||Math.abs(h-w)<Math.abs(f-w)?h:f;let L=n*e;const I=v+L,N=c===void 0?I:c(I);N!==I&&(L=N-v);const U=w=>-L*Math.exp(-w/i),B=w=>N+U(w),$=w=>{const E=U(w),D=B(w);x.done=Math.abs(E)<=g,x.value=x.done?N:D};let Z,G;const O=w=>{_(x.value)&&(Z=w,G=Ef({keyframes:[x.value,C(x.value)],velocity:ZE(B,w,x.value),damping:a,stiffness:o,restDelta:g,restSpeed:p}))};return O(0),{calculatedDuration:null,next:w=>{let E=!1;return!G&&Z===void 0&&(E=!0,$(w),O(w)),Z!==void 0&&w>=Z?G.next(w-Z):(!E&&$(w),x)}}}function EI(t,e,n){const i=[],a=n||ms.mix||YE,o=t.length-1;for(let c=0;c<o;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Vr:e;h=Wu(f,h)}i.push(h)}return i}function AI(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const o=t.length;if(Dy(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=EI(e,i,a),f=h.length,g=p=>{if(c&&p<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const x=ju(t[v],t[v+1],p);return h[v](x)};return n?p=>g(fs(t[0],t[o-1],p)):g}function SI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=ju(0,e,i);t.push(Mt(n,1,a))}}function CI(t){const e=[0];return SI(e,t.length-1),e}function NI(t,e){return t.map(n=>n*e)}function jI(t,e){return t.map(()=>e||zE).splice(0,t.length-1)}function gu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=z6(i)?i.map(K2):K2(i),o={done:!1,value:e[0]},c=NI(n&&n.length===e.length?n:CI(e),t),h=AI(c,e,{ease:Array.isArray(a)?a:jI(e,a)});return{calculatedDuration:t,next:f=>(o.value=h(f),o.done=f>=t,o)}}const RI=t=>t!==null;function $y(t,{repeat:e,repeatType:n="loop"},i,a=1){const o=t.filter(RI),h=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const II={decay:C0,inertia:C0,tween:gu,keyframes:gu,spring:Ef};function JE(t){typeof t.type=="string"&&(t.type=II[t.type])}class Wy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kI=t=>t/100;class Ky extends Wy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;JE(e);const{type:n=gu,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:h}=e;const f=n||gu;f!==gu&&typeof h[0]!="number"&&(this.mixKeyframes=Wu(kI,YE(h[0],h[1])),h=[0,100]);const g=f({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Gy(g));const{calculatedDuration:p}=g;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:p,repeat:v,repeatType:x,repeatDelay:_,type:C,onUpdate:L,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-g*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,$=i;if(v){const w=Math.min(this.currentTime,a)/h;let E=Math.floor(w),D=w%1;!D&&w>=1&&(D=1),D===1&&E--,E=Math.min(E,v+1),!!(E%2)&&(x==="reverse"?(D=1-D,_&&(D-=_/h)):x==="mirror"&&($=c)),B=fs(0,1,D)*h}const Z=U?{done:!1,value:p[0]}:$.next(B);o&&(Z.value=o(Z.value));let{done:G}=Z;!U&&f!==null&&(G=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return O&&C!==C0&&(Z.value=$y(p,this.options,I,this.speed)),L&&L(Z.value),O&&this.finish(),Z}then(e,n){return this.finished.then(e,n)}get duration(){return Dr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dr(e)}get time(){return Dr(this.currentTime)}set time(e){e=ji(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ar.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Dr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=pI,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function PI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const oo=t=>t*180/Math.PI,N0=t=>{const e=oo(Math.atan2(t[1],t[0]));return j0(e)},MI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:N0,rotateZ:N0,skewX:t=>oo(Math.atan(t[1])),skewY:t=>oo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},j0=t=>(t=t%360,t<0&&(t+=360),t),e_=N0,t_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),n_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),DI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:t_,scaleY:n_,scale:t=>(t_(t)+n_(t))/2,rotateX:t=>j0(oo(Math.atan2(t[6],t[5]))),rotateY:t=>j0(oo(Math.atan2(-t[2],t[0]))),rotateZ:e_,rotate:e_,skewX:t=>oo(Math.atan(t[4])),skewY:t=>oo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function R0(t){return t.includes("scale")?1:0}function I0(t,e){if(!t||t==="none")return R0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=DI,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=MI,a=h}if(!a)return R0(e);const o=i[e],c=a[1].split(",").map(OI);return typeof o=="function"?o(c):c[o]}const VI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return I0(n,e)};function OI(t){return parseFloat(t.trim())}const Ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(Ql),r_=t=>t===Kl||t===Pe,LI=new Set(["x","y","z"]),UI=Ql.filter(t=>!LI.has(t));function zI(t){const e=[];return UI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ho={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>I0(e,"x"),y:(t,{transform:e})=>I0(e,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const fo=new Set;let k0=!1,P0=!1,M0=!1;function eA(){if(P0){const t=Array.from(fo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=zI(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}P0=!1,k0=!1,fo.forEach(t=>t.complete(M0)),fo.clear()}function tA(){fo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(P0=!0)})}function FI(){M0=!0,tA(),eA(),M0=!1}class Qy{constructor(e,n,i,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),k0||(k0=!0,kt.read(tA),kt.resolveKeyframes(eA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const o=a?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}PI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BI=t=>t.startsWith("--");function qI(t,e,n){BI(e)?t.style.setProperty(e,n):t.style[e]=n}const HI=Vy(()=>window.ScrollTimeline!==void 0),GI={};function $I(t,e){const n=Vy(t);return()=>GI[e]??n()}const nA=$I(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,i_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function rA(t,e){if(t)return typeof t=="function"?nA()?XE(t,e):"ease-out":FE(t)?uu(t):Array.isArray(t)?t.map(n=>rA(n,e)||i_.easeOut):i_[t]}function WI(t,e,n,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:h="easeOut",times:f}={},g=void 0){const p={[e]:n};f&&(p.offset=f);const v=rA(h,a);Array.isArray(v)&&(p.easing=v);const x={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),t.animate(p,x)}function iA(t){return typeof t=="function"&&"applyToOptions"in t}function KI({type:t,...e}){return iA(t)&&nA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QI extends Wy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,Dy(typeof e.type!="string");const g=KI(e);this.animation=WI(n,i,a,g,o),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=$y(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(p):qI(n,i,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Dr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dr(e)}get time(){return Dr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ji(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&HI()?(this.animation.timeline=e,Vr):n(this)}}const sA={anticipate:OE,backInOut:VE,circInOut:UE};function YI(t){return t in sA}function XI(t){typeof t.ease=="string"&&YI(t.ease)&&(t.ease=sA[t.ease])}const s_=10;class ZI extends QI{constructor(e){XI(e),JE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Ky({...c,autoplay:!1}),f=ji(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-s_).value,h.sample(f).value,s_),h.stop()}}const a_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pa.test(t)||t==="0")&&!t.startsWith("url("));function JI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ek(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=a_(a,e),h=a_(o,e);return!c||!h?!1:JI(t)||(n==="spring"||iA(n))&&i}function D0(t){t.duration=0,t.type="keyframes"}const tk=new Set(["opacity","clipPath","filter","transform"]),nk=Vy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rk(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=e.owner.getProps();return nk()&&n&&tk.has(n)&&(n!=="transform"||!g)&&!f&&!i&&a!=="mirror"&&o!==0&&c!=="inertia"}const ik=40;class sk extends Wy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:h,name:f,motionValue:g,element:p,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ar.now();const x={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:o,repeatType:c,name:f,motionValue:g,element:p,...v},_=p?.KeyframeResolver||Qy;this.keyframeResolver=new _(h,(C,L,I)=>this.onKeyframesResolved(C,L,x,!I),f,g,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:h,delay:f,isHandoff:g,onUpdate:p}=i;this.resolvedAt=ar.now(),ek(e,o,c,h)||((ms.instantAnimations||!f)&&p?.($y(e,i,n)),e[0]=e[e.length-1],D0(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ik?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!g&&rk(x)?new ZI({...x,element:x.motionValue.owner.current}):new Ky(x);_.finished.then(()=>this.notifyFinished()).catch(Vr),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),FI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ak=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ok(t){const e=ak.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function aA(t,e,n=1){const[i,a]=ok(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return NE(c)?parseFloat(c):c}return Fy(a)?aA(a,e,n+1):a}function Yy(t,e){return t?.[e]??t?.default??t}const oA=new Set(["width","height","top","left","right","bottom",...Ql]),lk={test:t=>t==="auto",parse:t=>t},lA=t=>e=>e.test(t),cA=[Kl,Pe,Ri,na,J6,Z6,lk],o_=t=>cA.find(lA(t));function ck(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RE(t):!0}const uk=new Set(["brightness","contrast","saturate","opacity"]);function dk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(By)||[];if(!i)return t;const a=n.replace(i,"");let o=uk.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+a+")"}const hk=/\b([a-z-]*)\(.*?\)/gu,V0={...pa,getAnimatableNone:t=>{const e=t.match(hk);return e?e.map(dk).join(" "):t}},l_={...Kl,transform:Math.round},fk={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:qh,scaleX:qh,scaleY:qh,scaleZ:qh,skew:na,skewX:na,skewY:na,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Ru,originX:Q2,originY:Q2,originZ:Pe},Xy={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...fk,zIndex:l_,fillOpacity:Ru,strokeOpacity:Ru,numOctaves:l_},mk={...Xy,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:V0,WebkitFilter:V0},uA=t=>mk[t];function dA(t,e){let n=uA(t);return n!==V0&&(n=pa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pk=new Set(["auto","none","0"]);function gk(t,e,n){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!pk.has(o)&&Iu(o).values.length&&(a=t[i]),i++}if(a&&n)for(const o of e)t[o]=dA(n,a)}class yk extends Qy{constructor(e,n,i,a,o){super(e,n,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let g=e[f];if(typeof g=="string"&&(g=g.trim(),Fy(g))){const p=aA(g,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!oA.has(i)||e.length!==2)return;const[a,o]=e,c=o_(a),h=o_(o);if(c!==h)if(r_(c)&&r_(h))for(let f=0;f<e.length;f++){const g=e[f];typeof g=="string"&&(e[f]=parseFloat(g))}else ho[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||ck(e[a]))&&i.push(a);i.length&&gk(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=ho[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function vk(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const hA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function fA(t){return jE(t)&&"offsetHeight"in t}const c_=30,bk=t=>!isNaN(parseFloat(t));class xk{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=ar.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Oy);const i=this.events[e].add(n);return e==="change"?()=>{i(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,c_);return IE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ml(t,e){return new xk(t,e)}const{schedule:Zy}=BE(queueMicrotask,!1),Jr={x:!1,y:!1};function mA(){return Jr.x||Jr.y}function _k(t){return t==="x"||t==="y"?Jr[t]?null:(Jr[t]=!0,()=>{Jr[t]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}function pA(t,e){const n=vk(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function u_(t){return!(t.pointerType==="touch"||mA())}function wk(t,e,n={}){const[i,a,o]=pA(t,n),c=h=>{if(!u_(h))return;const{target:f}=h,g=e(f,h);if(typeof g!="function"||!f)return;const p=v=>{u_(v)&&(g(v),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),o}const gA=(t,e)=>e?t===e?!0:gA(t,e.parentElement):!1,Jy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Tk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ek(t){return Tk.has(t.tagName)||t.tabIndex!==-1}const rf=new WeakSet;function d_(t){return e=>{e.key==="Enter"&&t(e)}}function Vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ak=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=d_(()=>{if(rf.has(n))return;Vg(n,"down");const a=d_(()=>{Vg(n,"up")}),o=()=>Vg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function h_(t){return Jy(t)&&!mA()}function Sk(t,e,n={}){const[i,a,o]=pA(t,n),c=h=>{const f=h.currentTarget;if(!h_(h))return;rf.add(f);const g=e(f,h),p=(_,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),rf.has(f)&&rf.delete(f),h_(_)&&typeof g=="function"&&g(_,{success:C})},v=_=>{p(_,f===window||f===document||n.useGlobalTarget||gA(f,_.target))},x=_=>{p(_,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",x,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),fA(h)&&(h.addEventListener("focus",g=>Ak(g,a)),!Ek(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function yA(t){return jE(t)&&"ownerSVGElement"in t}function Ck(t){return yA(t)&&t.tagName==="svg"}const Fn=t=>!!(t&&t.getVelocity),Nk=[...cA,an,pa],jk=t=>Nk.find(lA(t)),e1=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function f_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rk(...t){return e=>{let n=!1;const i=t.map(a=>{const o=f_(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():f_(t[a],null)}}}}function Ik(...t){return q.useCallback(Rk(...t),t)}class kk extends q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=fA(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Pk({children:t,isPresent:e,anchorX:n,root:i}){const a=q.useId(),o=q.useRef(null),c=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=q.useContext(e1),f=Ik(o,t?.ref);return q.useInsertionEffect(()=>{const{width:g,height:p,top:v,left:x,right:_}=c.current;if(e||!o.current||!g||!p)return;const C=n==="left"?`left: ${x}`:`right: ${_}`;o.current.dataset.motionPopId=a;const L=document.createElement("style");h&&(L.nonce=h);const I=i??document.head;return I.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${p}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{I.contains(L)&&I.removeChild(L)}},[e]),d.jsx(kk,{isPresent:e,childRef:o,sizeRef:c,children:q.cloneElement(t,{ref:f})})}const Mk=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:c,anchorX:h,root:f})=>{const g=Iy(Dk),p=q.useId();let v=!0,x=q.useMemo(()=>(v=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:_=>{g.set(_,!0);for(const C of g.values())if(!C)return;i&&i()},register:_=>(g.set(_,!1),()=>g.delete(_))}),[n,g,i]);return o&&v&&(x={...x}),q.useMemo(()=>{g.forEach((_,C)=>g.set(C,!1))},[n]),q.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),c==="popLayout"&&(t=d.jsx(Pk,{isPresent:n,anchorX:h,root:f,children:t})),d.jsx(Xf.Provider,{value:x,children:t})};function Dk(){return new Map}function vA(t=!0){const e=q.useContext(Xf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,o=q.useId();q.useEffect(()=>{if(t)return a(o)},[t]);const c=q.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,c]:[!0]}const Hh=t=>t.key||"";function m_(t){const e=[];return q.Children.forEach(t,n=>{q.isValidElement(n)&&e.push(n)}),e}const Vk=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1,anchorX:h="left",root:f})=>{const[g,p]=vA(c),v=q.useMemo(()=>m_(t),[t]),x=c&&!g?[]:v.map(Hh),_=q.useRef(!0),C=q.useRef(v),L=Iy(()=>new Map),[I,N]=q.useState(v),[U,B]=q.useState(v);CE(()=>{_.current=!1,C.current=v;for(let G=0;G<U.length;G++){const O=Hh(U[G]);x.includes(O)?L.delete(O):L.get(O)!==!0&&L.set(O,!1)}},[U,x.length,x.join("-")]);const $=[];if(v!==I){let G=[...v];for(let O=0;O<U.length;O++){const w=U[O],E=Hh(w);x.includes(E)||(G.splice(O,0,w),$.push(w))}return o==="wait"&&$.length&&(G=$),B(m_(G)),N(v),null}const{forceRender:Z}=q.useContext(Ry);return d.jsx(d.Fragment,{children:U.map(G=>{const O=Hh(G),w=c&&!g?!1:v===U||x.includes(O),E=()=>{if(L.has(O))L.set(O,!0);else return;let D=!0;L.forEach(V=>{V||(D=!1)}),D&&(Z?.(),B(C.current),c&&p?.(),i&&i())};return d.jsx(Mk,{isPresent:w,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:f,onExitComplete:w?void 0:E,anchorX:h,children:G},O)})})},bA=q.createContext({strict:!1}),p_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dl={};for(const t in p_)Dl[t]={isEnabled:e=>p_[t].some(n=>!!e[n])};function Ok(t){for(const e in t)Dl[e]={...Dl[e],...t[e]}}const Lk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Af(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Lk.has(t)}let xA=t=>!Af(t);function Uk(t){typeof t=="function"&&(xA=e=>e.startsWith("on")?!Af(e):t(e))}try{Uk(require("@emotion/is-prop-valid").default)}catch{}function zk(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(xA(a)||n===!0&&Af(a)||!e&&!Af(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Zf=q.createContext({});function Jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ku(t){return typeof t=="string"||Array.isArray(t)}const t1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],n1=["initial",...t1];function em(t){return Jf(t.animate)||n1.some(e=>ku(t[e]))}function _A(t){return!!(em(t)||t.variants)}function Fk(t,e){if(em(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ku(n)?n:void 0,animate:ku(i)?i:void 0}}return t.inherit!==!1?e:{}}function Bk(t){const{initial:e,animate:n}=Fk(t,q.useContext(Zf));return q.useMemo(()=>({initial:e,animate:n}),[g_(e),g_(n)])}function g_(t){return Array.isArray(t)?t.join(" "):t}const Pu={};function qk(t){for(const e in t)Pu[e]=t[e],zy(e)&&(Pu[e].isCSSVariable=!0)}function wA(t,{layout:e,layoutId:n}){return Yl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pu[t]||t==="opacity")}const Hk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gk=Ql.length;function $k(t,e,n){let i="",a=!0;for(let o=0;o<Gk;o++){const c=Ql[o],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const g=hA(h,Xy[c]);if(!f){a=!1;const p=Hk[c]||c;i+=`${p}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function r1(t,e,n){const{style:i,vars:a,transformOrigin:o}=t;let c=!1,h=!1;for(const f in e){const g=e[f];if(Yl.has(f)){c=!0;continue}else if(zy(f)){a[f]=g;continue}else{const p=hA(g,Xy[f]);f.startsWith("origin")?(h=!0,o[f]=p):i[f]=p}}if(e.transform||(c||n?i.transform=$k(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:g="50%",originZ:p=0}=o;i.transformOrigin=`${f} ${g} ${p}`}}const i1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TA(t,e,n){for(const i in e)!Fn(e[i])&&!wA(i,n)&&(t[i]=e[i])}function Wk({transformTemplate:t},e){return q.useMemo(()=>{const n=i1();return r1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Kk(t,e){const n=t.style||{},i={};return TA(i,n,t),Object.assign(i,Wk(t,e)),i}function Qk(t,e){const n={},i=Kk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Yk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xk={offset:"strokeDashoffset",array:"strokeDasharray"};function Zk(t,e,n=1,i=0,a=!0){t.pathLength=1;const o=a?Yk:Xk;t[o.offset]=Pe.transform(-i);const c=Pe.transform(e),h=Pe.transform(n);t[o.array]=`${c} ${h}`}function EA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...h},f,g,p){if(r1(t,h,g),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=p?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&Zk(v,a,o,c,!1)}const AA=()=>({...i1(),attrs:{}}),SA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Jk(t,e,n,i){const a=q.useMemo(()=>{const o=AA();return EA(o,e,SA(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};TA(o,t.style,t),a.style={...o,...a.style}}return a}const eP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s1(t){return typeof t!="string"||t.includes("-")?!1:!!(eP.indexOf(t)>-1||/[A-Z]/u.test(t))}function tP(t,e,n,{latestValues:i},a,o=!1){const h=(s1(t)?Jk:Qk)(e,i,a,t),f=zk(e,typeof t=="string",o),g=t!==q.Fragment?{...f,...h,ref:n}:{},{children:p}=e,v=q.useMemo(()=>Fn(p)?p.get():p,[p]);return q.createElement(t,{...g,children:v})}function y_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function a1(t,e,n,i){if(typeof e=="function"){const[a,o]=y_(i);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=y_(i);e=e(n!==void 0?n:t.custom,a,o)}return e}function sf(t){return Fn(t)?t.get():t}function nP({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:rP(n,i,a,t),renderState:e()}}function rP(t,e,n,i){const a={},o=i(t,{});for(const x in o)a[x]=sf(o[x]);let{initial:c,animate:h}=t;const f=em(t),g=_A(t);e&&g&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const v=p?h:c;if(v&&typeof v!="boolean"&&!Jf(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const C=a1(t,x[_]);if(C){const{transitionEnd:L,transition:I,...N}=C;for(const U in N){let B=N[U];if(Array.isArray(B)){const $=p?B.length-1:0;B=B[$]}B!==null&&(a[U]=B)}for(const U in L)a[U]=L[U]}}}return a}const CA=t=>(e,n)=>{const i=q.useContext(Zf),a=q.useContext(Xf),o=()=>nP(t,e,i,a);return n?o():Iy(o)};function o1(t,e,n){const{style:i}=t,a={};for(const o in i)(Fn(i[o])||e.style&&Fn(e.style[o])||wA(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=i[o]);return a}const iP=CA({scrapeMotionValuesFromProps:o1,createRenderState:i1});function NA(t,e,n){const i=o1(t,e,n);for(const a in t)if(Fn(t[a])||Fn(e[a])){const o=Ql.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}const sP=CA({scrapeMotionValuesFromProps:NA,createRenderState:AA}),aP=Symbol.for("motionComponentSymbol");function wl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oP(t,e,n){return q.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):wl(n)&&(n.current=i))},[e])}const l1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lP="framerAppearId",jA="data-"+l1(lP),RA=q.createContext({});function cP(t,e,n,i,a){const{visualElement:o}=q.useContext(Zf),c=q.useContext(bA),h=q.useContext(Xf),f=q.useContext(e1).reducedMotion,g=q.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const p=g.current,v=q.useContext(RA);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&uP(g.current,n,a,v);const x=q.useRef(!1);q.useInsertionEffect(()=>{p&&x.current&&p.update(n,h)});const _=n[jA],C=q.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return CE(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),C.current&&p.animationState&&p.animationState.animateChanges())}),q.useEffect(()=>{p&&(!C.current&&p.animationState&&p.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),C.current=!1),p.enteringChildren=void 0)}),p}function uP(t,e,n,i){const{layoutId:a,layout:o,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:g,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IA(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||h&&wl(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:f,layoutRoot:g})}function IA(t){if(t)return t.options.allowProjection!==!1?t.projection:IA(t.parent)}function Og(t,{forwardMotionProps:e=!1}={},n,i){n&&Ok(n);const a=s1(t)?sP:iP;function o(h,f){let g;const p={...q.useContext(e1),...h,layoutId:dP(h)},{isStatic:v}=p,x=Bk(h),_=a(h,v);if(!v&&ky){hP();const C=fP(p);g=C.MeasureLayout,x.visualElement=cP(t,_,p,i,C.ProjectionNode)}return d.jsxs(Zf.Provider,{value:x,children:[g&&x.visualElement?d.jsx(g,{visualElement:x.visualElement,...p}):null,tP(t,h,oP(_,x.visualElement,f),_,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=q.forwardRef(o);return c[aP]=t,c}function dP({layoutId:t}){const e=q.useContext(Ry).id;return e&&t!==void 0?e+"-"+t:t}function hP(t,e){q.useContext(bA).strict}function fP(t){const{drag:e,layout:n}=Dl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function mP(t,e){if(typeof Proxy>"u")return Og;const n=new Map,i=(o,c)=>Og(o,c,t,e),a=(o,c)=>i(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?i:(n.has(c)||n.set(c,Og(c,void 0,t,e)),n.get(c))})}function kA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function pP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Lg(t){return t===void 0||t===1}function O0({scale:t,scaleX:e,scaleY:n}){return!Lg(t)||!Lg(e)||!Lg(n)}function io(t){return O0(t)||PA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function PA(t){return v_(t.x)||v_(t.y)}function v_(t){return t&&t!=="0%"}function Sf(t,e,n){const i=t-n,a=e*i;return n+a}function b_(t,e,n,i,a){return a!==void 0&&(t=Sf(t,a,i)),Sf(t,n,i)+e}function L0(t,e=0,n=1,i,a){t.min=b_(t.min,e,n,i,a),t.max=b_(t.max,e,n,i,a)}function MA(t,{x:e,y:n}){L0(t.x,e.translate,e.scale,e.originPoint),L0(t.y,n.translate,n.scale,n.originPoint)}const x_=.999999999999,__=1.0000000000001;function yP(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,c;for(let h=0;h<a;h++){o=n[h],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&El(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,MA(t,c)),i&&io(o.latestValues)&&El(t,o.latestValues))}e.x<__&&e.x>x_&&(e.x=1),e.y<__&&e.y>x_&&(e.y=1)}function Tl(t,e){t.min=t.min+e,t.max=t.max+e}function w_(t,e,n,i,a=.5){const o=Mt(t.min,t.max,a);L0(t,e,n,o,i)}function El(t,e){w_(t.x,e.x,e.scaleX,e.scale,e.originX),w_(t.y,e.y,e.scaleY,e.scale,e.originY)}function DA(t,e){return kA(gP(t.getBoundingClientRect(),e))}function vP(t,e,n){const i=DA(t,n),{scroll:a}=e;return a&&(Tl(i.x,a.offset.x),Tl(i.y,a.offset.y)),i}const T_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:T_(),y:T_()}),E_=()=>({min:0,max:0}),Wt=()=>({x:E_(),y:E_()}),U0={current:null},VA={current:!1};function bP(){if(VA.current=!0,!!ky)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>U0.current=t.matches;t.addEventListener("change",e),e()}else U0.current=!1}const xP=new WeakMap;function _P(t,e,n){for(const i in e){const a=e[i],o=n[i];if(Fn(a))t.addValue(i,a);else if(Fn(o))t.addValue(i,Ml(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Ml(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const A_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ar.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,kt.render(this.render,!1,!0))};const{latestValues:f,renderState:g}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=em(n),this.isVariantNode=_A(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const _=v[x];f[x]!==void 0&&Fn(_)&&_.set(f[x])}}mount(e){this.current=e,xP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),VA.current||bP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:U0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Yl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&kt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dl){const n=Dl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<A_.length;i++){const a=A_[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=_P(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ml(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(NE(i)||RE(i))?i=parseFloat(i):!jk(i)&&pa.test(n)&&(i=dA(e,n)),this.setBaseTarget(e,Fn(i)?i.get():i)),Fn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=a1(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Fn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Oy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Zy.render(this.render)}}class OA extends wP{constructor(){super(...arguments),this.KeyframeResolver=yk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LA(t,{style:e,vars:n},i,a){const o=t.style;let c;for(c in e)o[c]=e[c];a?.applyProjectionStyles(o,i);for(c in n)o.setProperty(c,n[c])}function TP(t){return window.getComputedStyle(t)}class EP extends OA{constructor(){super(...arguments),this.type="html",this.renderInstance=LA}readValueFromInstance(e,n){if(Yl.has(n))return this.projection?.isProjecting?R0(n):VI(e,n);{const i=TP(e),a=(zy(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DA(e,n)}build(e,n,i){r1(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return o1(e,n,i)}}const UA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AP(t,e,n,i){LA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(UA.has(a)?a:l1(a),e.attrs[a])}class SP extends OA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yl.has(n)){const i=uA(n);return i&&i.default||0}return n=UA.has(n)?n:l1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return NA(e,n,i)}build(e,n,i){EA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){AP(e,n,i,a)}mount(e){this.isSVGTag=SA(e.tagName),super.mount(e)}}const CP=(t,e)=>s1(t)?new SP(e):new EP(e,{allowProjection:t!==q.Fragment});function Nl(t,e,n){const i=t.getProps();return a1(i,e,n!==void 0?n:i.custom,t)}const z0=t=>Array.isArray(t);function NP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ml(n))}function jP(t){return z0(t)?t[t.length-1]||0:t}function RP(t,e){const n=Nl(t,e);let{transitionEnd:i={},transition:a={},...o}=n||{};o={...o,...i};for(const c in o){const h=jP(o[c]);NP(t,c,h)}}function IP(t){return!!(Fn(t)&&t.add)}function F0(t,e){const n=t.getValue("willChange");if(IP(n))return n.add(e);if(!n&&ms.WillChange){const i=new ms.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function zA(t){return t.props[jA]}const kP=t=>t!==null;function PP(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(kP),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}const MP={type:"spring",stiffness:500,damping:25,restSpeed:10},DP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VP={type:"keyframes",duration:.8},OP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LP=(t,{keyframes:e})=>e.length>2?VP:Yl.has(t)?t.startsWith("scale")?DP(e[1]):MP:OP;function UP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:h,from:f,elapsed:g,...p}){return!!Object.keys(p).length}const c1=(t,e,n,i={},a,o)=>c=>{const h=Yy(i,t)||{},f=h.delay||i.delay||0;let{elapsed:g=0}=i;g=g-ji(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:a};UP(h)||Object.assign(p,LP(t,p)),p.duration&&(p.duration=ji(p.duration)),p.repeatDelay&&(p.repeatDelay=ji(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(D0(p),p.delay===0&&(v=!0)),(ms.instantAnimations||ms.skipAnimations)&&(v=!0,D0(p),p.delay=0),p.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const x=PP(p.keyframes,h);if(x!==void 0){kt.update(()=>{p.onUpdate(x),p.onComplete()});return}}return h.isSync?new Ky(p):new sk(p)};function zP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function FA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(o=i);const f=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const p in h){const v=t.getValue(p,t.latestValues[p]??null),x=h[p];if(x===void 0||g&&zP(g,p))continue;const _={delay:n,...Yy(o||{},p)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===C&&!_.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const N=zA(t);if(N){const U=window.MotionHandoffAnimation(N,p,kt);U!==null&&(_.startTime=U,L=!0)}}F0(t,p),v.start(c1(p,v,x,t.shouldReduceMotion&&oA.has(p)?{type:!1}:_,t,L));const I=v.animation;I&&f.push(I)}return c&&Promise.all(f).then(()=>{kt.update(()=>{c&&RP(t,c)})}),f}function BA(t,e,n,i=0,a=1){const o=Array.from(t).sort((g,p)=>g.sortNodePosition(p)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(o,c):a===1?o*i:h-o*i}function B0(t,e,n={}){const i=Nl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(FA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:p,staggerDirection:v}=a;return FP(t,e,f,g,p,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,g]=h==="beforeChildren"?[o,c]:[c,o];return f().then(()=>g())}else return Promise.all([o(),c(n.delay)])}function FP(t,e,n=0,i=0,a=0,o=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(B0(f,e,{...c,delay:n+(typeof i=="function"?0:i)+BA(t.variantChildren,f,i,a,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function BP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>B0(t,o,n));i=Promise.all(a)}else if(typeof e=="string")i=B0(t,e,n);else{const a=typeof e=="function"?Nl(t,e,n.custom):e;i=Promise.all(FA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function qA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const qP=n1.length;function HA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qP;n++){const i=n1[n],a=t.props[i];(ku(a)||a===!1)&&(e[i]=a)}return e}const HP=[...t1].reverse(),GP=t1.length;function $P(t){return e=>Promise.all(e.map(({animation:n,options:i})=>BP(t,n,i)))}function WP(t){let e=$P(t),n=S_(),i=!0;const a=f=>(g,p)=>{const v=Nl(t,p,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:_,...C}=v;g={...g,...C,..._}}return g};function o(f){e=f(t)}function c(f){const{props:g}=t,p=HA(t.parent)||{},v=[],x=new Set;let _={},C=1/0;for(let I=0;I<GP;I++){const N=HP[I],U=n[N],B=g[N]!==void 0?g[N]:p[N],$=ku(B),Z=N===f?U.isActive:null;Z===!1&&(C=I);let G=B===p[N]&&B!==g[N]&&$;if(G&&i&&t.manuallyAnimateOnMount&&(G=!1),U.protectedKeys={..._},!U.isActive&&Z===null||!B&&!U.prevProp||Jf(B)||typeof B=="boolean")continue;const O=KP(U.prevProp,B);let w=O||N===f&&U.isActive&&!G&&$||I>C&&$,E=!1;const D=Array.isArray(B)?B:[B];let V=D.reduce(a(N),{});Z===!1&&(V={});const{prevResolvedValues:P={}}=U,A={...P,...V},k=M=>{w=!0,x.has(M)&&(E=!0,x.delete(M)),U.needsAnimating[M]=!0;const Y=t.getValue(M);Y&&(Y.liveStyle=!1)};for(const M in A){const Y=V[M],ee=P[M];if(_.hasOwnProperty(M))continue;let se=!1;z0(Y)&&z0(ee)?se=!qA(Y,ee):se=Y!==ee,se?Y!=null?k(M):x.add(M):Y!==void 0&&x.has(M)?k(M):U.protectedKeys[M]=!0}U.prevProp=B,U.prevResolvedValues=V,U.isActive&&(_={..._,...V}),i&&t.blockInitialAnimation&&(w=!1);const F=G&&O;w&&(!F||E)&&v.push(...D.map(M=>{const Y={type:N};if(typeof M=="string"&&i&&!F&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,se=Nl(ee,M);if(ee.enteringChildren&&se){const{delayChildren:Q}=se.transition||{};Y.delay=BA(ee.enteringChildren,t,Q)}}return{animation:M,options:Y}}))}if(x.size){const I={};if(typeof g.initial!="boolean"){const N=Nl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);N&&N.transition&&(I.transition=N.transition)}x.forEach(N=>{const U=t.getBaseTarget(N),B=t.getValue(N);B&&(B.liveStyle=!0),I[N]=U??null}),v.push({animation:I})}let L=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(v):Promise.resolve()}function h(f,g){if(n[f].isActive===g)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,g)),n[f].isActive=g;const p=c(f);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=S_()}}}function KP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qA(e,t):!1}function no(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S_(){return{animate:no(!0),whileInView:no(),whileHover:no(),whileTap:no(),whileDrag:no(),whileFocus:no(),exit:no()}}class Ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QP extends Ta{constructor(e){super(e),e.animationState||(e.animationState=WP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let YP=0;class XP extends Ta{constructor(){super(...arguments),this.id=YP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ZP={animation:{Feature:QP},exit:{Feature:XP}};function Mu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Yu(t){return{point:{x:t.pageX,y:t.pageY}}}const JP=t=>e=>Jy(e)&&t(e,Yu(e));function yu(t,e,n,i){return Mu(t,e,JP(n),i)}const GA=1e-4,eM=1-GA,tM=1+GA,$A=.01,nM=0-$A,rM=0+$A;function Gn(t){return t.max-t.min}function iM(t,e,n){return Math.abs(t-e)<=n}function C_(t,e,n,i=.5){t.origin=i,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=Gn(n)/Gn(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eM&&t.scale<=tM||isNaN(t.scale))&&(t.scale=1),(t.translate>=nM&&t.translate<=rM||isNaN(t.translate))&&(t.translate=0)}function vu(t,e,n,i){C_(t.x,e.x,n.x,i?i.originX:void 0),C_(t.y,e.y,n.y,i?i.originY:void 0)}function N_(t,e,n){t.min=n.min+e.min,t.max=t.min+Gn(e)}function sM(t,e,n){N_(t.x,e.x,n.x),N_(t.y,e.y,n.y)}function j_(t,e,n){t.min=e.min-n.min,t.max=t.min+Gn(e)}function bu(t,e,n){j_(t.x,e.x,n.x),j_(t.y,e.y,n.y)}function Mr(t){return[t("x"),t("y")]}const WA=({current:t})=>t?t.ownerDocument.defaultView:null,R_=(t,e)=>Math.abs(t-e);function aM(t,e){const n=R_(t.x,e.x),i=R_(t.y,e.y);return Math.sqrt(n**2+i**2)}class KA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=zg(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,C=aM(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!C)return;const{point:L}=x,{timestamp:I}=Rn;this.history.push({...L,timestamp:I});const{onStart:N,onMove:U}=this.handlers;_||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,x)},this.handlePointerMove=(x,_)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ug(_,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(x,_)=>{this.end();const{onEnd:C,onSessionEnd:L,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=zg(x.type==="pointercancel"?this.lastMoveEventInfo:Ug(_,this.transformPagePoint),this.history);this.startEvent&&C&&C(x,N),L&&L(x,N)},!Jy(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const h=Yu(e),f=Ug(h,this.transformPagePoint),{point:g}=f,{timestamp:p}=Rn;this.history=[{...g,timestamp:p}];const{onSessionStart:v}=n;v&&v(e,zg(f,this.history)),this.removeListeners=Wu(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}}function Ug(t,e){return e?{point:e(t.point)}:t}function I_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zg({point:t},e){return{point:t,delta:I_(t,QA(e)),offset:I_(t,oM(e)),velocity:lM(e,.1)}}function oM(t){return t[0]}function QA(t){return t[t.length-1]}function lM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=QA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>ji(e)));)n--;if(!i)return{x:0,y:0};const o=Dr(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function cM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Mt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Mt(n,t,i.max):Math.min(t,n)),t}function k_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uM(t,{top:e,left:n,bottom:i,right:a}){return{x:k_(t.x,n,a),y:k_(t.y,e,i)}}function P_(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function dM(t,e){return{x:P_(t.x,e.x),y:P_(t.y,e.y)}}function hM(t,e){let n=.5;const i=Gn(t),a=Gn(e);return a>i?n=ju(e.min,e.max-i,t.min):i>a&&(n=ju(t.min,t.max-a,e.min)),fs(0,1,n)}function fM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const q0=.35;function mM(t=q0){return t===!1?t=0:t===!0&&(t=q0),{x:M_(t,"left","right"),y:M_(t,"top","bottom")}}function M_(t,e,n){return{min:D_(t,e),max:D_(t,n)}}function D_(t,e){return typeof t=="number"?t:t[e]||0}const pM=new WeakMap;class gM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yu(v).point)},c=(v,x)=>{const{drag:_,dragPropagation:C,onDragStart:L}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_k(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(N=>{let U=this.getAxisMotionValue(N).get()||0;if(Ri.test(U)){const{projection:B}=this.visualElement;if(B&&B.layout){const $=B.layout.layoutBox[N];$&&(U=Gn($)*(parseFloat(U)/100))}}this.originPoint[N]=U}),L&&kt.postRender(()=>L(v,x)),F0(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:L,onDrag:I}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=x;if(C&&this.currentDirection===null){this.currentDirection=yM(N),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),I&&I(v,x)},f=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Mr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new KA(e,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:WA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&kt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Gh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=cM(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&wl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=uM(i.layoutBox,e):this.constraints=!1,this.elastic=mM(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Mr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fM(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=vP(i,a.root,this.visualElement.getTransformPagePoint());let c=dM(a.layout.layoutBox,o);if(n){const h=n(pP(c));this.hasMutatedConstraints=!!h,h&&(c=kA(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},g=Mr(p=>{if(!Gh(p,n,this.currentDirection))return;let v=f&&f[p]||{};c&&(v={min:0,max:0});const x=a?200:1e6,_=a?40:1e7,C={type:"inertia",velocity:i?e[p]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(p,C)});return Promise.all(g).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return F0(this.visualElement,e),i.start(c1(e,i,0,n,this.visualElement,!1))}stopAnimation(){Mr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Mr(n=>{const{drag:i}=this.getProps();if(!Gh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];o.set(e[n]-Mt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!wl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Mr(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=hM({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Mr(c=>{if(!Gh(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:g}=this.constraints[c];h.set(Mt(f,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;pM.set(this.visualElement,this);const e=this.visualElement.current,n=yu(e,"pointerdown",f=>{const{drag:g,dragListener:p=!0}=this.getProps();g&&p&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();wl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),kt.read(i);const c=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(Mr(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=f[p].translate,v.set(v.get()+f[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=q0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function Gh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vM extends Ta{constructor(e){super(e),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new gM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const V_=t=>(e,n)=>{t&&kt.postRender(()=>t(e,n))};class bM extends Ta{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(e){this.session=new KA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:V_(e),onStart:V_(n),onMove:i,onEnd:(o,c)=>{delete this.session,a&&kt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function O_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ou={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=O_(t,e.target.x),i=O_(t,e.target.y);return`${n}% ${i}%`}},xM={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=pa.parse(t);if(a.length>5)return i;const o=pa.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const g=Mt(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),o(a)}};let Fg=!1;class _M extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;qk(wM),o&&(n.group&&n.group.add(o),i&&i.register&&a&&i.register(o),Fg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,Fg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||kt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Fg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YA(t){const[e,n]=vA(),i=q.useContext(Ry);return d.jsx(_M,{...t,layoutGroup:i,switchLayoutGroup:q.useContext(RA),isPresent:e,safeToRemove:n})}const wM={borderRadius:{...ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ou,borderTopRightRadius:ou,borderBottomLeftRadius:ou,borderBottomRightRadius:ou,boxShadow:xM};function TM(t,e,n){const i=Fn(t)?t:Ml(t);return i.start(c1("",i,e,n)),i.animation}const EM=(t,e)=>t.depth-e.depth;class AM{constructor(){this.children=[],this.isDirty=!1}add(e){Py(this.children,e),this.isDirty=!0}remove(e){My(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EM),this.isDirty=!1,this.children.forEach(e)}}function SM(t,e){const n=ar.now(),i=({timestamp:a})=>{const o=a-n;o>=e&&(ma(i),t(o-e))};return kt.setup(i,!0),()=>ma(i)}const XA=["TopLeft","TopRight","BottomLeft","BottomRight"],CM=XA.length,L_=t=>typeof t=="string"?parseFloat(t):t,U_=t=>typeof t=="number"||Pe.test(t);function NM(t,e,n,i,a,o){a?(t.opacity=Mt(0,n.opacity??1,jM(i)),t.opacityExit=Mt(e.opacity??1,0,RM(i))):o&&(t.opacity=Mt(e.opacity??1,n.opacity??1,i));for(let c=0;c<CM;c++){const h=`border${XA[c]}Radius`;let f=z_(e,h),g=z_(n,h);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||U_(f)===U_(g)?(t[h]=Math.max(Mt(L_(f),L_(g),i),0),(Ri.test(g)||Ri.test(f))&&(t[h]+="%")):t[h]=g}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,i))}function z_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jM=ZA(0,.5,LE),RM=ZA(.5,.95,Vr);function ZA(t,e,n){return i=>i<t?0:i>e?1:n(ju(t,e,i))}function F_(t,e){t.min=e.min,t.max=e.max}function Pr(t,e){F_(t.x,e.x),F_(t.y,e.y)}function B_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function q_(t,e,n,i,a){return t-=e,t=Sf(t,1/n,i),a!==void 0&&(t=Sf(t,1/a,i)),t}function IM(t,e=0,n=1,i=.5,a,o=t,c=t){if(Ri.test(e)&&(e=parseFloat(e),e=Mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Mt(o.min,o.max,i);t===o&&(h-=e),t.min=q_(t.min,e,n,h,a),t.max=q_(t.max,e,n,h,a)}function H_(t,e,[n,i,a],o,c){IM(t,e[n],e[i],e[a],e.scale,o,c)}const kM=["x","scaleX","originX"],PM=["y","scaleY","originY"];function G_(t,e,n,i){H_(t.x,e,kM,n?n.x:void 0,i?i.x:void 0),H_(t.y,e,PM,n?n.y:void 0,i?i.y:void 0)}function $_(t){return t.translate===0&&t.scale===1}function JA(t){return $_(t.x)&&$_(t.y)}function W_(t,e){return t.min===e.min&&t.max===e.max}function MM(t,e){return W_(t.x,e.x)&&W_(t.y,e.y)}function K_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eS(t,e){return K_(t.x,e.x)&&K_(t.y,e.y)}function Q_(t){return Gn(t.x)/Gn(t.y)}function Y_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DM{constructor(){this.members=[]}add(e){Py(this.members,e),e.scheduleRender()}remove(e){if(My(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VM(t,e,n){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=n?.z||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:p,rotateX:v,rotateY:x,skewX:_,skewY:C}=n;g&&(i=`perspective(${g}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),C&&(i+=`skewY(${C}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Bg=["","X","Y","Z"],OM=1e3;let LM=0;function qg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function tS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",kt,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&tS(i)}function nS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=LM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FM),this.nodes.forEach(GM),this.nodes.forEach($M),this.nodes.forEach(BM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new AM)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Oy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=yA(c)&&!Ck(c),this.instance=c;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let p,v=0;const x=()=>this.root.updateBlockedByResize=!1;kt.read(()=>{v=window.innerWidth}),t(c,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,p&&p(),p=SM(x,250),af.hasAnimatedSinceResize&&(af.hasAnimatedSinceResize=!1,this.nodes.forEach(J_)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||XM,{onLayoutAnimationStart:L,onLayoutAnimationComplete:I}=g.getProps(),N=!this.targetLayout||!eS(this.targetLayout,_),U=!v&&x;if(this.options.layoutRoot||this.resumeFrom||U||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Yy(C,"layout"),onPlay:L,onComplete:I};(g.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(p,U)}else v||J_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Z_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HM),this.nodes.forEach(UM),this.nodes.forEach(zM)):this.nodes.forEach(Z_),this.clearAllSnapshots();const h=ar.now();Rn.delta=fs(0,1e3/60,h-Rn.timestamp),Rn.timestamp=h,Rn.isProcessing=!0,Ig.update.process(Rn),Ig.preRender.process(Rn),Ig.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qM),this.sharedNodes.forEach(KM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!JA(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,p=g!==this.prevTransformTemplateValue;c&&this.instance&&(h||io(this.latestValues)||p)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),ZM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Wt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(JM))){const{scroll:g}=this.root;g&&(Tl(h.x,g.offset.x),Tl(h.y,g.offset.y))}return h}removeElementScroll(c){const h=Wt();if(Pr(h,c),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:p,options:v}=g;g!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&Pr(h,c),Tl(h.x,p.offset.x),Tl(h.y,p.offset.y))}return h}applyTransform(c,h=!1){const f=Wt();Pr(f,c);for(let g=0;g<this.path.length;g++){const p=this.path[g];!h&&p.options.layoutScroll&&p.scroll&&p!==p.root&&El(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),io(p.latestValues)&&El(f,p.latestValues)}return io(this.latestValues)&&El(f,this.latestValues),f}removeTransform(c){const h=Wt();Pr(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!io(g.latestValues))continue;O0(g.latestValues)&&g.updateSnapshot();const p=Wt(),v=g.measurePageBox();Pr(p,v),G_(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,p)}return io(this.latestValues)&&G_(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),bu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pr(this.target,this.layout.layoutBox),MA(this.target,this.targetDelta)):Pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),bu(this.relativeTargetOrigin,this.target,x.target),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||O0(this.parent.latestValues)||PA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||p))return;Pr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;yP(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Wt());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B_(this.prevProjectionDelta.x,this.projectionDelta.x),B_(this.prevProjectionDelta.y,this.projectionDelta.y)),vu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Y_(this.projectionDelta.x,this.prevProjectionDelta.x)||!Y_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Al(),this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al()}setAnimationOrigin(c,h=!1){const f=this.snapshot,g=f?f.latestValues:{},p={...this.latestValues},v=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=Wt(),_=f?f.source:void 0,C=this.layout?this.layout.source:void 0,L=_!==C,I=this.getStack(),N=!I||I.members.length<=1,U=!!(L&&!N&&this.options.crossfade===!0&&!this.path.some(YM));this.animationProgress=0;let B;this.mixTargetDelta=$=>{const Z=$/1e3;ew(v.x,c.x,Z),ew(v.y,c.y,Z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QM(this.relativeTarget,this.relativeTargetOrigin,x,Z),B&&MM(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Wt()),Pr(B,this.relativeTarget)),L&&(this.animationValues=p,NM(p,g,this.latestValues,Z,U,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ml(0)),this.currentAnimation=TM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:g,latestValues:p}=c;if(!(!h||!f||!g)){if(this!==c&&this.layout&&g&&rS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||Wt();const v=Gn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const x=Gn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}Pr(h,f),El(h,p),vu(this.projectionDeltaWithTransform,this.layoutCorrected,h,p)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new DM),this.sharedNodes.get(c).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const g={};f.z&&qg("z",c,g,this.animationValues);for(let p=0;p<Bg.length;p++)qg(`rotate${Bg[p]}`,c,g,this.animationValues),qg(`skew${Bg[p]}`,c,g,this.animationValues);c.render();for(const p in g)c.setStaticValue(p,g[p]),this.animationValues&&(this.animationValues[p]=g[p]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=sf(h?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=sf(h?.pointerEvents)||""),this.hasProjected&&!io(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=VM(this.projectionDeltaWithTransform,this.treeScale,p);f&&(v=f(p,v)),c.transform=v;const{x,y:_}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,g.animationValues?c.opacity=g===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=g===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const C in Pu){if(p[C]===void 0)continue;const{correct:L,applyTo:I,isCSSVariable:N}=Pu[C],U=v==="none"?p[C]:L(p[C],g);if(I){const B=I.length;for(let $=0;$<B;$++)c[I[$]]=U}else N?this.options.visualElement.renderState.vars[C]=U:c[C]=U}this.options.layoutId&&(c.pointerEvents=g===this?sf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(X_),this.root.sharedNodes.clear()}}}function UM(t){t.updateLayout()}function zM(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Mr(p=>{const v=o?e.measuredBox[p]:e.layoutBox[p],x=Gn(v);v.min=n[p].min,v.max=v.min+x}):rS(a,e.layoutBox,n)&&Mr(p=>{const v=o?e.measuredBox[p]:e.layoutBox[p],x=Gn(n[p]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const c=Al();vu(c,n,e.layoutBox);const h=Al();o?vu(h,t.applyTransform(i,!0),e.measuredBox):vu(h,n,e.layoutBox);const f=!JA(c);let g=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:x}=p;if(v&&x){const _=Wt();bu(_,e.layoutBox,v.layoutBox);const C=Wt();bu(C,n,x.layoutBox),eS(_,C)||(g=!0),p.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=_,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function FM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qM(t){t.clearSnapshot()}function X_(t){t.clearMeasurements()}function Z_(t){t.isLayoutDirty=!1}function HM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function J_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GM(t){t.resolveTargetDelta()}function $M(t){t.calcProjection()}function WM(t){t.resetSkewAndRotation()}function KM(t){t.removeLeadSnapshot()}function ew(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tw(t,e,n,i){t.min=Mt(e.min,n.min,i),t.max=Mt(e.max,n.max,i)}function QM(t,e,n,i){tw(t.x,e.x,n.x,i),tw(t.y,e.y,n.y,i)}function YM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XM={duration:.45,ease:[.4,0,.1,1]},nw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rw=nw("applewebkit/")&&!nw("chrome/")?Math.round:Vr;function iw(t){t.min=rw(t.min),t.max=rw(t.max)}function ZM(t){iw(t.x),iw(t.y)}function rS(t,e,n){return t==="position"||t==="preserve-aspect"&&!iM(Q_(e),Q_(n),.2)}function JM(t){return t!==t.root&&t.scroll?.wasRoot}const eD=nS({attachResizeListener:(t,e)=>Mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hg={current:void 0},iS=nS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hg.current){const t=new eD({});t.mount(window),t.setOptions({layoutScroll:!0}),Hg.current=t}return Hg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tD={pan:{Feature:bM},drag:{Feature:vM,ProjectionNode:iS,MeasureLayout:YA}};function sw(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=i[a];o&&kt.postRender(()=>o(e,Yu(e)))}class nD extends Ta{mount(){const{current:e}=this.node;e&&(this.unmount=wk(e,(n,i)=>(sw(this.node,i,"Start"),a=>sw(this.node,a,"End"))))}unmount(){}}class rD extends Ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aw(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=i[a];o&&kt.postRender(()=>o(e,Yu(e)))}class iD extends Ta{mount(){const{current:e}=this.node;e&&(this.unmount=Sk(e,(n,i)=>(aw(this.node,i,"Start"),(a,{success:o})=>aw(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const H0=new WeakMap,Gg=new WeakMap,sD=t=>{const e=H0.get(t.target);e&&e(t)},aD=t=>{t.forEach(sD)};function oD({root:t,...e}){const n=t||document;Gg.has(n)||Gg.set(n,{});const i=Gg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(aD,{root:t,...e})),i[a]}function lD(t,e,n){const i=oD(e);return H0.set(t,n),i.observe(t),()=>{H0.delete(t),i.unobserve(t)}}const cD={some:0,all:1};class uD extends Ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:cD[a]},h=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,o&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),x=g?p:v;x&&x(f)};return lD(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(dD(e,n))&&this.startObserver()}unmount(){}}function dD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hD={inView:{Feature:uD},tap:{Feature:iD},focus:{Feature:rD},hover:{Feature:nD}},fD={layout:{ProjectionNode:iS,MeasureLayout:YA}},mD={...ZP,...hD,...tD,...fD},pD=mP(mD,CP);function gD({timers:t,onToggle:e,onReset:n,onDelete:i}){return t.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-50",children:[d.jsx("div",{className:"mb-4 rounded-full bg-muted p-6",children:d.jsx("span",{className:"text-4xl",children:""})}),d.jsx("h3",{className:"text-xl font-medium text-foreground",children:"Aucun timer actif"}),d.jsx("p",{className:"text-muted-foreground",children:"Utilisez l'assistant pour commencer une cuisson"})]}):d.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.jsx(Vk,{children:t.map(a=>d.jsx(pD.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.3},children:d.jsx(P6,{timer:a,onToggle:e,onReset:n,onDelete:i})},a.id))})})}function yD({timers:t}){const e=t.filter(a=>a.isRunning).length,n=t.filter(a=>a.remainingTime<=0).length,i=t.filter(a=>a.isRunning&&a.remainingTime>0).sort((a,o)=>a.remainingTime-o.remainingTime)[0];return d.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[d.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 shadow-sm",children:[d.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Timers Actifs"}),d.jsx("div",{className:"text-3xl font-bold text-primary",children:e})]}),d.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 shadow-sm",children:[d.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Termins"}),d.jsx("div",{className:"text-3xl font-bold text-green-500",children:n})]}),d.jsxs("div",{className:"col-span-2 rounded-2xl border border-primary/20 bg-gradient-to-br from-primary/5 to-purple-500/5 p-4 shadow-sm md:col-span-2",children:[d.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Prochaine fin de cuisson"}),i?d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[Math.ceil(i.remainingTime/60)," ",d.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"min"})]}),d.jsx("div",{className:"truncate text-sm font-medium text-primary",children:i.name})]}):d.jsx("div",{className:"text-xl font-medium text-muted-foreground",children:"--:--"})]})]})}const vD="modulepreload",bD=function(t){return"/"+t},ow={},xD=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let g=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=g;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=h?.nonce||h?.getAttribute("nonce");a=g(n.map(p=>{if(p=bD(p),p in ow)return;ow[p]=!0;const v=p.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":vD,v||(_.as="script"),_.crossOrigin="",_.href=p,f&&_.setAttribute("nonce",f),document.head.appendChild(_),v)return new Promise((C,L)=>{_.addEventListener("load",C),_.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return a.then(h=>{for(const f of h||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})},_D=()=>{};var lw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},wD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],h=t[n++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},aS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,h=c?t[a+1]:0,f=a+2<t.length,g=f?t[a+2]:0,p=o>>2,v=(o&3)<<4|h>>4;let x=(h&15)<<2|g>>6,_=g&63;f||(_=64,c||(x=64)),i.push(n[p],n[v],n[x],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||g==null||v==null)throw new TD;const x=o<<2|h>>4;if(i.push(x),g!==64){const _=h<<4&240|g>>2;if(i.push(_),v!==64){const C=g<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ED=function(t){const e=sS(t);return aS.encodeByteArray(e,!0)},Cf=function(t){return ED(t).replace(/\./g,"")},oS=function(t){try{return aS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=()=>AD().__FIREBASE_DEFAULTS__,CD=()=>{if(typeof process>"u"||typeof lw>"u")return;const t=lw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ND=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oS(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return _D()||SD()||CD()||ND()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lS=t=>tm()?.emulatorHosts?.[t],jD=t=>{const e=lS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},cS=()=>tm()?.config,uS=t=>tm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cf(JSON.stringify(n)),Cf(JSON.stringify(c)),""].join(".")}const xu={};function kD(){const t={prod:[],emulator:[]};for(const e of Object.keys(xu))xu[e]?t.emulator.push(e):t.prod.push(e);return t}function PD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cw=!1;function hS(t,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||xu[t]===e||xu[t]||cw)return;xu[t]=e;function n(x){return`__firebase__banner__${x}`}const i="__firebase__banner",o=kD().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,_){x.setAttribute("width","24"),x.setAttribute("id",_),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{cw=!0,c()},x}function p(x,_){x.setAttribute("id",_),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=PD(i),_=n("text"),C=document.getElementById(_)||document.createElement("span"),L=n("learnmore"),I=document.getElementById(L)||document.createElement("a"),N=n("preprendIcon"),U=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;h(B),p(I,L);const $=g();f(U,N),B.append(U,C,I,$),document.body.appendChild(B)}o?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function DD(){const t=tm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UD(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zD(){return!DD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FD(){try{return typeof indexedDB=="object"}catch{return!1}}function BD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="FirebaseError";class xs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=qD,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?HD(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new xs(a,h,i)}}function HD(t,e){return t.replace(GD,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const GD=/\{\$([^}]+)}/g;function $D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const o=t[a],c=e[a];if(uw(o)&&uw(c)){if(!yo(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function uw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function WD(t,e){const n=new KD(t,e);return n.subscribe.bind(n)}class KD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=$g),a.error===void 0&&(a.error=$g),a.complete===void 0&&(a.complete=$g);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class vo{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new RD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZD(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XD(t){return t===so?void 0:t}function ZD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const e9={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},t9=Qe.INFO,n9={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},r9=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=n9[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u1{constructor(e){this.name=e,this._logLevel=t9,this._logHandler=r9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const i9=(t,e)=>e.some(n=>t instanceof n);let dw,hw;function s9(){return dw||(dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a9(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fS=new WeakMap,G0=new WeakMap,mS=new WeakMap,Wg=new WeakMap,d1=new WeakMap;function o9(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(la(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&fS.set(n,t)}).catch(()=>{}),d1.set(e,t),e}function l9(t){if(G0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});G0.set(t,e)}let $0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return la(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c9(t){$0=t($0)}function u9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Kg(this),e,...n);return mS.set(i,e.sort?e.sort():[e]),la(i)}:a9().includes(t)?function(...e){return t.apply(Kg(this),e),la(fS.get(this))}:function(...e){return la(t.apply(Kg(this),e))}}function d9(t){return typeof t=="function"?u9(t):(t instanceof IDBTransaction&&l9(t),i9(t,s9())?new Proxy(t,$0):t)}function la(t){if(t instanceof IDBRequest)return o9(t);if(Wg.has(t))return Wg.get(t);const e=d9(t);return e!==t&&(Wg.set(t,e),d1.set(e,t)),e}const Kg=t=>d1.get(t);function h9(t,e,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),h=la(c);return i&&c.addEventListener("upgradeneeded",f=>{i(la(c.result),f.oldVersion,f.newVersion,la(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const f9=["get","getKey","getAll","getAllKeys","count"],m9=["put","add","delete","clear"],Qg=new Map;function fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qg.get(e))return Qg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=m9.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||f9.includes(n)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&f.done]))[0]};return Qg.set(e,o),o}c9(t=>({...t,get:(e,n,i)=>fw(e,n)||t.get(e,n,i),has:(e,n)=>!!fw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g9(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function g9(t){return t.getComponent()?.type==="VERSION"}const W0="@firebase/app",mw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new u1("@firebase/app"),y9="@firebase/app-compat",v9="@firebase/analytics-compat",b9="@firebase/analytics",x9="@firebase/app-check-compat",_9="@firebase/app-check",w9="@firebase/auth",T9="@firebase/auth-compat",E9="@firebase/database",A9="@firebase/data-connect",S9="@firebase/database-compat",C9="@firebase/functions",N9="@firebase/functions-compat",j9="@firebase/installations",R9="@firebase/installations-compat",I9="@firebase/messaging",k9="@firebase/messaging-compat",P9="@firebase/performance",M9="@firebase/performance-compat",D9="@firebase/remote-config",V9="@firebase/remote-config-compat",O9="@firebase/storage",L9="@firebase/storage-compat",U9="@firebase/firestore",z9="@firebase/ai",F9="@firebase/firestore-compat",B9="firebase",q9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="[DEFAULT]",H9={[W0]:"fire-core",[y9]:"fire-core-compat",[b9]:"fire-analytics",[v9]:"fire-analytics-compat",[_9]:"fire-app-check",[x9]:"fire-app-check-compat",[w9]:"fire-auth",[T9]:"fire-auth-compat",[E9]:"fire-rtdb",[A9]:"fire-data-connect",[S9]:"fire-rtdb-compat",[C9]:"fire-fn",[N9]:"fire-fn-compat",[j9]:"fire-iid",[R9]:"fire-iid-compat",[I9]:"fire-fcm",[k9]:"fire-fcm-compat",[P9]:"fire-perf",[M9]:"fire-perf-compat",[D9]:"fire-rc",[V9]:"fire-rc-compat",[O9]:"fire-gcs",[L9]:"fire-gcs-compat",[U9]:"fire-fst",[F9]:"fire-fst-compat",[z9]:"fire-vertex","fire-js":"fire-js",[B9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,G9=new Map,Q0=new Map;function pw(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vl(t){const e=t.name;if(Q0.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Q0.set(e,t);for(const n of Du.values())pw(n,t);for(const n of G9.values())pw(n,t);return!0}function h1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Xu("app","Firebase",$9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=q9;function pS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:K0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ca.create("bad-app-name",{appName:String(a)});if(n||(n=cS()),!n)throw ca.create("no-options");const o=Du.get(a);if(o){if(yo(n,o.options)&&yo(i,o.config))return o;throw ca.create("duplicate-app",{appName:a})}const c=new JD(a);for(const f of Q0.values())c.addComponent(f);const h=new W9(n,i,c);return Du.set(a,h),h}function gS(t=K0){const e=Du.get(t);if(!e&&t===K0&&cS())return pS();if(!e)throw ca.create("no-app",{appName:t});return e}function gw(){return Array.from(Du.values())}function ua(t,e,n){let i=H9[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}Vl(new vo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="firebase-heartbeat-database",Q9=1,Vu="firebase-heartbeat-store";let Yg=null;function yS(){return Yg||(Yg=h9(K9,Q9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),Yg}async function Y9(t){try{const n=(await yS()).transaction(Vu),i=await n.objectStore(Vu).get(vS(t));return await n.done,i}catch(e){if(e instanceof xs)ps.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e?.message});ps.warn(n.message)}}}async function yw(t,e){try{const i=(await yS()).transaction(Vu,"readwrite");await i.objectStore(Vu).put(e,vS(t)),await i.done}catch(n){if(n instanceof xs)ps.warn(n.message);else{const i=ca.create("idb-set",{originalErrorMessage:n?.message});ps.warn(i.message)}}}function vS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=1024,Z9=30;class J9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Z9){const a=nV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vw(),{heartbeatsToSend:n,unsentEntries:i}=eV(this._heartbeatsCache.heartbeats),a=Cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ps.warn(e),""}}}function vw(){return new Date().toISOString().substring(0,10)}function eV(t,e=X9){const n=[];let i=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),bw(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),bw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FD()?BD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bw(t){return Cf(JSON.stringify({version:2,heartbeats:t})).length}function nV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){Vl(new vo("platform-logger",e=>new p9(e),"PRIVATE")),Vl(new vo("heartbeat",e=>new J9(e),"PRIVATE")),ua(W0,mw,t),ua(W0,mw,"esm2020"),ua("fire-js","")}rV("");var iV="firebase",sV="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ua(iV,sV,"app");function bS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aV=bS,xS=new Xu("auth","Firebase",bS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new u1("@firebase/auth");function oV(t,...e){Nf.logLevel<=Qe.WARN&&Nf.warn(`Auth (${Zl}): ${t}`,...e)}function of(t,...e){Nf.logLevel<=Qe.ERROR&&Nf.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,...e){throw m1(t,...e)}function ni(t,...e){return m1(t,...e)}function f1(t,e,n){const i={...aV(),[e]:n};return new Xu("auth","Firebase",i).create(e,{appName:t.name})}function mo(t){return f1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Mi(t,"argument-error"),f1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m1(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return xS.create(t,...e)}function Me(t,e,...n){if(!t)throw m1(e,...n)}function as(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function gs(t,e){t||as(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(){return typeof self<"u"&&self.location?.href||""}function cV(){return xw()==="http:"||xw()==="https:"}function xw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cV()||OD()||"connection"in navigator)?navigator.onLine:!0}function dV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=MD()||LD()}get(){return uV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e){gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mV=new Ju(3e4,6e4);function g1(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jl(t,e,n,i,a={}){return wS(t,a,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=Zu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:f,...o};return VD()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Xl(t.emulatorConfig.host)&&(g.credentials="include"),_S.fetch()(await TS(t,t.config.apiHost,n,h),g)})}async function wS(t,e,n){t._canInitEmulator=!1;const i={...hV,...e};try{const a=new gV(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw $h(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw $h(t,"user-disabled",c);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw f1(t,p,g);Mi(t,p)}}catch(a){if(a instanceof xs)throw a;Mi(t,"network-request-failed",{message:String(a)})}}async function pV(t,e,n,i,a={}){const o=await Jl(t,e,n,i,a);return"mfaPendingCredential"in o&&Mi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function TS(t,e,n,i){const a=`${e}${n}?${i}`,o=t,c=o.config.emulator?p1(t.config,a):`${t.config.apiScheme}://${a}`;return fV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class gV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ni(this.auth,"network-request-failed")),mV.get())})}}function $h(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ni(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e){return Jl(t,"POST","/v1/accounts:delete",e)}async function jf(t,e){return Jl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vV(t,e=!1){const n=Pn(t),i=await n.getIdToken(e),a=y1(i);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:_u(Xg(a.auth_time)),issuedAtTime:_u(Xg(a.iat)),expirationTime:_u(Xg(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Xg(t){return Number(t)*1e3}function y1(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const a=oS(n);return a?JSON.parse(a):(of("Failed to decode base64 JWT payload"),null)}catch(a){return of("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _w(t){const e=y1(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xs&&bV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function bV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){const e=t.auth,n=await t.getIdToken(),i=await Ou(t,jf(e,{idToken:n}));Me(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?ES(a.providerUserInfo):[],c=wV(t.providerData,o),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!c?.length,g=h?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new X0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,p)}async function _V(t){const e=Pn(t);await Rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ES(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){const n=await wS(t,{},async()=>{const i=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await TS(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return t.emulatorConfig&&Xl(t.emulatorConfig.host)&&(f.credentials="include"),_S.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EV(t,e){return Jl(t,"POST","/v2/accounts:revokeToken",g1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=_w(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:o}=await TV(e,n);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:o}=n,c=new jl;return i&&(Me(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Me(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new xV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new X0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vV(this,e)}reload(){return _V(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(mo(this.auth));const e=await this.getIdToken();return await Ou(this,yV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,g=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:_,providerData:C,stsTokenManager:L}=n;Me(v&&L,e,"internal-error");const I=jl.fromJSON(this.name,L);Me(typeof v=="string",e,"internal-error"),ea(i,e.name),ea(a,e.name),Me(typeof x=="boolean",e,"internal-error"),Me(typeof _=="boolean",e,"internal-error"),ea(o,e.name),ea(c,e.name),ea(h,e.name),ea(f,e.name),ea(g,e.name),ea(p,e.name);const N=new ti({uid:v,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:_,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:I,createdAt:g,lastLoginAt:p});return C&&Array.isArray(C)&&(N.providerData=C.map(U=>({...U}))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(e,n,i=!1){const a=new jl;a.updateFromServerResponse(n);const o=new ti({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Rf(o),o}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?ES(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new jl;h.updateFromIdToken(i);const f=new ti({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new X0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Map;function os(t){gs(t instanceof Function,"Expected a class definition");let e=ww.get(t);return e?(gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ww.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AS.type="NONE";const Tw=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t,e,n){return`firebase:${t}:${e}:${n}`}class Rl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=lf(this.userKey,a.apiKey,o),this.fullPersistenceKey=lf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jf(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rl(os(Tw),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||os(Tw);const c=lf(i,e.config.apiKey,e.name);let h=null;for(const g of n)try{const p=await g._get(c);if(p){let v;if(typeof p=="string"){const x=await jf(e,{idToken:p}).catch(()=>{});if(!x)break;v=await ti._fromGetAccountInfoResponse(e,x,p)}else v=ti._fromJSON(e,p);g!==o&&(h=v),o=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Rl(o,e,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Rl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IS(e))return"Blackberry";if(kS(e))return"Webos";if(CS(e))return"Safari";if((e.includes("chrome/")||NS(e))&&!e.includes("edge/"))return"Chrome";if(RS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function SS(t=Bn()){return/firefox\//i.test(t)}function CS(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NS(t=Bn()){return/crios\//i.test(t)}function jS(t=Bn()){return/iemobile/i.test(t)}function RS(t=Bn()){return/android/i.test(t)}function IS(t=Bn()){return/blackberry/i.test(t)}function kS(t=Bn()){return/webos/i.test(t)}function v1(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AV(t=Bn()){return v1(t)&&!!window.navigator?.standalone}function SV(){return UD()&&document.documentMode===10}function PS(t=Bn()){return v1(t)||RS(t)||kS(t)||IS(t)||/windows phone/i.test(t)||jS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e=[]){let n;switch(t){case"Browser":n=Ew(Bn());break;case"Worker":n=`${Ew(Bn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,h)=>{try{const f=e(o);c(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e={}){return Jl(t,"GET","/v2/passwordPolicy",g1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=6;class RV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aw(this),this.idTokenSubscription=new Aw(this),this.beforeStateQueue=new CV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jf(this,{idToken:e}),i=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(mo(this));const n=e?Pn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NV(this),n=new RV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await EV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nm(t){return Pn(t)}class Aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=WD(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kV(t){b1=t}function PV(t){return b1.loadJS(t)}function MV(){return b1.gapiScript}function DV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t,e){const n=h1(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(yo(o,e??{}))return a;Mi(a,"already-initialized")}return n.initialize({options:e})}function OV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function LV(t,e,n){const i=nm(t);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=DS(e),{host:c,port:h}=UV(e),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},p=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(yo(g,i.config.emulator)&&yo(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Xl(c)?(dS(`${o}//${c}${f}`),hS("Auth",!0)):zV()}function DS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UV(t){const e=DS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:Sw(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Sw(c)}}}function Sw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,n){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return pV(t,"POST","/v1/accounts:signInWithIdp",g1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="http://localhost";class bo extends VS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=n;if(!i||!a)return null;const c=new bo(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Il(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Il(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Il(e,n)}buildRequest(){const e={requestUri:FV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends x1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends ed{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bo._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return is.credential(n,i)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends ed{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends ed{constructor(){super("twitter.com")}static credential(e,n){return bo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return sa.credential(n,i)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const o=await ti._fromIdTokenResponse(e,i,a),c=Cw(i);return new Ol({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Cw(i);return new Ol({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Cw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends xs{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,If.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new If(e,n,i,a)}}function OS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(t,o,e,i):o})}async function BV(t,e,n=!1){const i=await Ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ol._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e,n=!1){const{auth:i}=t;if(ei(i.app))return Promise.reject(mo(i));const a="reauthenticate";try{const o=await Ou(t,OS(i,a,e,t),n);Me(o.idToken,i,"internal-error");const c=y1(o.idToken);Me(c,i,"internal-error");const{sub:h}=c;return Me(t.uid===h,i,"user-mismatch"),Ol._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Mi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,e,n=!1){if(ei(t.app))return Promise.reject(mo(t));const i="signIn",a=await OS(t,i,e),o=await Ol._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(o.user),o}function GV(t,e,n,i){return Pn(t).onIdTokenChanged(e,n,i)}function $V(t,e,n){return Pn(t).beforeAuthStateChanged(e,n)}function WV(t,e,n,i){return Pn(t).onAuthStateChanged(e,n,i)}function KV(t){return Pn(t).signOut()}const kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=1e3,YV=10;class US extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);SV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,YV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},QV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}US.type="LOCAL";const XV=US;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zS.type="SESSION";const FS=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new rm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(n.origin,o)),f=await ZV(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=_1("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const x=v;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function e8(t){Ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function t8(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n8(){return navigator?.serviceWorker?.controller||null}function r8(){return BS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firebaseLocalStorageDb",i8=1,Pf="firebaseLocalStorage",HS="fbase_key";class td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function im(t,e){return t.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function s8(){const t=indexedDB.deleteDatabase(qS);return new td(t).toPromise()}function Z0(){const t=indexedDB.open(qS,i8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Pf,{keyPath:HS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Pf)?e(i):(i.close(),await s8(),e(await Z0()))})})}async function Nw(t,e,n){const i=im(t,!0).put({[HS]:e,value:n});return new td(i).toPromise()}async function a8(t,e){const n=im(t,!1).get(e),i=await new td(n).toPromise();return i===void 0?null:i.value}function jw(t,e){const n=im(t,!0).delete(e);return new td(n).toPromise()}const o8=800,l8=3;class GS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>l8)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rm._getInstance(r8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await t8(),!this.activeServiceWorker)return;this.sender=new JV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Z0();return await Nw(e,kf,"1"),await jw(e,kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>a8(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=im(a,!1).getAll();return new td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GS.type="LOCAL";const c8=GS;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){return e?os(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends VS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u8(t){return HV(t.auth,new w1(t),t.bypassAuthState)}function d8(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),qV(n,new w1(t),t.bypassAuthState)}async function h8(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),BV(n,new w1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u8;case"linkViaPopup":case"linkViaRedirect":return h8;case"reauthViaPopup":case"reauthViaRedirect":return d8;default:Mi(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new Ju(2e3,1e4);async function m8(t,e,n){if(ei(t.app))return Promise.reject(ni(t,"operation-not-supported-in-this-environment"));const i=nm(t);lV(t,e,x1);const a=$S(i,n);return new lo(i,"signInViaPopup",e,a).executeNotNull()}class lo extends WS{constructor(e,n,i,a,o){super(e,n,a,o),this.provider=i,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=_1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f8.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="pendingRedirect",cf=new Map;class g8 extends WS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const i=await y8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y8(t,e){const n=x8(e),i=b8(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function v8(t,e){cf.set(t._key(),e)}function b8(t){return os(t._redirectPersistence)}function x8(t){return lf(p8,t.config.apiKey,t.name)}async function _8(t,e,n=!1){if(ei(t.app))return Promise.reject(mo(t));const i=nm(t),a=$S(i,e),c=await new g8(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=600*1e3;class T8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!KS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w8&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rw(e))}saveEventToCache(e){this.cachedEventUids.add(Rw(e)),this.lastProcessedEventTime=Date.now()}}function Rw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function E8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e={}){return Jl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C8=/^https?/;async function N8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A8(t);for(const n of e)try{if(j8(n))return}catch{}Mi(t,"unauthorized-domain")}function j8(t){const e=Y0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!C8.test(n))return!1;if(S8.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=new Ju(3e4,6e4);function Iw(){const t=Ii().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I8(t){return new Promise((e,n)=>{function i(){Iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iw(),n(ni(t,"network-request-failed"))},timeout:R8.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)i();else{const a=DV("iframefcb");return Ii()[a]=()=>{gapi.load?i():n(ni(t,"network-request-failed"))},PV(`${MV()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw uf=null,e})}let uf=null;function k8(t){return uf=uf||I8(t),uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=new Ju(5e3,15e3),M8="__/auth/iframe",D8="emulator/auth/iframe",V8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L8(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p1(e,D8):`https://${t.config.authDomain}/${M8}`,i={apiKey:e.apiKey,appName:t.name,v:Zl},a=O8.get(t.config.apiHost);a&&(i.eid=a);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Zu(i).slice(1)}`}async function U8(t){const e=await k8(t),n=Ii().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:L8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V8,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=ni(t,"network-request-failed"),h=Ii().setTimeout(()=>{o(c)},P8.get());function f(){Ii().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F8=500,B8=600,q8="_blank",H8="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G8(t,e,n,i=F8,a=B8){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...z8,width:i.toString(),height:a.toString(),top:o,left:c},g=Bn().toLowerCase();n&&(h=NS(g)?q8:n),SS(g)&&(e=e||H8,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[_,C])=>`${x}${_}=${C},`,"");if(AV(g)&&h!=="_self")return $8(e||"",h),new kw(null);const v=window.open(e||"",h,p);Me(v,t,"popup-blocked");try{v.focus()}catch{}return new kw(v)}function $8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="__/auth/handler",K8="emulator/auth/handler",Q8=encodeURIComponent("fac");async function Pw(t,e,n,i,a,o){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Zl,eventId:a};if(e instanceof x1){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",$D(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))c[p]=v}if(e instanceof ed){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const p of Object.keys(h))h[p]===void 0&&delete h[p];const f=await t._getAppCheckToken(),g=f?`#${Q8}=${encodeURIComponent(f)}`:"";return`${Y8(t)}?${Zu(h).slice(1)}${g}`}function Y8({config:t}){return t.emulator?p1(t,K8):`https://${t.authDomain}/${W8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="webStorageSupport";class X8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FS,this._completeRedirectFn=_8,this._overrideRedirectResult=v8}async _openPopup(e,n,i,a){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Pw(e,n,i,Y0(),a);return G8(e,o,_1())}async _openRedirect(e,n,i,a){await this._originValidation(e);const o=await Pw(e,n,i,Y0(),a);return e8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(gs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await U8(e),i=new T8(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zg,{type:Zg},a=>{const o=a?.[0]?.[Zg];o!==void 0&&n(!!o),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PS()||CS()||v1()}}const Z8=X8;var Mw="@firebase/auth",Dw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tO(t){Vl(new vo("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(t)},g=new IV(i,a,o,f);return OV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Vl(new vo("auth-internal",e=>{const n=nm(e.getProvider("auth").getImmediate());return(i=>new J8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(Mw,Dw,eO(t)),ua(Mw,Dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=300,rO=uS("authIdTokenMaxAge")||nO;let Vw=null;const iO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>rO)return;const a=n?.token;Vw!==a&&(Vw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function sO(t=gS()){const e=h1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VV(t,{popupRedirectResolver:Z8,persistence:[c8,XV,FS]}),i=uS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=iO(o.toString());$V(n,c,()=>c(n.currentUser)),GV(n,h=>c(h))}}const a=lS("auth");return a&&LV(n,`http://${a}`),n}function aO(){return document.getElementsByTagName("head")?.[0]??document}kV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const o=ni("internal-error");o.customData=a,n(o)},i.type="text/javascript",i.charset="UTF-8",aO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tO("Browser");var Ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,QS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function E(){}E.prototype=w.prototype,O.F=w.prototype,O.prototype=new E,O.prototype.constructor=O,O.D=function(D,V,P){for(var A=Array(arguments.length-2),k=2;k<arguments.length;k++)A[k-2]=arguments[k];return w.prototype[V].apply(D,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,w,E){E||(E=0);const D=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)D[V]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(V=0;V<16;++V)D[V]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=O.g[0],E=O.g[1],V=O.g[2];let P=O.g[3],A;A=w+(P^E&(V^P))+D[0]+3614090360&4294967295,w=E+(A<<7&4294967295|A>>>25),A=P+(V^w&(E^V))+D[1]+3905402710&4294967295,P=w+(A<<12&4294967295|A>>>20),A=V+(E^P&(w^E))+D[2]+606105819&4294967295,V=P+(A<<17&4294967295|A>>>15),A=E+(w^V&(P^w))+D[3]+3250441966&4294967295,E=V+(A<<22&4294967295|A>>>10),A=w+(P^E&(V^P))+D[4]+4118548399&4294967295,w=E+(A<<7&4294967295|A>>>25),A=P+(V^w&(E^V))+D[5]+1200080426&4294967295,P=w+(A<<12&4294967295|A>>>20),A=V+(E^P&(w^E))+D[6]+2821735955&4294967295,V=P+(A<<17&4294967295|A>>>15),A=E+(w^V&(P^w))+D[7]+4249261313&4294967295,E=V+(A<<22&4294967295|A>>>10),A=w+(P^E&(V^P))+D[8]+1770035416&4294967295,w=E+(A<<7&4294967295|A>>>25),A=P+(V^w&(E^V))+D[9]+2336552879&4294967295,P=w+(A<<12&4294967295|A>>>20),A=V+(E^P&(w^E))+D[10]+4294925233&4294967295,V=P+(A<<17&4294967295|A>>>15),A=E+(w^V&(P^w))+D[11]+2304563134&4294967295,E=V+(A<<22&4294967295|A>>>10),A=w+(P^E&(V^P))+D[12]+1804603682&4294967295,w=E+(A<<7&4294967295|A>>>25),A=P+(V^w&(E^V))+D[13]+4254626195&4294967295,P=w+(A<<12&4294967295|A>>>20),A=V+(E^P&(w^E))+D[14]+2792965006&4294967295,V=P+(A<<17&4294967295|A>>>15),A=E+(w^V&(P^w))+D[15]+1236535329&4294967295,E=V+(A<<22&4294967295|A>>>10),A=w+(V^P&(E^V))+D[1]+4129170786&4294967295,w=E+(A<<5&4294967295|A>>>27),A=P+(E^V&(w^E))+D[6]+3225465664&4294967295,P=w+(A<<9&4294967295|A>>>23),A=V+(w^E&(P^w))+D[11]+643717713&4294967295,V=P+(A<<14&4294967295|A>>>18),A=E+(P^w&(V^P))+D[0]+3921069994&4294967295,E=V+(A<<20&4294967295|A>>>12),A=w+(V^P&(E^V))+D[5]+3593408605&4294967295,w=E+(A<<5&4294967295|A>>>27),A=P+(E^V&(w^E))+D[10]+38016083&4294967295,P=w+(A<<9&4294967295|A>>>23),A=V+(w^E&(P^w))+D[15]+3634488961&4294967295,V=P+(A<<14&4294967295|A>>>18),A=E+(P^w&(V^P))+D[4]+3889429448&4294967295,E=V+(A<<20&4294967295|A>>>12),A=w+(V^P&(E^V))+D[9]+568446438&4294967295,w=E+(A<<5&4294967295|A>>>27),A=P+(E^V&(w^E))+D[14]+3275163606&4294967295,P=w+(A<<9&4294967295|A>>>23),A=V+(w^E&(P^w))+D[3]+4107603335&4294967295,V=P+(A<<14&4294967295|A>>>18),A=E+(P^w&(V^P))+D[8]+1163531501&4294967295,E=V+(A<<20&4294967295|A>>>12),A=w+(V^P&(E^V))+D[13]+2850285829&4294967295,w=E+(A<<5&4294967295|A>>>27),A=P+(E^V&(w^E))+D[2]+4243563512&4294967295,P=w+(A<<9&4294967295|A>>>23),A=V+(w^E&(P^w))+D[7]+1735328473&4294967295,V=P+(A<<14&4294967295|A>>>18),A=E+(P^w&(V^P))+D[12]+2368359562&4294967295,E=V+(A<<20&4294967295|A>>>12),A=w+(E^V^P)+D[5]+4294588738&4294967295,w=E+(A<<4&4294967295|A>>>28),A=P+(w^E^V)+D[8]+2272392833&4294967295,P=w+(A<<11&4294967295|A>>>21),A=V+(P^w^E)+D[11]+1839030562&4294967295,V=P+(A<<16&4294967295|A>>>16),A=E+(V^P^w)+D[14]+4259657740&4294967295,E=V+(A<<23&4294967295|A>>>9),A=w+(E^V^P)+D[1]+2763975236&4294967295,w=E+(A<<4&4294967295|A>>>28),A=P+(w^E^V)+D[4]+1272893353&4294967295,P=w+(A<<11&4294967295|A>>>21),A=V+(P^w^E)+D[7]+4139469664&4294967295,V=P+(A<<16&4294967295|A>>>16),A=E+(V^P^w)+D[10]+3200236656&4294967295,E=V+(A<<23&4294967295|A>>>9),A=w+(E^V^P)+D[13]+681279174&4294967295,w=E+(A<<4&4294967295|A>>>28),A=P+(w^E^V)+D[0]+3936430074&4294967295,P=w+(A<<11&4294967295|A>>>21),A=V+(P^w^E)+D[3]+3572445317&4294967295,V=P+(A<<16&4294967295|A>>>16),A=E+(V^P^w)+D[6]+76029189&4294967295,E=V+(A<<23&4294967295|A>>>9),A=w+(E^V^P)+D[9]+3654602809&4294967295,w=E+(A<<4&4294967295|A>>>28),A=P+(w^E^V)+D[12]+3873151461&4294967295,P=w+(A<<11&4294967295|A>>>21),A=V+(P^w^E)+D[15]+530742520&4294967295,V=P+(A<<16&4294967295|A>>>16),A=E+(V^P^w)+D[2]+3299628645&4294967295,E=V+(A<<23&4294967295|A>>>9),A=w+(V^(E|~P))+D[0]+4096336452&4294967295,w=E+(A<<6&4294967295|A>>>26),A=P+(E^(w|~V))+D[7]+1126891415&4294967295,P=w+(A<<10&4294967295|A>>>22),A=V+(w^(P|~E))+D[14]+2878612391&4294967295,V=P+(A<<15&4294967295|A>>>17),A=E+(P^(V|~w))+D[5]+4237533241&4294967295,E=V+(A<<21&4294967295|A>>>11),A=w+(V^(E|~P))+D[12]+1700485571&4294967295,w=E+(A<<6&4294967295|A>>>26),A=P+(E^(w|~V))+D[3]+2399980690&4294967295,P=w+(A<<10&4294967295|A>>>22),A=V+(w^(P|~E))+D[10]+4293915773&4294967295,V=P+(A<<15&4294967295|A>>>17),A=E+(P^(V|~w))+D[1]+2240044497&4294967295,E=V+(A<<21&4294967295|A>>>11),A=w+(V^(E|~P))+D[8]+1873313359&4294967295,w=E+(A<<6&4294967295|A>>>26),A=P+(E^(w|~V))+D[15]+4264355552&4294967295,P=w+(A<<10&4294967295|A>>>22),A=V+(w^(P|~E))+D[6]+2734768916&4294967295,V=P+(A<<15&4294967295|A>>>17),A=E+(P^(V|~w))+D[13]+1309151649&4294967295,E=V+(A<<21&4294967295|A>>>11),A=w+(V^(E|~P))+D[4]+4149444226&4294967295,w=E+(A<<6&4294967295|A>>>26),A=P+(E^(w|~V))+D[11]+3174756917&4294967295,P=w+(A<<10&4294967295|A>>>22),A=V+(w^(P|~E))+D[2]+718787259&4294967295,V=P+(A<<15&4294967295|A>>>17),A=E+(P^(V|~w))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+P&4294967295}i.prototype.v=function(O,w){w===void 0&&(w=O.length);const E=w-this.blockSize,D=this.C;let V=this.h,P=0;for(;P<w;){if(V==0)for(;P<=E;)a(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<w;)if(D[V++]=O.charCodeAt(P++),V==this.blockSize){a(this,D),V=0;break}}else for(;P<w;)if(D[V++]=O[P++],V==this.blockSize){a(this,D),V=0;break}}this.h=V,this.o+=w},i.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;w=this.o*8;for(var E=O.length-8;E<O.length;++E)O[E]=w&255,w/=256;for(this.v(O),O=Array(16),w=0,E=0;E<4;++E)for(let D=0;D<32;D+=8)O[w++]=this.g[E]>>>D&255;return O};function o(O,w){var E=h;return Object.prototype.hasOwnProperty.call(E,O)?E[O]:E[O]=w(O)}function c(O,w){this.h=w;const E=[];let D=!0;for(let V=O.length-1;V>=0;V--){const P=O[V]|0;D&&P==w||(E[V]=P,D=!1)}this.g=E}var h={};function f(O){return-128<=O&&O<128?o(O,function(w){return new c([w|0],w<0?-1:0)}):new c([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return v;if(O<0)return I(g(-O));const w=[];let E=1;for(let D=0;O>=E;D++)w[D]=O/E|0,E*=4294967296;return new c(w,0)}function p(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return I(p(O.substring(1),w));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=g(Math.pow(w,8));let D=v;for(let P=0;P<O.length;P+=8){var V=Math.min(8,O.length-P);const A=parseInt(O.substring(P,P+V),w);V<8?(V=g(Math.pow(w,V)),D=D.j(V).add(g(A))):(D=D.j(E),D=D.add(g(A)))}return D}var v=f(0),x=f(1),_=f(16777216);t=c.prototype,t.m=function(){if(L(this))return-I(this).m();let O=0,w=1;for(let E=0;E<this.g.length;E++){const D=this.i(E);O+=(D>=0?D:4294967296+D)*w,w*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(L(this))return"-"+I(this).toString(O);const w=g(Math.pow(O,6));var E=this;let D="";for(;;){const V=$(E,w).g;E=N(E,V.j(w));let P=((E.g.length>0?E.g[0]:E.h)>>>0).toString(O);if(E=V,C(E))return P+D;for(;P.length<6;)P="0"+P;D=P+D}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(let w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function L(O){return O.h==-1}t.l=function(O){return O=N(this,O),L(O)?-1:C(O)?0:1};function I(O){const w=O.g.length,E=[];for(let D=0;D<w;D++)E[D]=~O.g[D];return new c(E,~O.h).add(x)}t.abs=function(){return L(this)?I(this):this},t.add=function(O){const w=Math.max(this.g.length,O.g.length),E=[];let D=0;for(let V=0;V<=w;V++){let P=D+(this.i(V)&65535)+(O.i(V)&65535),A=(P>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);D=A>>>16,P&=65535,A&=65535,E[V]=A<<16|P}return new c(E,E[E.length-1]&-2147483648?-1:0)};function N(O,w){return O.add(I(w))}t.j=function(O){if(C(this)||C(O))return v;if(L(this))return L(O)?I(this).j(I(O)):I(I(this).j(O));if(L(O))return I(this.j(I(O)));if(this.l(_)<0&&O.l(_)<0)return g(this.m()*O.m());const w=this.g.length+O.g.length,E=[];for(var D=0;D<2*w;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(let V=0;V<O.g.length;V++){const P=this.i(D)>>>16,A=this.i(D)&65535,k=O.i(V)>>>16,F=O.i(V)&65535;E[2*D+2*V]+=A*F,U(E,2*D+2*V),E[2*D+2*V+1]+=P*F,U(E,2*D+2*V+1),E[2*D+2*V+1]+=A*k,U(E,2*D+2*V+1),E[2*D+2*V+2]+=P*k,U(E,2*D+2*V+2)}for(O=0;O<w;O++)E[O]=E[2*O+1]<<16|E[2*O];for(O=w;O<2*w;O++)E[O]=0;return new c(E,0)};function U(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function B(O,w){this.g=O,this.h=w}function $(O,w){if(C(w))throw Error("division by zero");if(C(O))return new B(v,v);if(L(O))return w=$(I(O),w),new B(I(w.g),I(w.h));if(L(w))return w=$(O,I(w)),new B(I(w.g),w.h);if(O.g.length>30){if(L(O)||L(w))throw Error("slowDivide_ only works with positive integers.");for(var E=x,D=w;D.l(O)<=0;)E=Z(E),D=Z(D);var V=G(E,1),P=G(D,1);for(D=G(D,2),E=G(E,2);!C(D);){var A=P.add(D);A.l(O)<=0&&(V=V.add(E),P=A),D=G(D,1),E=G(E,1)}return w=N(O,V.j(w)),new B(V,w)}for(V=v;O.l(w)>=0;){for(E=Math.max(1,Math.floor(O.m()/w.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),P=g(E),A=P.j(w);L(A)||A.l(O)>0;)E-=D,P=g(E),A=P.j(w);C(P)&&(P=x),V=V.add(P),O=N(O,A)}return new B(V,O)}t.B=function(O){return $(this,O).h},t.and=function(O){const w=Math.max(this.g.length,O.g.length),E=[];for(let D=0;D<w;D++)E[D]=this.i(D)&O.i(D);return new c(E,this.h&O.h)},t.or=function(O){const w=Math.max(this.g.length,O.g.length),E=[];for(let D=0;D<w;D++)E[D]=this.i(D)|O.i(D);return new c(E,this.h|O.h)},t.xor=function(O){const w=Math.max(this.g.length,O.g.length),E=[];for(let D=0;D<w;D++)E[D]=this.i(D)^O.i(D);return new c(E,this.h^O.h)};function Z(O){const w=O.g.length+1,E=[];for(let D=0;D<w;D++)E[D]=O.i(D)<<1|O.i(D-1)>>>31;return new c(E,O.h)}function G(O,w){const E=w>>5;w%=32;const D=O.g.length-E,V=[];for(let P=0;P<D;P++)V[P]=w>0?O.i(P+E)>>>w|O.i(P+E+1)<<32-w:O.i(P+E);return new c(V,O.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,QS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=p,da=c}).apply(typeof Ow<"u"?Ow:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YS,du,XS,df,J0,ZS,JS,eC;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var T=0;T<m.length;++T){var j=m[T];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var i=n(this);function a(m,T){if(T)e:{var j=i;m=m.split(".");for(var H=0;H<m.length-1;H++){var ie=m[H];if(!(ie in j))break e;j=j[ie]}m=m[m.length-1],H=j[m],T=T(H),T!=H&&T!=null&&e(j,m,{configurable:!0,writable:!0,value:T})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(T){var j=[],H;for(H in T)Object.prototype.hasOwnProperty.call(T,H)&&j.push([H,T[H]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function f(m,T,j){return m.call.apply(m.bind,arguments)}function g(m,T,j){return g=f,g.apply(null,arguments)}function p(m,T){var j=Array.prototype.slice.call(arguments,1);return function(){var H=j.slice();return H.push.apply(H,arguments),m.apply(this,H)}}function v(m,T){function j(){}j.prototype=T.prototype,m.Z=T.prototype,m.prototype=new j,m.prototype.constructor=m,m.Ob=function(H,ie,ce){for(var ye=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ye[Le-2]=arguments[Le];return T.prototype[ie].apply(H,ye)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function _(m){const T=m.length;if(T>0){const j=Array(T);for(let H=0;H<T;H++)j[H]=m[H];return j}return[]}function C(m,T){for(let H=1;H<arguments.length;H++){const ie=arguments[H];var j=typeof ie;if(j=j!="object"?j:ie?Array.isArray(ie)?"array":j:"null",j=="array"||j=="object"&&typeof ie.length=="number"){j=m.length||0;const ce=ie.length||0;m.length=j+ce;for(let ye=0;ye<ce;ye++)m[j+ye]=ie[ye]}else m.push(ie)}}class L{constructor(T,j){this.i=T,this.j=j,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function I(m){c.setTimeout(()=>{throw m},0)}function N(){var m=O;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class U{constructor(){this.h=this.g=null}add(T,j){const H=B.get();H.set(T,j),this.h?this.h.next=H:this.g=H,this.h=H}}var B=new L(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(T,j){this.h=T,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,G=!1,O=new U,w=()=>{const m=Promise.resolve(void 0);Z=()=>{m.then(E)}};function E(){for(var m;m=N();){try{m.h.call(m.g)}catch(j){I(j)}var T=B;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}G=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const j=()=>{};c.addEventListener("test",j,T),c.removeEventListener("test",j,T)}catch{}return m})();function A(m){return/^[\s\xa0]*$/.test(m)}function k(m,T){V.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}v(k,V),k.prototype.init=function(m,T){const j=this.type=m.type,H=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(j=="mouseover"?T=m.fromElement:j=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&k.Z.h.call(this)},k.prototype.h=function(){k.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),R=0;function M(m,T,j,H,ie){this.listener=m,this.proxy=null,this.src=T,this.type=j,this.capture=!!H,this.ha=ie,this.key=++R,this.da=this.fa=!1}function Y(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ee(m,T,j){for(const H in m)T.call(j,m[H],H,m)}function se(m,T){for(const j in m)T.call(void 0,m[j],j,m)}function Q(m){const T={};for(const j in m)T[j]=m[j];return T}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(m,T){let j,H;for(let ie=1;ie<arguments.length;ie++){H=arguments[ie];for(j in H)m[j]=H[j];for(let ce=0;ce<W.length;ce++)j=W[ce],Object.prototype.hasOwnProperty.call(H,j)&&(m[j]=H[j])}}function K(m){this.src=m,this.g={},this.h=0}K.prototype.add=function(m,T,j,H,ie){const ce=m.toString();m=this.g[ce],m||(m=this.g[ce]=[],this.h++);const ye=ge(m,T,H,ie);return ye>-1?(T=m[ye],j||(T.fa=!1)):(T=new M(T,this.src,ce,!!H,ie),T.fa=j,m.push(T)),T};function te(m,T){const j=T.type;if(j in m.g){var H=m.g[j],ie=Array.prototype.indexOf.call(H,T,void 0),ce;(ce=ie>=0)&&Array.prototype.splice.call(H,ie,1),ce&&(Y(T),m.g[j].length==0&&(delete m.g[j],m.h--))}}function ge(m,T,j,H){for(let ie=0;ie<m.length;++ie){const ce=m[ie];if(!ce.da&&ce.listener==T&&ce.capture==!!j&&ce.ha==H)return ie}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Re={};function Ce(m,T,j,H,ie){if(Array.isArray(T)){for(let ce=0;ce<T.length;ce++)Ce(m,T[ce],j,H,ie);return null}return j=st(j),m&&m[F]?m.J(T,j,h(H)?!!H.capture:!1,ie):qe(m,T,j,!1,H,ie)}function qe(m,T,j,H,ie,ce){if(!T)throw Error("Invalid event type");const ye=h(ie)?!!ie.capture:!!ie;let Le=jt(m);if(Le||(m[ve]=Le=new K(m)),j=Le.add(T,j,H,ye,ce),j.proxy)return j;if(H=tt(),j.proxy=H,H.src=m,H.listener=j,m.addEventListener)P||(ie=ye),ie===void 0&&(ie=!1),m.addEventListener(T.toString(),H,ie);else if(m.attachEvent)m.attachEvent(Ft(T.toString()),H);else if(m.addListener&&m.removeListener)m.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return j}function tt(){function m(j){return T.call(m.src,m.listener,j)}const T=pt;return m}function it(m,T,j,H,ie){if(Array.isArray(T))for(var ce=0;ce<T.length;ce++)it(m,T[ce],j,H,ie);else H=h(H)?!!H.capture:!!H,j=st(j),m&&m[F]?(m=m.i,ce=String(T).toString(),ce in m.g&&(T=m.g[ce],j=ge(T,j,H,ie),j>-1&&(Y(T[j]),Array.prototype.splice.call(T,j,1),T.length==0&&(delete m.g[ce],m.h--)))):m&&(m=jt(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ge(T,j,H,ie)),(j=m>-1?T[m]:null)&&Kn(j))}function Kn(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[F])te(T.i,m);else{var j=m.type,H=m.proxy;T.removeEventListener?T.removeEventListener(j,H,m.capture):T.detachEvent?T.detachEvent(Ft(j),H):T.addListener&&T.removeListener&&T.removeListener(H),(j=jt(T))?(te(j,m),j.h==0&&(j.src=null,T[ve]=null)):Y(m)}}}function Ft(m){return m in Re?Re[m]:Re[m]="on"+m}function pt(m,T){if(m.da)m=!0;else{T=new k(T,this);const j=m.listener,H=m.ha||m.src;m.fa&&Kn(m),m=j.call(H,T)}return m}function jt(m){return m=m[ve],m instanceof K?m:null}var lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function st(m){return typeof m=="function"?m:(m[lt]||(m[lt]=function(T){return m.handleEvent(T)}),m[lt])}function He(){D.call(this),this.i=new K(this),this.M=this,this.G=null}v(He,D),He.prototype[F]=!0,He.prototype.removeEventListener=function(m,T,j,H){it(this,m,T,j,H)};function Ze(m,T){var j,H=m.G;if(H)for(j=[];H;H=H.G)j.push(H);if(m=m.M,H=T.type||T,typeof T=="string")T=new V(T,m);else if(T instanceof V)T.target=T.target||m;else{var ie=T;T=new V(H,m),re(T,ie)}ie=!0;let ce,ye;if(j)for(ye=j.length-1;ye>=0;ye--)ce=T.g=j[ye],ie=ut(ce,H,!0,T)&&ie;if(ce=T.g=m,ie=ut(ce,H,!0,T)&&ie,ie=ut(ce,H,!1,T)&&ie,j)for(ye=0;ye<j.length;ye++)ce=T.g=j[ye],ie=ut(ce,H,!1,T)&&ie}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const j=m.g[T];for(let H=0;H<j.length;H++)Y(j[H]);delete m.g[T],m.h--}}this.G=null},He.prototype.J=function(m,T,j,H){return this.i.add(String(m),T,!1,j,H)},He.prototype.K=function(m,T,j,H){return this.i.add(String(m),T,!0,j,H)};function ut(m,T,j,H){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let ie=!0;for(let ce=0;ce<T.length;++ce){const ye=T[ce];if(ye&&!ye.da&&ye.capture==j){const Le=ye.listener,Ht=ye.ha||ye.src;ye.fa&&te(m.i,ye),ie=Le.call(Ht,H)!==!1&&ie}}return ie&&!H.defaultPrevented}function _n(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:c.setTimeout(m,T||0)}function Et(m){m.g=_n(()=>{m.g=null,m.i&&(m.i=!1,Et(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class ze extends D{constructor(T,j){super(),this.m=T,this.l=j,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(m){D.call(this),this.h=m,this.g={}}v(Bt,D);var Qn=[];function li(m){ee(m.g,function(T,j){this.g.hasOwnProperty(j)&&Kn(T)},m),m.g={}}Bt.prototype.N=function(){Bt.Z.N.call(this),li(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var At=c.JSON.stringify,Fr=c.JSON.parse,Qt=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Mn(){}function wn(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){V.call(this,"d")}v(gt,V);function Yt(){V.call(this,"c")}v(Yt,V);var St={},Co=null;function ci(){return Co=Co||new He}St.Ia="serverreachability";function Ca(m){V.call(this,St.Ia,m)}v(Ca,V);function Dn(m){const T=ci();Ze(T,new Ca(T))}St.STAT_EVENT="statevent";function Oi(m,T){V.call(this,St.STAT_EVENT,m),this.stat=T}v(Oi,V);function dt(m){const T=ci();Ze(T,new Oi(T,m))}St.Ja="timingevent";function cn(m,T){V.call(this,St.Ja,m),this.size=T}v(cn,V);function Tn(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},T)}function En(){this.g=!0}En.prototype.ua=function(){this.g=!1};function No(m,T,j,H,ie,ce){m.info(function(){if(m.g)if(ce){var ye="",Le=ce.split("&");for(let at=0;at<Le.length;at++){var Ht=Le[at].split("=");if(Ht.length>1){const Rt=Ht[0];Ht=Ht[1];const Er=Rt.split("_");ye=Er.length>=2&&Er[1]=="type"?ye+(Rt+"="+Ht+"&"):ye+(Rt+"=redacted&")}}}else ye=null;else ye=ce;return"XMLHTTP REQ ("+H+") [attempt "+ie+"]: "+T+`
`+j+`
`+ye})}function xr(m,T,j,H,ie,ce,ye){m.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ie+"]: "+T+`
`+j+`
`+ce+" "+ye})}function fn(m,T,j,H){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Am(m,j)+(H?" "+H:"")})}function Na(m,T){m.info(function(){return"TIMEOUT: "+T})}En.prototype.info=function(){};function Am(m,T){if(!m.g)return T;if(!T)return null;try{const ce=JSON.parse(T);if(ce){for(m=0;m<ce.length;m++)if(Array.isArray(ce[m])){var j=ce[m];if(!(j.length<2)){var H=j[1];if(Array.isArray(H)&&!(H.length<1)){var ie=H[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let ye=1;ye<H.length;ye++)H[ye]=""}}}}return At(ce)}catch{return T}}var ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ic={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sc;function Ra(){}v(Ra,Mn),Ra.prototype.g=function(){return new XMLHttpRequest},sc=new Ra;function Li(m){return encodeURIComponent(String(m))}function gd(m){var T=1;m=m.split(":");const j=[];for(;T>0&&m.length;)j.push(m.shift()),T--;return m.length&&j.push(m.join(":")),j}function Br(m,T,j,H){this.j=m,this.i=T,this.l=j,this.S=H||1,this.V=new Bt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qr}function qr(){this.i=null,this.g="",this.h=!1}var Xt={},mn={};function ui(m,T,j){m.M=1,m.A=Ia(Jt(T)),m.u=j,m.R=!0,jo(m,null)}function jo(m,T){m.F=Date.now(),di(m),m.B=Jt(m.A);var j=m.B,H=m.S;Array.isArray(H)||(H=[String(H)]),Po(j.i,"t",H),m.C=0,j=m.j.L,m.h=new qr,m.g=Id(m.j,j?T:null,!m.u),m.P>0&&(m.O=new ze(g(m.Y,m,m.g),m.P)),T=m.V,j=m.g,H=m.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(Qn[0]=ie.toString()),ie=Qn);for(let ce=0;ce<ie.length;ce++){const ye=Ce(j,ie[ce],H||T.handleEvent,!1,T.h||T);if(!ye)break;T.g[ye.key]=ye}T=m.J?Q(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Dn(),No(m.i,m.v,m.B,m.l,m.S,m.u)}Br.prototype.ba=function(m){m=m.target;const T=this.O;T&&$r(m)==3?T.j():this.Y(m)},Br.prototype.Y=function(m){try{if(m==this.g)e:{const Le=$r(this.g),Ht=this.g.ya(),at=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||An(this.g)))){this.K||Le!=4||Ht==7||(Ht==8||at<=0?Dn(3):Dn(2)),hi(this);var T=this.g.ca();this.X=T;var j=Sm(this);if(this.o=T==200,xr(this.i,this.v,this.B,this.l,this.S,Le,T),this.o){if(this.U&&!this.L){t:{if(this.g){var H,ie=this.g;if((H=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(H)){var ce=H;break t}}ce=null}if(m=ce)fn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,m);else{this.o=!1,this.m=3,dt(12),or(this),_r(this);break e}}if(this.R){m=!0;let Rt;for(;!this.K&&this.C<j.length;)if(Rt=vd(this,j),Rt==mn){Le==4&&(this.m=4,dt(14),m=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Xt){this.m=4,dt(15),fn(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else fn(this.i,this.l,Rt,null),fi(this,Rt);if(yd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||j.length!=0||this.h.h||(this.m=1,dt(16),m=!1),this.o=this.o&&m,!m)fn(this.i,this.l,j,"[Invalid Chunked Response]"),or(this),_r(this);else if(j.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),xc(ye),ye.P=!0,dt(11))}}else fn(this.i,this.l,j,null),fi(this,j);Le==4&&or(this),this.o&&!this.K&&(Le==4?Cd(this.j,this):(this.o=!1,di(this)))}else zi(this.g),T==400&&j.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),or(this),_r(this)}}}catch{}finally{}};function Sm(m){if(!yd(m))return m.g.la();const T=An(m.g);if(T==="")return"";let j="";const H=T.length,ie=$r(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return or(m),_r(m),"";m.h.i=new c.TextDecoder}for(let ce=0;ce<H;ce++)m.h.h=!0,j+=m.h.i.decode(T[ce],{stream:!(ie&&ce==H-1)});return T.length=0,m.h.g+=j,m.C=0,m.h.g}function yd(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function vd(m,T){var j=m.C,H=T.indexOf(`
`,j);return H==-1?mn:(j=Number(T.substring(j,H)),isNaN(j)?Xt:(H+=1,H+j>T.length?mn:(T=T.slice(H,H+j),m.C=H+j,T)))}Br.prototype.cancel=function(){this.K=!0,or(this)};function di(m){m.T=Date.now()+m.H,Ro(m,m.H)}function Ro(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Tn(g(m.aa,m),T)}function hi(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Br.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Na(this.i,this.B),this.M!=2&&(Dn(),dt(17)),or(this),this.m=2,_r(this)):Ro(this,this.T-m)};function _r(m){m.j.I==0||m.K||Cd(m.j,m)}function or(m){hi(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,li(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function fi(m,T){try{var j=m.j;if(j.I!=0&&(j.g==m||pi(j.h,m))){if(!m.L&&pi(j.h,m)&&j.I==3){try{var H=j.Ba.g.parse(T)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ie=H;if(ie[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<m.F)Lo(j),js(j);else break e;La(j),dt(18)}}else j.xa=ie[1],0<j.xa-j.K&&ie[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=Tn(g(j.Va,j),6e3));mi(j.h)<=1&&j.ta&&(j.ta=void 0)}else _i(j,11)}else if((m.L||j.g==m)&&Lo(j),!A(T))for(ie=j.Ba.g.parse(T),T=0;T<ie.length;T++){let at=ie[T];const Rt=at[0];if(!(Rt<=j.K))if(j.K=Rt,at=at[1],j.I==2)if(at[0]=="c"){j.M=at[1],j.ba=at[2];const Er=at[3];Er!=null&&(j.ka=Er,j.j.info("VER="+j.ka));const wi=at[4];wi!=null&&(j.za=wi,j.j.info("SVER="+j.za));const Wr=at[5];Wr!=null&&typeof Wr=="number"&&Wr>0&&(H=1.5*Wr,j.O=H,j.j.info("backChannelRequestTimeoutMs_="+H)),H=j;const Kr=m.g;if(Kr){const Ua=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var ce=H.h;ce.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(lc(ce,ce.h),ce.h=null))}if(H.G){const Uo=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(H.wa=Uo,ht(H.J,H.G,Uo))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-m.F,j.j.info("Handshake RTT: "+j.T+"ms")),H=j;var ye=m;if(H.na=Rd(H,H.L?H.ba:null,H.W),ye.L){cc(H.h,ye);var Le=ye,Ht=H.O;Ht&&(Le.H=Ht),Le.D&&(hi(Le),di(Le)),H.g=ye}else Ad(H);j.i.length>0&&xi(j)}else at[0]!="stop"&&at[0]!="close"||_i(j,7);else j.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?_i(j,7):vc(j):at[0]!="noop"&&j.l&&j.l.qa(at),j.A=0)}}Dn(4)}catch{}}var Zt=class{constructor(m,T){this.g=m,this.map=T}};function ac(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function mi(m){return m.h?1:m.g?m.g.size:0}function pi(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function lc(m,T){m.g?m.g.add(T):m.h=T}function cc(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}ac.prototype.cancel=function(){if(this.i=uc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function uc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const j of m.g.values())T=T.concat(j.G);return T}return _(m.i)}var bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(m,T){if(m){m=m.split("&");for(let j=0;j<m.length;j++){const H=m[j].indexOf("=");let ie,ce=null;H>=0?(ie=m[j].substring(0,H),ce=m[j].substring(H+1)):ie=m[j],T(ie,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function lr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof lr?(this.l=m.l,pn(this,m.j),this.o=m.o,this.g=m.g,ws(this,m.u),this.h=m.h,dc(this,Td(m.i)),this.m=m.m):m&&(T=String(m).match(bd))?(this.l=!1,pn(this,T[1]||"",!0),this.o=gi(T[2]||""),this.g=gi(T[3]||"",!0),ws(this,T[4]),this.h=gi(T[5]||"",!0),dc(this,T[6]||"",!0),this.m=gi(T[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}lr.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(ka(T,ko,!0),":");var j=this.g;return(j||T=="file")&&(m.push("//"),(T=this.o)&&m.push(ka(T,ko,!0),"@"),m.push(Li(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&m.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&m.push("/"),m.push(ka(j,j.charAt(0)=="/"?hc:xd,!0))),(j=this.i.toString())&&m.push("?",j),(j=this.m)&&m.push("#",ka(j,_d)),m.join("")},lr.prototype.resolve=function(m){const T=Jt(this);let j=!!m.j;j?pn(T,m.j):j=!!m.o,j?T.o=m.o:j=!!m.g,j?T.g=m.g:j=m.u!=null;var H=m.h;if(j)ws(T,m.u);else if(j=!!m.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var ie=T.h.lastIndexOf("/");ie!=-1&&(H=T.h.slice(0,ie+1)+H)}if(ie=H,ie==".."||ie==".")H="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){H=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const ce=[];for(let ye=0;ye<ie.length;){const Le=ie[ye++];Le=="."?H&&ye==ie.length&&ce.push(""):Le==".."?((ce.length>1||ce.length==1&&ce[0]!="")&&ce.pop(),H&&ye==ie.length&&ce.push("")):(ce.push(Le),H=!0)}H=ce.join("/")}else H=ie}return j?T.h=H:j=m.i.toString()!=="",j?dc(T,Td(m.i)):j=!!m.m,j&&(T.m=m.m),T};function Jt(m){return new lr(m)}function pn(m,T,j){m.j=j?gi(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function ws(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function dc(m,T,j){T instanceof Es?(m.i=T,Mo(m.i,m.l)):(j||(T=ka(T,Ts)),m.i=new Es(T,m.l))}function ht(m,T,j){m.i.set(T,j)}function Ia(m){return ht(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function gi(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ka(m,T,j){return typeof m=="string"?(m=encodeURI(m).replace(T,Yn),j&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Yn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ko=/[#\/\?@]/g,xd=/[#\?:]/g,hc=/[#\?]/g,Ts=/[#\?@]/g,_d=/#/g;function Es(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Xn(m){m.g||(m.g=new Map,m.h=0,m.i&&Io(m.i,function(T,j){m.add(decodeURIComponent(T.replace(/\+/g," ")),j)}))}t=Es.prototype,t.add=function(m,T){Xn(this),this.i=null,m=As(this,m);let j=this.g.get(m);return j||this.g.set(m,j=[]),j.push(T),this.h+=1,this};function wd(m,T){Xn(m),T=As(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function fc(m,T){return Xn(m),T=As(m,T),m.g.has(T)}t.forEach=function(m,T){Xn(this),this.g.forEach(function(j,H){j.forEach(function(ie){m.call(T,ie,H,this)},this)},this)};function mc(m,T){Xn(m);let j=[];if(typeof T=="string")fc(m,T)&&(j=j.concat(m.g.get(As(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)j=j.concat(m[T]);return j}t.set=function(m,T){return Xn(this),this.i=null,m=As(this,m),fc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=mc(this,m),m.length>0?String(m[0]):T):T};function Po(m,T,j){wd(m,T),j.length>0&&(m.i=null,m.g.set(As(m,T),_(j)),m.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let H=0;H<T.length;H++){var j=T[H];const ie=Li(j);j=mc(this,j);for(let ce=0;ce<j.length;ce++){let ye=ie;j[ce]!==""&&(ye+="="+Li(j[ce])),m.push(ye)}}return this.i=m.join("&")};function Td(m){const T=new Es;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function As(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Mo(m,T){T&&!m.j&&(Xn(m),m.i=null,m.g.forEach(function(j,H){const ie=H.toLowerCase();H!=ie&&(wd(this,H),Po(this,ie,j))},m)),m.j=T}function Hr(m,T){const j=new En;if(c.Image){const H=new Image;H.onload=p(wr,j,"TestLoadImage: loaded",!0,T,H),H.onerror=p(wr,j,"TestLoadImage: error",!1,T,H),H.onabort=p(wr,j,"TestLoadImage: abort",!1,T,H),H.ontimeout=p(wr,j,"TestLoadImage: timeout",!1,T,H),c.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=m}else T(!1)}function pc(m,T){const j=new En,H=new AbortController,ie=setTimeout(()=>{H.abort(),wr(j,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:H.signal}).then(ce=>{clearTimeout(ie),ce.ok?wr(j,"TestPingServer: ok",!0,T):wr(j,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ie),wr(j,"TestPingServer: error",!1,T)})}function wr(m,T,j,H,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),H(j)}catch{}}function Ss(){this.g=new Qt}function yi(m){this.i=m.Sb||null,this.h=m.ab||!1}v(yi,Mn),yi.prototype.g=function(){return new Pa(this.i,this.h)};function Pa(m,T){He.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Pa,He),t=Pa.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Gr(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||c).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Do(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Do(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Cs(this):Gr(this),this.readyState==3&&Do(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Cs(this))},t.Na=function(m){this.g&&(this.response=m,Cs(this))},t.ga=function(){this.g&&Cs(this)};function Cs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Gr(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var j=T.next();!j.done;)j=j.value,m.push(j[0]+": "+j[1]),j=T.next();return m.join(`\r
`)};function Gr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Tr(m){let T="";return ee(m,function(j,H){T+=H,T+=":",T+=j,T+=`\r
`}),T}function Ma(m,T,j){e:{for(H in j){var H=!1;break e}H=!0}H||(j=Tr(j),typeof m=="string"?j!=null&&Li(j):ht(m,T,j))}function yt(m){He.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(yt,He);var vi=/^https?$/i,gc=["POST","PUT"];t=yt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,j,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sc.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(ce){Da(this,ce);return}if(m=j||"",j=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ie in H)j.set(ie,H[ie]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const ce of H.keys())j.set(ce,H.get(ce));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(j.keys()).find(ce=>ce.toLowerCase()=="content-type"),ie=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(gc,T,void 0)>=0)||H||ie||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,ye]of j)this.g.setRequestHeader(ce,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ce){Da(this,ce)}};function Da(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,yc(m),Ui(m)}function yc(m){m.A||(m.A=!0,Ze(m,"complete"),Ze(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Ze(this,"complete"),Ze(this,"abort"),Ui(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Va(this):this.Xa())},t.Xa=function(){Va(this)};function Va(m){if(m.h&&typeof o<"u"){if(m.v&&$r(m)==4)setTimeout(m.Ca.bind(m),0);else if(Ze(m,"readystatechange"),$r(m)==4){m.h=!1;try{const ce=m.ca();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var j;if(!(j=T)){var H;if(H=ce===0){let ye=String(m.D).match(bd)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),H=!vi.test(ye?ye.toLowerCase():"")}j=H}if(j)Ze(m,"complete"),Ze(m,"success");else{m.o=6;try{var ie=$r(m)>2?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.ca()+"]",yc(m)}}finally{Ui(m)}}}}function Ui(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const j=m.g;m.g=null,T||Ze(m,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $r(m){return m.g?m.g.readyState:0}t.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Fr(T)}};function An(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(m){const T={};m=(m.g&&$r(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<m.length;H++){if(A(m[H]))continue;var j=gd(m[H]);const ie=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const ce=T[ie]||[];T[ie]=ce,ce.push(j)}se(T,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(m,T,j){return j&&j.internalChannelParams&&j.internalChannelParams[m]||T}function Ns(m){this.za=0,this.i=[],this.j=new En,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,m),this.Za=bi("retryDelaySeedMs",1e4,m),this.Ta=bi("forwardChannelMaxRetries",2,m),this.va=bi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new ac(m&&m.concurrentRequestLimit),this.Ba=new Ss,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ns.prototype,t.ka=8,t.I=1,t.connect=function(m,T,j,H){dt(0),this.W=m,this.H=T||{},j&&H!==void 0&&(this.H.OSID=j,this.H.OAID=H),this.F=this.X,this.J=Rd(this,null,this.W),xi(this)};function vc(m){if(Vo(m),m.I==3){var T=m.V++,j=Jt(m.J);if(ht(j,"SID",m.M),ht(j,"RID",T),ht(j,"TYPE","terminate"),Oa(m,j),T=new Br(m,m.j,T),T.M=2,T.A=Ia(Jt(j)),j=!1,c.navigator&&c.navigator.sendBeacon)try{j=c.navigator.sendBeacon(T.A.toString(),"")}catch{}!j&&c.Image&&(new Image().src=T.A,j=!0),j||(T.g=Id(T.j,null),T.g.ea(T.A)),T.F=Date.now(),di(T)}jd(m)}function js(m){m.g&&(xc(m),m.g.cancel(),m.g=null)}function Vo(m){js(m),m.v&&(c.clearTimeout(m.v),m.v=null),Lo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function xi(m){if(!oc(m.h)&&!m.m){m.m=!0;var T=m.Ea;Z||w(),G||(Z(),G=!0),O.add(T,m),m.D=0}}function Oo(m,T){return mi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Tn(g(m.Ea,m,T),Nd(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const ie=new Br(this,this.j,m);let ce=this.o;if(this.U&&(ce?(ce=Q(ce),re(ce,this.U)):ce=this.U),this.u!==null||this.R||(ie.J=ce,ce=null),this.S)e:{for(var T=0,j=0;j<this.i.length;j++){t:{var H=this.i[j];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(T+=H,T>4096){T=j;break e}if(T===4096||j===this.i.length-1){T=j+1;break e}}T=1e3}else T=1e3;T=Ed(this,ie,T),j=Jt(this.J),ht(j,"RID",m),ht(j,"CVER",22),this.G&&ht(j,"X-HTTP-Session-Id",this.G),Oa(this,j),ce&&(this.R?T="headers="+Li(Tr(ce))+"&"+T:this.u&&Ma(j,this.u,ce)),lc(this.h,ie),this.Ra&&ht(j,"TYPE","init"),this.S?(ht(j,"$req",T),ht(j,"SID","null"),ie.U=!0,ui(ie,j,null)):ui(ie,j,T),this.I=2}}else this.I==3&&(m?bc(this,m):this.i.length==0||oc(this.h)||bc(this))};function bc(m,T){var j;T?j=T.l:j=m.V++;const H=Jt(m.J);ht(H,"SID",m.M),ht(H,"RID",j),ht(H,"AID",m.K),Oa(m,H),m.u&&m.o&&Ma(H,m.u,m.o),j=new Br(m,m.j,j,m.D+1),m.u===null&&(j.J=m.o),T&&(m.i=T.G.concat(m.i)),T=Ed(m,j,1e3),j.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),lc(m.h,j),ui(j,H,T)}function Oa(m,T){m.H&&ee(m.H,function(j,H){ht(T,H,j)}),m.l&&ee({},function(j,H){ht(T,H,j)})}function Ed(m,T,j){j=Math.min(m.i.length,j);const H=m.l?g(m.l.Ka,m.l,m):null;e:{var ie=m.i;let Le=-1;for(;;){const Ht=["count="+j];Le==-1?j>0?(Le=ie[0].g,Ht.push("ofs="+Le)):Le=0:Ht.push("ofs="+Le);let at=!0;for(let Rt=0;Rt<j;Rt++){var ce=ie[Rt].g;const Er=ie[Rt].map;if(ce-=Le,ce<0)Le=Math.max(0,ie[Rt].g-100),at=!1;else try{ce="req"+ce+"_"||"";try{var ye=Er instanceof Map?Er:Object.entries(Er);for(const[wi,Wr]of ye){let Kr=Wr;h(Wr)&&(Kr=At(Wr)),Ht.push(ce+wi+"="+encodeURIComponent(Kr))}}catch(wi){throw Ht.push(ce+"type="+encodeURIComponent("_badmap")),wi}}catch{H&&H(Er)}}if(at){ye=Ht.join("&");break e}}ye=void 0}return m=m.i.splice(0,j),T.G=m,ye}function Ad(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;Z||w(),G||(Z(),G=!0),O.add(T,m),m.A=0}}function La(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Tn(g(m.Da,m),Nd(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Sd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Tn(g(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),js(this),Sd(this))};function xc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Sd(m){m.g=new Br(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Jt(m.na);ht(T,"RID","rpc"),ht(T,"SID",m.M),ht(T,"AID",m.K),ht(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&ht(T,"TO",m.ia),ht(T,"TYPE","xmlhttp"),Oa(m,T),m.u&&m.o&&Ma(T,m.u,m.o),m.O&&(m.g.H=m.O);var j=m.g;m=m.ba,j.M=1,j.A=Ia(Jt(T)),j.u=null,j.R=!0,jo(j,m)}t.Va=function(){this.C!=null&&(this.C=null,js(this),La(this),dt(19))};function Lo(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Cd(m,T){var j=null;if(m.g==T){Lo(m),xc(m),m.g=null;var H=2}else if(pi(m.h,T))j=T.G,cc(m.h,T),H=1;else return;if(m.I!=0){if(T.o)if(H==1){j=T.u?T.u.length:0,T=Date.now()-T.F;var ie=m.D;H=ci(),Ze(H,new cn(H,j)),xi(m)}else Ad(m);else if(ie=T.m,ie==3||ie==0&&T.X>0||!(H==1&&Oo(m,T)||H==2&&La(m)))switch(j&&j.length>0&&(T=m.h,T.i=T.i.concat(j)),ie){case 1:_i(m,5);break;case 4:_i(m,10);break;case 3:_i(m,6);break;default:_i(m,2)}}}function Nd(m,T){let j=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(j*=2),j*T}function _i(m,T){if(m.j.info("Error code "+T),T==2){var j=g(m.bb,m),H=m.Ua;const ie=!H;H=new lr(H||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pn(H,"https"),Ia(H),ie?Hr(H.toString(),j):pc(H.toString(),j)}else dt(2);m.I=0,m.l&&m.l.pa(T),jd(m),Vo(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function jd(m){if(m.I=0,m.ja=[],m.l){const T=uc(m.h);(T.length!=0||m.i.length!=0)&&(C(m.ja,T),C(m.ja,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.oa()}}function Rd(m,T,j){var H=j instanceof lr?Jt(j):new lr(j);if(H.g!="")T&&(H.g=T+"."+H.g),ws(H,H.u);else{var ie=c.location;H=ie.protocol,T=T?T+"."+ie.hostname:ie.hostname,ie=+ie.port;const ce=new lr(null);H&&pn(ce,H),T&&(ce.g=T),ie&&ws(ce,ie),j&&(ce.h=j),H=ce}return j=m.G,T=m.wa,j&&T&&ht(H,j,T),ht(H,"VER",m.ka),Oa(m,H),H}function Id(m,T,j){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new yt(new yi({ab:j})):new yt(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kd(){}t=kd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Rs(){}Rs.prototype.g=function(m,T){return new qn(m,T)};function qn(m,T){He.call(this),this.g=new Ns(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!A(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!A(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Fi(this)}v(qn,He),qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){vc(this.g)},qn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var j={};j.__data__=m,m=j}else this.v&&(j={},j.__data__=At(m),m=j);T.i.push(new Zt(T.Ya++,m)),T.I==3&&xi(T)},qn.prototype.N=function(){this.g.l=null,delete this.j,vc(this.g),delete this.g,qn.Z.N.call(this)};function Pd(m){gt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const j in T){m=j;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}v(Pd,gt);function Md(){Yt.call(this),this.status=1}v(Md,Yt);function Fi(m){this.g=m}v(Fi,kd),Fi.prototype.ra=function(){Ze(this.g,"a")},Fi.prototype.qa=function(m){Ze(this.g,new Pd(m))},Fi.prototype.pa=function(m){Ze(this.g,new Md)},Fi.prototype.oa=function(){Ze(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,eC=function(){return new Rs},JS=function(){return ci()},ZS=St,J0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,df=ja,ic.COMPLETE="complete",XS=ic,wn.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",He.prototype.listen=He.prototype.J,du=wn,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,YS=yt}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const Lw="@firebase/firestore",Uw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new u1("@firebase/firestore");function gl(){return xo.logLevel}function _e(t,...e){if(xo.logLevel<=Qe.DEBUG){const n=e.map(T1);xo.debug(`Firestore (${ec}): ${t}`,...n)}}function ys(t,...e){if(xo.logLevel<=Qe.ERROR){const n=e.map(T1);xo.error(`Firestore (${ec}): ${t}`,...n)}}function _o(t,...e){if(xo.logLevel<=Qe.WARN){const n=e.map(T1);xo.warn(`Firestore (${ec}): ${t}`,...n)}}function T1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,tC(t,i,n)}function tC(t,e,n){let i=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ys(i),new Error(i)}function ct(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||tC(e,a,i)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Un.UNAUTHENTICATED)))}shutdown(){}}class oO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lO{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let o=new us;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new us,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new us)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new nC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class cO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new cO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const i=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=hO(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<n&&(i+=e.charAt(a[o]%62))}return i}}function Ye(t,e){return t<e?-1:t>e?1:0}function ey(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),o=e.charAt(i);if(a!==o)return Jg(a)===Jg(o)?Ye(a,o):Jg(a)?1:-1}return Ye(t.length,e.length)}const fO=55296,mO=57343;function Jg(t){const e=t.charCodeAt(0);return e>=fO&&e<=mO}function Ll(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__name__";class Ci{constructor(e,n,i){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ke(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const o=Ci.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ye(e.length,n.length)}static compareSegments(e,n){const i=Ci.isNumericId(e),a=Ci.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class wt extends Ci{construct(e,n,i){return new wt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const pO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Ci{construct(e,n,i){return new vn(e,n,i)}static isValidIdentifier(e){return pO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fw}static keyField(){return new vn([Fw])}static fromServerFormat(e){const n=[];let i="",a=0;const o=()=>{if(i.length===0)throw new be(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new be(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new be(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(wt.fromString(e))}static fromName(e){return new Ne(wt.fromString(e).popFirst(5))}static empty(){return new Ne(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e,n){if(!n)throw new be(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sC(t,e,n,i){if(e===!0&&i===!0)throw new be(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bw(t){if(!Ne.isDocumentKey(t))throw new be(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qw(t){if(Ne.isDocumentKey(t))throw new be(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function am(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=am(t);throw new be(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function nd(t,e){if(!aC(t))throw new be(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new be(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=-62135596800,Gw=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Gw);return new Tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hw)throw new be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gw}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nd(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:ln("string",Tt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Tt(0,0))}static max(){return new De(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function gO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=De.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new ga(a,Ne.empty(),e)}function yO(t){return new ga(t.readTime,t.key,Lu)}class ga{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ga(De.min(),Ne.empty(),Lu)}static max(){return new ga(De.max(),Ne.empty(),Lu)}}function vO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==bO)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,i)=>{n(e)}))}static reject(e){return new pe(((n,i)=>{i(e)}))}static waitFor(e){return new pe(((n,i)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&n()}),(f=>i(f)))})),c=!0,o===a&&n()}))}static or(e){let n=pe.resolve(!1);for(const i of e)n=n.next((a=>a?pe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,o)=>{i.push(n.call(this,a,o))})),this.waitFor(i)}static mapArray(e,n){return new pe(((i,a)=>{const o=e.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;n(e[g]).next((p=>{c[g]=p,++h,h===o&&i(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new pe(((i,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):i()};o()}))}}function _O(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}om.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=-1;function lm(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function wO(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="";function TO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$w(e)),e=EO(t.get(n),e);return $w(e)}function EO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case oC:n+="";break;default:n+=o}}return n}function $w(t){return t+oC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,i,a,o){this.key=e,this.value=n,this.color=i??In.RED,this.left=a??In.EMPTY,this.right=o??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,o){return new In(e??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,i),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return In.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,i,a,o){return this}insert(e,n,i){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kw(this.data.getIterator())}getIteratorFrom(e){return new Kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class Kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new yr([])}unionWith(e){let n=new hn(vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cC("Invalid base64 string: "+o):o}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const AO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=AO.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="server_timestamp",dC="__type__",hC="__previous_value__",fC="__local_write_time__";function A1(t){return(t?.mapValue?.fields||{})[dC]?.stringValue===uC}function cm(t){const e=t.mapValue.fields[hC];return A1(e)?cm(e):e}function Uu(t){const e=ya(t.mapValue.fields[fC].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,i,a,o,c,h,f,g,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=p}}const Df="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||Df}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="__type__",CO="__max__",Qh={mapValue:{}},pC="__vector__",Vf="value";function ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A1(t)?4:jO(t)?9007199254740991:NO(t)?10:11:ke(28295,{value:t})}function Di(t,e){if(t===e)return!0;const n=ba(t);if(n!==ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uu(t).isEqual(Uu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=ya(a.timestampValue),h=ya(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return va(a.bytesValue).isEqual(va(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Kt(a.geoPointValue.latitude)===Kt(o.geoPointValue.latitude)&&Kt(a.geoPointValue.longitude)===Kt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Kt(a.integerValue)===Kt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Kt(a.doubleValue),h=Kt(o.doubleValue);return c===h?Mf(c)===Mf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Ww(c)!==Ww(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Di(c[f],h[f])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function zu(t,e){return(t.values||[]).find((n=>Di(n,e)))!==void 0}function zl(t,e){if(t===e)return 0;const n=ba(t),i=ba(e);if(n!==i)return Ye(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=Kt(o.integerValue||o.doubleValue),f=Kt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return Qw(t.timestampValue,e.timestampValue);case 4:return Qw(Uu(t),Uu(e));case 5:return ey(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=va(o),f=va(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const p=Ye(h[g],f[g]);if(p!==0)return p}return Ye(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Ye(Kt(o.latitude),Kt(c.latitude));return h!==0?h:Ye(Kt(o.longitude),Kt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Yw(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},g=h[Vf]?.arrayValue,p=f[Vf]?.arrayValue,v=Ye(g?.values?.length||0,p?.values?.length||0);return v!==0?v:Yw(g,p)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Qh.mapValue&&c===Qh.mapValue)return 0;if(o===Qh.mapValue)return 1;if(c===Qh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},p=Object.keys(g);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const x=ey(f[v],p[v]);if(x!==0)return x;const _=zl(h[f[v]],g[p[v]]);if(_!==0)return _}return Ye(f.length,p.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function Qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ya(t),i=ya(e),a=Ye(n.seconds,i.seconds);return a!==0?a:Ye(n.nanos,i.nanos)}function Yw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const o=zl(n[a],i[a]);if(o)return o}return Ye(n.length,i.length)}function Fl(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ya(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return va(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const o of n.values||[])a?a=!1:i+=",",i+=ty(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${ty(n.fields[c])}`;return a+"}"})(t.mapValue):ke(61005,{value:t})}function hf(t){switch(ba(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cm(t);return e?16+hf(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+hf(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Ea(i.fields,((o,c)=>{a+=o.length+hf(c)})),a})(t.mapValue);default:throw ke(13486,{value:t})}}function Xw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function S1(t){return!!t&&"arrayValue"in t}function Zw(t){return!!t&&"nullValue"in t}function Jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ff(t){return!!t&&"mapValue"in t}function NO(t){return(t?.mapValue?.fields||{})[mC]?.stringValue===pC}function wu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ea(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=wu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return{...t}}function jO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=vn.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=wu(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,a)}delete(e){const n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Ea(n,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new sr(wu(this.value))}}function gC(t){const e=[];return Ea(t.fields,((n,i)=>{const a=new vn([n]);if(ff(i)){const o=gC(i.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,i,a,o,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,De.min(),De.min(),De.min(),sr.empty(),0)}static newFoundDocument(e,n,i,a){return new zn(e,1,n,De.min(),i,a,0)}static newNoDocument(e,n){return new zn(e,2,n,De.min(),De.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,De.min(),De.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.position=e,this.inclusive=n}}function eT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?i=Ne.comparator(Ne.fromName(c.referenceValue),n.key):i=zl(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function tT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function RO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{}class on extends yC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kO(e,n,i):n==="array-contains"?new DO(e,i):n==="in"?new VO(e,i):n==="not-in"?new OO(e,i):n==="array-contains-any"?new LO(e,i):new on(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new PO(e,i):new MO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&ba(this.value)===ba(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends yC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return vC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vC(t){return t.op==="and"}function bC(t){return IO(t)&&vC(t)}function IO(t){for(const e of t.filters)if(e instanceof ai)return!1;return!0}function ry(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(bC(t))return t.filters.map((e=>ry(e))).join(",");{const e=t.filters.map((n=>ry(n))).join(",");return`${t.op}(${e})`}}function xC(t,e){return t instanceof on?(function(i,a){return a instanceof on&&i.op===a.op&&i.field.isEqual(a.field)&&Di(i.value,a.value)})(t,e):t instanceof ai?(function(i,a){return a instanceof ai&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&xC(c,a.filters[h])),!0):!1})(t,e):void ke(19439)}function _C(t){return t instanceof on?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(t):t instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(_C).join(" ,")+"}"})(t):"Filter"}class kO extends on{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class PO extends on{constructor(e,n){super(e,"in",n),this.keys=wC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class MO extends on{constructor(e,n){super(e,"not-in",n),this.keys=wC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wC(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class DO extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return S1(n)&&zu(n.arrayValue,this.value)}}class VO extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class OO extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zu(this.value.arrayValue,n)}}class LO extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!S1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>zu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n=null,i=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function nT(t,e=null,n=[],i=[],a=null,o=null,c=null){return new UO(t,e,n,i,a,o,c)}function C1(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ry(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Fl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Fl(i))).join(",")),e.Te=n}return e.Te}function N1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tT(t.startAt,e.startAt)&&tT(t.endAt,e.endAt)}function iy(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n=null,i=[],a=[],o=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zO(t,e,n,i,a,o,c,h){return new rd(t,e,n,i,a,o,c,h)}function j1(t){return new rd(t)}function rT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TC(t){return t.collectionGroup!==null}function Tu(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new hn(vn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Lf(o,i))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new Lf(vn.keyField(),i))}return e.Ie}function ki(t){const e=Oe(t);return e.Ee||(e.Ee=FO(e,Tu(t))),e.Ee}function FO(t,e){if(t.limitType==="F")return nT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Lf(a.field,o)}));const n=t.endAt?new Of(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Of(t.startAt.position,t.startAt.inclusive):null;return nT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function sy(t,e){const n=t.filters.concat([e]);return new rd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ay(t,e,n){return new rd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function um(t,e){return N1(ki(t),ki(e))&&t.limitType===e.limitType}function EC(t){return`${C1(ki(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>_C(a))).join(", ")}]`),lm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Fl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Fl(a))).join(",")),`Target(${i})`})(ki(t))}; limitType=${t.limitType})`}function dm(t,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ne.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,a){for(const o of Tu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const g=eT(c,h,f);return c.inclusive?g<=0:g<0})(i.startAt,Tu(i),a)||i.endAt&&!(function(c,h,f){const g=eT(c,h,f);return c.inclusive?g>=0:g>0})(i.endAt,Tu(i),a))})(t,e)}function BO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AC(t){return(e,n)=>{let i=!1;for(const a of Tu(t)){const o=qO(a,e,n);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function qO(t,e,n){const i=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?zl(f,g):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,((n,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return lC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new Vt(Ne.comparator);function vs(){return HO}const SC=new Vt(Ne.comparator);function hu(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function CC(t){let e=SC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function co(){return Eu()}function NC(){return Eu()}function Eu(){return new Eo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const GO=new Vt(Ne.comparator),$O=new hn(Ne.comparator);function Xe(...t){let e=$O;for(const n of t)e=e.add(n);return e}const WO=new hn(Ye);function KO(){return WO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function jC(t){return{integerValue:""+t}}function QO(t,e){return wO(e)?jC(e):R1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this._=void 0}}function YO(t,e,n){return t instanceof Fu?(function(a,o){const c={fields:{[dC]:{stringValue:uC},[fC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&A1(o)&&(o=cm(o)),o&&(c.fields[hC]=o),{mapValue:c}})(n,e):t instanceof Bu?IC(t,e):t instanceof qu?kC(t,e):(function(a,o){const c=RC(a,o),h=iT(c)+iT(a.Ae);return ny(c)&&ny(a.Ae)?jC(h):R1(a.serializer,h)})(t,e)}function XO(t,e,n){return t instanceof Bu?IC(t,e):t instanceof qu?kC(t,e):n}function RC(t,e){return t instanceof Uf?(function(i){return ny(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Fu extends hm{}class Bu extends hm{constructor(e){super(),this.elements=e}}function IC(t,e){const n=PC(e);for(const i of t.elements)n.some((a=>Di(a,i)))||n.push(i);return{arrayValue:{values:n}}}class qu extends hm{constructor(e){super(),this.elements=e}}function kC(t,e){let n=PC(e);for(const i of t.elements)n=n.filter((a=>!Di(a,i)));return{arrayValue:{values:n}}}class Uf extends hm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iT(t){return Kt(t.integerValue||t.doubleValue)}function PC(t){return S1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.field=e,this.transform=n}}function JO(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Bu&&a instanceof Bu||i instanceof qu&&a instanceof qu?Ll(i.elements,a.elements,Di):i instanceof Uf&&a instanceof Uf?Di(i.Ae,a.Ae):i instanceof Fu&&a instanceof Fu})(t.transform,e.transform)}class eL{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fm{}function MC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I1(t.key,Or.none()):new id(t.key,t.data,Or.none());{const n=t.data,i=sr.empty();let a=new hn(vn.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Aa(t.key,i,new yr(a.toArray()),Or.none())}}function tL(t,e,n){t instanceof id?(function(a,o,c){const h=a.value.clone(),f=aT(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Aa?(function(a,o,c){if(!mf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=aT(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(DC(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Au(t,e,n,i){return t instanceof id?(function(o,c,h,f){if(!mf(o.precondition,c))return h;const g=o.value.clone(),p=oT(o.fieldTransforms,f,c);return g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof Aa?(function(o,c,h,f){if(!mf(o.precondition,c))return h;const g=oT(o.fieldTransforms,f,c),p=c.data;return p.setAll(DC(o)),p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(o,c,h){return mf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function nL(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),o=RC(i.transform,a||null);o!=null&&(n===null&&(n=sr.empty()),n.set(i.field,o))}return n||null}function sT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ll(i,a,((o,c)=>JO(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class id extends fm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Aa extends fm{constructor(e,n,i,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function aT(t,e,n){const i=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,h=e.data.field(o.field);i.set(o.field,XO(c,h,n[a]))}return i}function oT(t,e,n){const i=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);i.set(a.field,YO(o,c,e))}return i}class I1 extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rL extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&tL(o,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Au(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Au(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=NC();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(a.key)?null:h;const f=MC(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(De.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,((n,i)=>sT(n,i)))&&Ll(this.baseMutations,e.baseMutations,((n,i)=>sT(n,i)))}}class k1{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return GO})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new k1(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,et;function oL(t){switch(t){case me.OK:return ke(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function VC(t){if(t===void 0)return ys("GRPC error has no .code"),me.UNKNOWN;switch(t){case sn.OK:return me.OK;case sn.CANCELLED:return me.CANCELLED;case sn.UNKNOWN:return me.UNKNOWN;case sn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case sn.INTERNAL:return me.INTERNAL;case sn.UNAVAILABLE:return me.UNAVAILABLE;case sn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case sn.NOT_FOUND:return me.NOT_FOUND;case sn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case sn.ABORTED:return me.ABORTED;case sn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case sn.DATA_LOSS:return me.DATA_LOSS;default:return ke(39323,{code:t})}}(et=sn||(sn={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new da([4294967295,4294967295],0);function lT(t){const e=lL().encode(t),n=new QS;return n.update(e),new Uint8Array(n.digest())}function cT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new da([n,i],0),new da([a,o],0)]}class P1{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(i<0)throw new fu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=da.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(da.fromNumber(i)));return a.compare(cL)===1&&(a=new da([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lT(e),[i,a]=cT(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new P1(o,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=lT(e),[i,a]=cT(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,i,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new mm(De.min(),a,new Vt(Ye),vs(),Xe())}}class sd{constructor(e,n,i,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new sd(i,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class OC{constructor(e,n){this.targetId=e,this.Ce=n}}class LC{constructor(e,n,i=xn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class uT{constructor(){this.ve=0,this.Fe=dT(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),i=Xe();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:ke(38017,{changeType:o})}})),new sd(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=dT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uL{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.Je=Yh(),this.He=Yh(),this.Ye=new Vt(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(iy(o))if(i===0){const c=new Ne(o.path);this.et(n,c,zn.newNoDocument(c,De.min()))}else ct(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let c,h;try{c=va(i).toUint8Array()}catch(f){if(f instanceof cC)return _o("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new P1(c,a,o)}catch(f){return _o(f instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&iy(h.target)){const f=new Ne(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,zn.newNoDocument(f,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let i=Xe();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new mm(e,n,this.Ye,this.je,i);return this.je=vs(),this.Je=Yh(),this.He=Yh(),this.Ye=new Vt(Ye),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new hn(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new hn(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yh(){return new Vt(Ne.comparator)}function dT(){return new Vt(Ne.comparator)}const dL={asc:"ASCENDING",desc:"DESCENDING"},hL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fL={and:"AND",or:"OR"};class mL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oy(t,e){return t.useProto3Json||lm(e)?e:{value:e}}function zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pL(t,e){return zf(t,e.toTimestamp())}function Pi(t){return ct(!!t,49232),De.fromTimestamp((function(n){const i=ya(n);return new Tt(i.seconds,i.nanos)})(t))}function M1(t,e){return ly(t,e).canonicalString()}function ly(t,e){const n=(function(a){return new wt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zC(t){const e=wt.fromString(t);return ct(GC(e),10190,{key:e.toString()}),e}function cy(t,e){return M1(t.databaseId,e.path)}function e0(t,e){const n=zC(e);if(n.get(1)!==t.databaseId.projectId)throw new be(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(BC(n))}function FC(t,e){return M1(t.databaseId,e)}function gL(t){const e=zC(t);return e.length===4?wt.emptyPath():BC(e)}function uy(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BC(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hT(t,e,n){return{name:cy(t,e),fields:n.value.mapValue.fields}}function yL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ke(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(g,p){return g.useProto3Json?(ct(p===void 0||typeof p=="string",58123),xn.fromBase64String(p||"")):(ct(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),xn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const p=g.code===void 0?me.UNKNOWN:VC(g.code);return new be(p,g.message||"")})(c);n=new LC(i,a,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=e0(t,i.document.name),o=Pi(i.document.updateTime),c=i.document.createTime?Pi(i.document.createTime):De.min(),h=new sr({mapValue:{fields:i.document.fields}}),f=zn.newFoundDocument(a,o,c,h),g=i.targetIds||[],p=i.removedTargetIds||[];n=new pf(g,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=e0(t,i.document),o=i.readTime?Pi(i.readTime):De.min(),c=zn.newNoDocument(a,o),h=i.removedTargetIds||[];n=new pf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=e0(t,i.document),o=i.removedTargetIds||[];n=new pf([],o,a,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new aL(a,o),h=i.targetId;n=new OC(h,c)}}return n}function vL(t,e){let n;if(e instanceof id)n={update:hT(t,e.key,e.value)};else if(e instanceof I1)n={delete:cy(t,e.key)};else if(e instanceof Aa)n={update:hT(t,e.key,e.data),updateMask:CL(e.fieldMask)};else{if(!(e instanceof rL))return ke(16599,{Vt:e.type});n={verify:cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Fu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw ke(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:pL(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke(27497)})(t,e.precondition)),n}function bL(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?Pi(a.updateTime):Pi(o);return c.isEqual(De.min())&&(c=Pi(o)),new eL(c,a.transformResults||[])})(n,e)))):[]}function xL(t,e){return{documents:[FC(t,e.path)]}}function _L(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=FC(t,a);const o=(function(g){if(g.length!==0)return HC(ai.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((p=>(function(x){return{field:vl(x.field),direction:EL(x.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=oy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function wL(t){let e=gL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ct(i===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(v){const x=qC(v);return x instanceof ai&&bC(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((x=>(function(C){return new Lf(bl(C.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let x;return x=typeof v=="object"?v.value:v,lm(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(v){const x=!!v.before,_=v.values||[];return new Of(_,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const x=!v.before,_=v.values||[];return new Of(_,x)})(n.endAt)),zO(e,a,c,o,h,"F",f,g)}function TL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=bl(n.unaryFilter.field);return on.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=bl(n.unaryFilter.field);return on.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(n.unaryFilter.field);return on.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bl(n.unaryFilter.field);return on.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return on.create(bl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((i=>qC(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function EL(t){return dL[t]}function AL(t){return hL[t]}function SL(t){return fL[t]}function vl(t){return{fieldPath:t.canonicalString()}}function bl(t){return vn.fromServerFormat(t.fieldPath)}function HC(t){return t instanceof on?(function(n){if(n.op==="=="){if(Jw(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(Zw(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jw(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(Zw(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:AL(n.op),value:n.value}}})(t):t instanceof ai?(function(n){const i=n.getFilters().map((a=>HC(a)));return i.length===1?i[0]:{compositeFilter:{op:SL(n.op),filters:i}}})(t):ke(54877,{filter:t})}function CL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,i,a,o=De.min(),c=De.min(),h=xn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.yt=e}}function jL(t){const e=wL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.Cn=new IL}addToCollectionParentIndex(e,n){return this.Cn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(ga.min())}updateCollectionGroup(e,n,i){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class IL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new hn(wt.comparator),o=!a.has(i);return this.index[n]=a.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new hn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$C=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr($C,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bl(0)}static cr(){return new Bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="LruGarbageCollector",kL=1048576;function pT([t,e],[n,i]){const a=Ye(t,n);return a===0?Ye(e,i):a}class PL{constructor(e){this.Ir=e,this.buffer=new hn(pT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();pT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ML{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(mT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nc(n)?_e(mT,"Ignoring IndexedDB error during garbage collection: ",n):await tc(n)}await this.Vr(3e5)}))}}class DL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(om.ce);const i=new PL(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(fT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,o,c,h,f,g;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,n)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(g=Date.now(),gl()<=Qe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-p}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function VL(t,e){return new DL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.changes=new Eo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?pe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Au(i.mutation,a,yr.empty(),Tt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Xe()){const a=co();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((o=>{let c=hu();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=co();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Xe())))}populateOverlays(e,n,i){const a=[];return i.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let o=vs();const c=Eu(),h=(function(){return Eu()})();return n.forEach(((f,g)=>{const p=i.get(g.key);a.has(g.key)&&(p===void 0||p.mutation instanceof Aa)?o=o.insert(g.key,g):p!==void 0?(c.set(g.key,p.mutation.getFieldMask()),Au(p.mutation,g,p.mutation.getFieldMask(),Tt.now())):c.set(g.key,yr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((g,p)=>c.set(g,p))),n.forEach(((g,p)=>h.set(g,new LL(p,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=Eu();let a=new Vt(((c,h)=>c-h)),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=n.get(f);if(g===null)return;let p=i.get(f)||yr.empty();p=h.applyToLocalView(g,p),i.set(f,p);const v=(a.get(h.batchId)||Xe()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,p=f.value,v=NC();p.forEach((x=>{if(!o.has(x)){const _=MC(n.get(x),i.get(x));_!==null&&v.set(x,_),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return pe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-o.size):pe.resolve(co());let h=Lu,f=o;return c.next((g=>pe.forEach(g,((p,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(p)?pe.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,f,g,Xe()))).next((p=>({batchId:h,changes:CC(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let a=hu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const o=n.collectionGroup;let c=hu();return this.indexManager.getCollectionParents(e,o).next((h=>pe.forEach(h,(f=>{const g=(function(v,x){return new rd(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((p=>{p.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,a)))).next((c=>{o.forEach(((f,g)=>{const p=g.getKey();c.get(p)===null&&(c=c.insert(p,zn.newInvalidDocument(p)))}));let h=hu();return c.forEach(((f,g)=>{const p=o.get(f);p!==void 0&&Au(p.mutation,g,yr.empty(),Tt.now()),dm(n,g)&&(h=h.insert(f,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Pi(a.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:jL(a.bundledQuery),readTime:Pi(a.readTime)}})(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.overlays=new Vt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=co();return pe.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,o)=>{this.St(e,n,o)})),pe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),pe.resolve()}getOverlaysForCollection(e,n,i){const a=co(),o=n.length+1,c=new Ne(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let o=new Vt(((g,p)=>g-p));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let p=o.get(g.largestBatchId);p===null&&(p=co(),o=o.insert(g.largestBatchId,p)),p.set(g.getKey(),g)}}const h=co(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,p)=>h.set(g,p))),!(h.size()>=a)););return pe.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new sL(n,i));let o=this.qr.get(n);o===void 0&&(o=Xe(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.Qr=new hn(yn.$r),this.Ur=new hn(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new yn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ne(new wt([])),i=new yn(n,e),a=new yn(n,e+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new wt([])),i=new yn(n,e),a=new yn(n,e+1);let o=Xe();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new yn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new hn(yn.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iL(o,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new yn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,n){return pe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?E1:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new yn(n,0),a=new yn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new hn(Ye);return n.forEach((a=>{const o=new yn(a,0),c=new yn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),pe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let o=i;Ne.isDocumentKey(o)||(o=o.child(""));const c=new yn(new Ne(o),0);let h=new hn(Ye);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Yr)),!0)}),c),pe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return pe.forEach(n.mutations,(a=>{const o=new yn(a.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new yn(n,0),a=this.Zr.firstAfterOrEqual(i);return pe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return pe.resolve(i?i.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let i=vs();return n.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():zn.newInvalidDocument(a))})),pe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let o=vs();const c=n.path,h=new Ne(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:p}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||vO(yO(p),i)<=0||(a.has(p.key)||dm(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,n,i,a){ke(9500)}ii(e,n){return pe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new GL(this)}getSize(e){return pe.resolve(this.size)}}class GL extends OL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),pe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.persistence=e,this.si=new Eo((n=>C1(n)),N1),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new D1,this.targetCount=0,this.ai=Bl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),pe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Pr(n),pe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),pe.waitFor(o).next((()=>a))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return pe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),pe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),pe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return pe.resolve(i)}containsKey(e,n){return pe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.ui={},this.overlays={},this.ci=new om(0),this.li=!1,this.li=!0,this.hi=new BL,this.referenceDelegate=e(this),this.Pi=new $L(this),this.indexManager=new RL,this.remoteDocumentCache=(function(a){return new HL(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new NL(n),this.Ii=new zL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new qL(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){_e("MemoryPersistence","Starting transaction:",e);const a=new WL(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return pe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class WL extends xO{constructor(e){super(),this.currentSequenceNumber=e}}class V1{constructor(e){this.persistence=e,this.Ri=new D1,this.Vi=null}static mi(e){return new V1(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),pe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(i=>{const a=Ne.fromPath(i);return this.gi(e,a).next((o=>{o||n.removeEntry(a,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ff{constructor(e,n){this.persistence=e,this.pi=new Eo((i=>TO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=VL(this,n)}static mi(e,n){return new Ff(e,n)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return pe.forEach(this.pi,((i,a)=>this.br(e,i,a).next((o=>o?pe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(i++,o.removeEntry(c,De.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hf(e.data.value)),n}br(e,n,i){return pe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return pe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Xe(),a=Xe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new O1(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zD()?8:_O(Bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new KL;return this.Ss(e,n,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>o.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(gl()<=Qe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(gl()<=Qe.DEBUG&&_e("QueryEngine","Query:",yl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(gl()<=Qe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):pe.resolve())}ys(e,n){if(rT(n))return pe.resolve(null);let i=ki(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ay(n,null,"F"),i=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const c=Xe(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const g=this.Ds(n,h);return this.Cs(n,g,c,f.readTime)?this.ys(e,ay(n,null,"F")):this.vs(e,g,n,f)}))))})))))}ws(e,n,i,a){return rT(n)||a.isEqual(De.min())?pe.resolve(null):this.ps.getDocuments(e,i).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,i,a)?pe.resolve(null):(gl()<=Qe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yl(n)),this.vs(e,c,n,gO(a,Lu)).next((h=>h)))}))}Ds(e,n){let i=new hn(AC(e));return n.forEach(((a,o)=>{dm(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,i){return gl()<=Qe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ps.getDocumentsMatchingQuery(e,n,ga.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="LocalStore",YL=3e8;class XL{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Vt(Ye),this.xs=new Eo((o=>C1(o)),N1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZL(t,e,n,i){return new XL(t,e,n,i)}async function KC(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Xe();for(const g of a){c.push(g.batchId);for(const p of g.mutations)f=f.add(p.key)}for(const g of o){h.push(g.batchId);for(const p of g.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(i,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function JL(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,p){const v=g.batch,x=v.keys();let _=pe.resolve();return x.forEach((C=>{_=_.next((()=>p.getEntry(f,C))).next((L=>{const I=g.docVersions.get(C);ct(I!==null,48541),L.version.compareTo(I)<0&&(v.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),p.addEntry(L)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Xe();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function QC(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function e7(t,e){const n=Oe(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((p,v)=>{const x=a.get(v);if(!x)return;h.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,v))));let _=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(xn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),a=a.insert(v,_),(function(L,I,N){return L.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=YL?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(x,_,p)&&h.push(n.Pi.updateTargetData(o,_))}));let f=vs(),g=Xe();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),h.push(t7(o,c,e.documentUpdates).next((p=>{f=p.ks,g=p.qs}))),!i.isEqual(De.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(p)}return pe.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,g))).next((()=>f))})).then((o=>(n.Ms=a,o)))}function t7(t,e,n){let i=Xe(),a=Xe();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let c=vs();return n.forEach(((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(De.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):_e(L1,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function n7(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=E1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function r7(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((o=>o?(a=o,pe.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new aa(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function dy(t,e,n){const i=Oe(t),a=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!nc(c))throw c;_e(L1,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function gT(t,e,n){const i=Oe(t);let a=De.min(),o=Xe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,p){const v=Oe(f),x=v.xs.get(p);return x!==void 0?pe.resolve(v.Ms.get(x)):v.Pi.getTargetData(g,p)})(i,c,ki(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:De.min(),n?o:Xe()))).next((h=>(i7(i,BO(e),h),{documents:h,Qs:o})))))}function i7(t,e,n){let i=t.Os.get(e)||De.min();n.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Os.set(e,i)}class yT{constructor(){this.activeTargetIds=KO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s7{constructor(){this.Mo=new yT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="ConnectivityMonitor";class bT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(vT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(vT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh=null;function hy(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="RestConnection",o7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Df?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,o){const c=hy(),h=this.zo(e,n.toUriEncodedString());_e(t0,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:g}=new URL(h),p=Xl(g);return this.Jo(e,h,f,i,p).then((v=>(_e(t0,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw _o(t0,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,n,i,a,o,c){return this.Go(e,n,i,a,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ec})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const i=o7[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class u7 extends l7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,o){const c=hy();return new Promise(((h,f)=>{const g=new YS;g.setWithCredentials(!0),g.listenOnce(XS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case df.NO_ERROR:const v=g.getResponseJson();_e(On,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case df.TIMEOUT:_e(On,`RPC '${e}' ${c} timed out`),f(new be(me.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const x=g.getStatus();if(_e(On,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let _=g.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_?.error;if(C&&C.status&&C.message){const L=(function(N){const U=N.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(U)>=0?U:me.UNKNOWN})(C.status);f(new be(L,C.message))}else f(new be(me.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new be(me.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(On,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);_e(On,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",p,i,15)}))}T_(e,n,i){const a=hy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=eC(),h=JS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const p=o.join("");_e(On,`Creating RPC '${e}' stream ${a}: ${p}`,f);const v=c.createWebChannel(p,f);this.I_(v);let x=!1,_=!1;const C=new c7({Yo:I=>{_?_e(On,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(x||(_e(On,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),_e(On,`RPC '${e}' stream ${a} sending:`,I),v.send(I))},Zo:()=>v.close()}),L=(I,N,U)=>{I.listen(N,(B=>{try{U(B)}catch($){setTimeout((()=>{throw $}),0)}}))};return L(v,du.EventType.OPEN,(()=>{_||(_e(On,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),L(v,du.EventType.CLOSE,(()=>{_||(_=!0,_e(On,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(v))})),L(v,du.EventType.ERROR,(I=>{_||(_=!0,_o(On,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new be(me.UNAVAILABLE,"The operation could not be completed")))})),L(v,du.EventType.MESSAGE,(I=>{if(!_){const N=I.data[0];ct(!!N,16349);const U=N,B=U?.error||U[0]?.error;if(B){_e(On,`RPC '${e}' stream ${a} received error:`,B);const $=B.status;let Z=(function(w){const E=sn[w];if(E!==void 0)return VC(E)})($),G=B.message;Z===void 0&&(Z=me.INTERNAL,G="Unknown error status: "+$+" with message "+B.message),_=!0,C.a_(new be(Z,G)),v.close()}else _e(On,`RPC '${e}' stream ${a} received:`,N),C.u_(N)}})),L(h,ZS.STAT_EVENT,(I=>{I.stat===J0.PROXY?_e(On,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===J0.NOPROXY&&_e(On,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function n0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){return new mL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,i=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class XC{constructor(e,n,i,a,o,c,h,f){this.Mi=e,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ys(n.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new be(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class d7 extends XC{constructor(e,n,i,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yL(this.serializer,e),i=(function(o){if(!("targetChange"in o))return De.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?Pi(c.readTime):De.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=uy(this.serializer),n.addTarget=(function(o,c){let h;const f=c.target;if(h=iy(f)?{documents:xL(o,f)}:{query:_L(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=UC(o,c.resumeToken);const g=oy(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(De.min())>0){h.readTime=zf(o,c.snapshotVersion.toTimestamp());const g=oy(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const i=TL(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.q_(n)}}class h7 extends XC{constructor(e,n,i,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bL(e.writeResults,e.commitTime),i=Pi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=uy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>vL(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{}class m7 extends f7{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,ly(n,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(me.UNKNOWN,o.toString())}))}Ho(e,n,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,ly(n,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(me.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class p7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class g7{constructor(e,n,i,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ao(this)&&(_e(wo,"Restarting streams for network reachability change."),await(async function(f){const g=Oe(f);g.Ea.add(4),await ad(g),g.Ra.set("Unknown"),g.Ea.delete(4),await gm(g)})(this))}))})),this.Ra=new p7(i,a)}}async function gm(t){if(Ao(t))for(const e of t.da)await e(!0)}async function ad(t){for(const e of t.da)await e(!1)}function ZC(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),B1(n)?F1(n):rc(n).O_()&&z1(n,e))}function U1(t,e){const n=Oe(t),i=rc(n);n.Ia.delete(e),i.O_()&&JC(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ao(n)&&n.Ra.set("Unknown"))}function z1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rc(t).Y_(e)}function JC(t,e){t.Va.Ue(e),rc(t).Z_(e)}function F1(t){t.Va=new uL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rc(t).start(),t.Ra.ua()}function B1(t){return Ao(t)&&!rc(t).x_()&&t.Ia.size>0}function Ao(t){return Oe(t).Ea.size===0}function e4(t){t.Va=void 0}async function y7(t){t.Ra.set("Online")}async function v7(t){t.Ia.forEach(((e,n)=>{z1(t,e)}))}async function b7(t,e){e4(t),B1(t)?(t.Ra.ha(e),F1(t)):t.Ra.set("Unknown")}async function x7(t,e,n){if(t.Ra.set("Online"),e instanceof LC&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(i){_e(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Bf(t,i)}else if(e instanceof pf?t.Va.Ze(e):e instanceof OC?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const i=await QC(t.localStore);n.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(g);p&&o.Ia.set(g,p.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(xn.EMPTY_BYTE_STRING,p.snapshotVersion)),JC(o,f);const v=new aa(p.target,f,g,p.sequenceNumber);z1(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){_e(wo,"Failed to raise snapshot:",i),await Bf(t,i)}}async function Bf(t,e,n){if(!nc(e))throw e;t.Ea.add(1),await ad(t),t.Ra.set("Offline"),n||(n=()=>QC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(wo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gm(t)}))}function t4(t,e){return e().catch((n=>Bf(t,n,e)))}async function ym(t){const e=Oe(t),n=xa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:E1;for(;_7(e);)try{const a=await n7(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,w7(e,a)}catch(a){await Bf(e,a)}n4(e)&&r4(e)}function _7(t){return Ao(t)&&t.Ta.length<10}function w7(t,e){t.Ta.push(e);const n=xa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function n4(t){return Ao(t)&&!xa(t).x_()&&t.Ta.length>0}function r4(t){xa(t).start()}async function T7(t){xa(t).ra()}async function E7(t){const e=xa(t);for(const n of t.Ta)e.ea(n.mutations)}async function A7(t,e,n){const i=t.Ta.shift(),a=k1.from(i,e,n);await t4(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await ym(t)}async function S7(t,e){e&&xa(t).X_&&await(async function(i,a){if((function(c){return oL(c)&&c!==me.ABORTED})(a.code)){const o=i.Ta.shift();xa(i).B_(),await t4(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await ym(i)}})(t,e),n4(t)&&r4(t)}async function _T(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),_e(wo,"RemoteStore received new credentials");const i=Ao(n);n.Ea.add(3),await ad(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gm(n)}async function C7(t,e){const n=Oe(t);e?(n.Ea.delete(2),await gm(n)):e||(n.Ea.add(2),await ad(n),n.Ra.set("Unknown"))}function rc(t){return t.ma||(t.ma=(function(n,i,a){const o=Oe(n);return o.sa(),new d7(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:y7.bind(null,t),t_:v7.bind(null,t),r_:b7.bind(null,t),H_:x7.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),B1(t)?F1(t):t.Ra.set("Unknown")):(await t.ma.stop(),e4(t))}))),t.ma}function xa(t){return t.fa||(t.fa=(function(n,i,a){const o=Oe(n);return o.sa(),new h7(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:T7.bind(null,t),r_:S7.bind(null,t),ta:E7.bind(null,t),na:A7.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ym(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(wo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,i,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,o){const c=Date.now()+i,h=new q1(e,n,c,a,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H1(t,e){if(ys("AsyncQueue",`${e}: ${t}`),nc(t))return new be(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=hu(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new kl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.ga=new Vt(Ne.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ql{constructor(e,n,i,a,o,c,h,f,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new ql(e,n,kl.emptySet(n),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class j7{constructor(){this.queries=TT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Oe(n),o=a.queries;a.queries=TT(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new be(me.ABORTED,"Firestore shutting down"))}}function TT(){return new Eo((t=>EC(t)),um)}async function i4(t,e){const n=Oe(t);let i=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(i=2):(o=new N7,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=H1(c,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&G1(n)}async function s4(t,e){const n=Oe(t),i=e.query;let a=3;const o=n.queries.get(i);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function R7(t,e){const n=Oe(t);let i=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&G1(n)}function I7(t,e,n){const i=Oe(t),a=i.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);i.queries.delete(e)}function G1(t){t.Ca.forEach((e=>{e.next()}))}var fy,ET;(ET=fy||(fy={})).Ma="default",ET.Cache="cache";class a4{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ql(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.key=e}}class l4{constructor(e){this.key=e}}class k7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=AC(e),this.tu=new kl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new wT,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,v)=>{const x=a.get(p),_=dm(this.query,v)?v:null,C=!!x&&this.mutatedKeys.has(x.key),L=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;x&&_?x.data.isEqual(_.data)?C!==L&&(i.track({type:3,doc:_}),I=!0):this.su(x,_)||(i.track({type:2,doc:_}),I=!0,(f&&this.eu(_,f)>0||g&&this.eu(_,g)<0)&&(h=!0)):!x&&_?(i.track({type:0,doc:_}),I=!0):x&&!_&&(i.track({type:1,doc:x}),I=!0,(f||g)&&(h=!0)),I&&(_?(c=c.add(_),o=L?o.add(p):o.delete(p)):(c=c.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,v)=>(function(_,C){const L=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:I})}};return L(_)-L(C)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new ql(this.query,e.tu,o,c,e.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new l4(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new o4(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $1="SyncEngine";class P7{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M7{constructor(e){this.key=e,this.hu=!1}}class D7{constructor(e,n,i,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Eo((h=>EC(h)),um),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Ne.comparator),this.Au=new Map,this.Ru=new D1,this.Vu={},this.mu=new Map,this.fu=Bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V7(t,e,n=!0){const i=m4(t);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await c4(i,e,n,!0),a}async function O7(t,e){const n=m4(t);await c4(n,e,!0,!1)}async function c4(t,e,n,i){const a=await r7(t.localStore,ki(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await L7(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&ZC(t.remoteStore,a),h}async function L7(t,e,n,i,a){t.pu=(v,x,_)=>(async function(L,I,N,U){let B=I.view.ru(N);B.Cs&&(B=await gT(L.localStore,I.query,!1).then((({documents:O})=>I.view.ru(O,B))));const $=U&&U.targetChanges.get(I.targetId),Z=U&&U.targetMismatches.get(I.targetId)!=null,G=I.view.applyChanges(B,L.isPrimaryClient,$,Z);return ST(L,I.targetId,G.au),G.snapshot})(t,v,x,_);const o=await gT(t.localStore,e,!0),c=new k7(e,o.Qs),h=c.ru(o.documents),f=sd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(h,t.isPrimaryClient,f);ST(t,n,g.au);const p=new P7(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function U7(t,e,n){const i=Oe(t),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!um(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await dy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&U1(i.remoteStore,a.targetId),my(i,a.targetId)})).catch(tc)):(my(i,a.targetId),await dy(i.localStore,a.targetId,!0))}async function z7(t,e){const n=Oe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),U1(n.remoteStore,i.targetId))}async function F7(t,e,n){const i=K7(t);try{const a=await(function(c,h){const f=Oe(c),g=Tt.now(),p=h.reduce(((_,C)=>_.add(C.key)),Xe());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let C=vs(),L=Xe();return f.Ns.getEntries(_,p).next((I=>{C=I,C.forEach(((N,U)=>{U.isValidDocument()||(L=L.add(N))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,C))).next((I=>{v=I;const N=[];for(const U of h){const B=nL(U,v.get(U.key).overlayedDocument);B!=null&&N.push(new Aa(U.key,B,gC(B.value.mapValue),Or.exists(!0)))}return f.mutationQueue.addMutationBatch(_,g,N,h)})).next((I=>{x=I;const N=I.applyToLocalDocumentSet(v,L);return f.documentOverlayCache.saveOverlays(_,I.batchId,N)}))})).then((()=>({batchId:x.batchId,changes:CC(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new Vt(Ye)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,n),await od(i,a.changes),await ym(i.remoteStore)}catch(a){const o=H1(a,"Failed to persist write");n.reject(o)}}async function u4(t,e){const n=Oe(t);try{const i=await e7(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ct(c.hu,14607):a.removedDocuments.size>0&&(ct(c.hu,42227),c.hu=!1))})),await od(n,i,e)}catch(i){await tc(i)}}function AT(t,e,n){const i=Oe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Oe(c);f.onlineState=h;let g=!1;f.queries.forEach(((p,v)=>{for(const x of v.Sa)x.va(h)&&(g=!0)})),g&&G1(f)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function B7(t,e,n){const i=Oe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),o=a&&a.key;if(o){let c=new Vt(Ne.comparator);c=c.insert(o,zn.newNoDocument(o,De.min()));const h=Xe().add(o),f=new mm(De.min(),new Map,new Vt(Ye),c,h);await u4(i,f),i.du=i.du.remove(o),i.Au.delete(e),W1(i)}else await dy(i.localStore,e,!1).then((()=>my(i,e,n))).catch(tc)}async function q7(t,e){const n=Oe(t),i=e.batch.batchId;try{const a=await JL(n.localStore,e);h4(n,i,null),d4(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await od(n,a)}catch(a){await tc(a)}}async function H7(t,e,n){const i=Oe(t);try{const a=await(function(c,h){const f=Oe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let p;return f.mutationQueue.lookupMutationBatch(g,h).next((v=>(ct(v!==null,37113),p=v.keys(),f.mutationQueue.removeMutationBatch(g,v)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,p,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,p))).next((()=>f.localDocuments.getDocuments(g,p)))}))})(i.localStore,e);h4(i,e,n),d4(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await od(i,a)}catch(a){await tc(a)}}function d4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function h4(t,e,n){const i=Oe(t);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function my(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||f4(t,i)}))}function f4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(U1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),W1(t))}function ST(t,e,n){for(const i of n)i instanceof o4?(t.Ru.addReference(i.key,e),G7(t,i)):i instanceof l4?(_e($1,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||f4(t,i.key)):ke(19791,{wu:i})}function G7(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(_e($1,"New document in limbo: "+n),t.Eu.add(i),W1(t))}function W1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(wt.fromString(e)),i=t.fu.next();t.Au.set(i,new M7(n)),t.du=t.du.insert(n,i),ZC(t.remoteStore,new aa(ki(j1(n.path)),i,"TargetPurposeLimboResolution",om.ce))}}async function od(t,e,n){const i=Oe(t),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const p=g?!g.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(g){a.push(g);const p=O1.As(f.targetId,g);o.push(p)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,g){const p=Oe(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>pe.forEach(g,(x=>pe.forEach(x.Es,(_=>p.persistence.referenceDelegate.addReference(v,x.targetId,_))).next((()=>pe.forEach(x.ds,(_=>p.persistence.referenceDelegate.removeReference(v,x.targetId,_)))))))))}catch(v){if(!nc(v))throw v;_e(L1,"Failed to update sequence numbers: "+v)}for(const v of g){const x=v.targetId;if(!v.fromCache){const _=p.Ms.get(x),C=_.snapshotVersion,L=_.withLastLimboFreeSnapshotVersion(C);p.Ms=p.Ms.insert(x,L)}}})(i.localStore,o))}async function $7(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){_e($1,"User change. New user:",e.toKey());const i=await KC(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new be(me.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await od(n,i.Ls)}}function W7(t,e){const n=Oe(t),i=n.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let a=Xe();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function m4(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=u4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B7.bind(null,e),e.Pu.H_=R7.bind(null,e.eventManager),e.Pu.yu=I7.bind(null,e.eventManager),e}function K7(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H7.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZL(this.persistence,new QL,e.initialUser,this.serializer)}Cu(e){return new WC(V1.mi,this.serializer)}Du(e){return new s7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class Q7 extends qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Ff,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ML(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new WC((i=>Ff.mi(i,n)),this.serializer)}}class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$7.bind(null,this.syncEngine),await C7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j7})()}createDatastore(e){const n=pm(e.databaseInfo.databaseId),i=(function(o){return new u7(o)})(e.databaseInfo);return(function(o,c,h,f){return new m7(o,c,h,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,o,c,h){return new g7(i,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>AT(this.syncEngine,n,0)),(function(){return bT.v()?new bT:new a7})())}createSyncEngine(e,n){return(function(a,o,c,h,f,g,p){const v=new D7(a,o,c,h,f,g);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Oe(n);_e(wo,"RemoteStore shutting down."),i.Ea.add(5),await ad(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class Y7{constructor(e,n,i,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Un.UNAUTHENTICATED,this.clientId=sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{_e(_a,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(_e(_a,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=H1(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function r0(t,e){t.asyncQueue.verifyOperationInProgress(),_e(_a,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await KC(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function CT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X7(t);_e(_a,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>_T(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>_T(e.remoteStore,a))),t._onlineComponents=e}async function X7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(_a,"Using user provided OfflineComponentProvider");try{await r0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await r0(t,new qf)}}else _e(_a,"Using default OfflineComponentProvider"),await r0(t,new Q7(void 0));return t._offlineComponents}async function g4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(_a,"Using user provided OnlineComponentProvider"),await CT(t,t._uninitializedComponentsProvider._online)):(_e(_a,"Using default OnlineComponentProvider"),await CT(t,new py))),t._onlineComponents}function Z7(t){return g4(t).then((e=>e.syncEngine))}async function y4(t){const e=await g4(t),n=e.eventManager;return n.onListen=V7.bind(null,e.syncEngine),n.onUnlisten=U7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z7.bind(null,e.syncEngine),n}function J7(t,e,n={}){const i=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,g){const p=new p4({next:x=>{p.Nu(),c.enqueueAndForget((()=>s4(o,v)));const _=x.docs.has(h);!_&&x.fromCache?g.reject(new be(me.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&f&&f.source==="server"?g.reject(new be(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new a4(j1(h.path),p,{includeMetadataChanges:!0,qa:!0});return i4(o,v)})(await y4(t),t.asyncQueue,e,n,i))),i.promise}function eU(t,e,n={}){const i=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,g){const p=new p4({next:x=>{p.Nu(),c.enqueueAndForget((()=>s4(o,v))),x.fromCache&&f.source==="server"?g.reject(new be(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new a4(h,p,{includeMetadataChanges:!0,qa:!0});return i4(o,v)})(await y4(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firestore.googleapis.com",jT=!0;class RT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b4,this.ssl=jT}else this.host=e.host,this.ssl=e.ssl??jT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$C;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kL)throw new be(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v4(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new rC;switch(i.type){case"firstParty":return new uO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=NT.get(n);i&&(_e("ComponentProvider","Removing Datastore"),NT.delete(n),i.terminate())})(this),Promise.resolve()}}function x4(t,e,n,i={}){t=zr(t,vm);const a=Xl(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(dS(`https://${h}`),hS("Firestore",!0)),o.host!==b4&&o.host!==h&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!yo(f,c)&&(t._setSettings(f),i.mockUserToken)){let g,p;if(typeof i.mockUserToken=="string")g=i.mockUserToken,p=Un.MOCK_USER;else{g=ID(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new be(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Un(v)}t._authCredentials=new oO(new nC(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class zt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(nd(n,zt._jsonSchema))return new zt(e,i||null,new Ne(wt.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:ln("string",zt._jsonSchemaVersion),referencePath:ln("string")};class ds extends So{constructor(e,n,i){super(e,n,j1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ne(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function bn(t,e,...n){if(t=Pn(t),iC("collection","path",e),t instanceof vm){const i=wt.fromString(e,...n);return qw(i),new ds(t,null,i)}{if(!(t instanceof zt||t instanceof ds))throw new be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(wt.fromString(e,...n));return qw(i),new ds(t.firestore,null,i)}}function _s(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=sm.newId()),iC("doc","path",e),t instanceof vm){const i=wt.fromString(e,...n);return Bw(i),new zt(t,null,new Ne(i))}{if(!(t instanceof zt||t instanceof ds))throw new be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(wt.fromString(e,...n));return Bw(i),new zt(t.firestore,t instanceof ds?t.converter:null,new Ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YC(this,"async_queue_retry"),this._c=()=>{const i=n0();i&&_e(IT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=n0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=n0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nc(e))throw e;_e(IT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",PT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=q1.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&ke(47125,{Pc:PT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Sa extends vm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new kT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function _4(t,e){const n=typeof t=="object"?t:gS(),i=typeof t=="string"?t:Df,a=h1(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=jD("firestore");o&&x4(a,...o)}return a}function bm(t){if(t._terminated)throw new be(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tU(t),t._firestoreClient}function tU(t){const e=t._freezeSettings(),n=(function(a,o,c,h){return new SO(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,v4(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Y7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(xn.fromBase64String(e))}catch(n){throw new be(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gr(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nd(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:ln("string",gr._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(nd(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:ln("string",ri._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nd(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new be(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:ln("string",ii._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=/^__.*__$/;class rU{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new id(e,this.data,n,this.fieldTransforms)}}class w4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function T4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class K1{constructor(e,n,i,a,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(T4(this.Ac)&&nU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iU{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||pm(e)}Cc(e,n,i,a=!1){return new K1({Ac:e,methodName:n,Dc:i,path:vn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xm(t){const e=t._freezeSettings(),n=pm(t._databaseId);return new iU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E4(t,e,n,i,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);Y1("Data must be an object, but it was:",c,i);const h=A4(i,c);let f,g;if(o.merge)f=new yr(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const x=gy(e,v,n);if(!c.contains(x))throw new be(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);C4(p,x)||p.push(x)}f=new yr(p),g=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,g=c.fieldTransforms;return new rU(new sr(h),f,g)}class _m extends cd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _m}}class Q1 extends cd{_toFieldTransform(e){return new ZO(e.path,new Fu)}isEqual(e){return e instanceof Q1}}function sU(t,e,n,i){const a=t.Cc(1,e,n);Y1("Data must be an object, but it was:",a,i);const o=[],c=sr.empty();Ea(i,((f,g)=>{const p=X1(e,f,n);g=Pn(g);const v=a.yc(p);if(g instanceof _m)o.push(p);else{const x=ud(g,v);x!=null&&(o.push(p),c.set(p,x))}}));const h=new yr(o);return new w4(c,h,a.fieldTransforms)}function aU(t,e,n,i,a,o){const c=t.Cc(1,e,n),h=[gy(e,i,n)],f=[a];if(o.length%2!=0)throw new be(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(gy(e,o[x])),f.push(o[x+1]);const g=[],p=sr.empty();for(let x=h.length-1;x>=0;--x)if(!C4(g,h[x])){const _=h[x];let C=f[x];C=Pn(C);const L=c.yc(_);if(C instanceof _m)g.push(_);else{const I=ud(C,L);I!=null&&(g.push(_),p.set(_,I))}}const v=new yr(g);return new w4(p,v,c.fieldTransforms)}function oU(t,e,n,i=!1){return ud(n,t.Cc(i?4:3,e))}function ud(t,e){if(S4(t=Pn(t)))return Y1("Unsupported field value:",e,t),A4(t,e);if(t instanceof cd)return(function(i,a){if(!T4(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let f=ud(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(t,e)}return(function(i,a){if((i=Pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Tt.fromDate(i);return{timestampValue:zf(a.serializer,o)}}if(i instanceof Tt){const o=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zf(a.serializer,o)}}if(i instanceof ri)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gr)return{bytesValue:UC(a.serializer,i._byteString)};if(i instanceof zt){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:M1(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ii)return(function(c,h){return{mapValue:{fields:{[mC]:{stringValue:pC},[Vf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return R1(h.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${am(i)}`)})(t,e)}function A4(t,e){const n={};return lC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(t,((i,a)=>{const o=ud(a,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function S4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof ri||t instanceof gr||t instanceof zt||t instanceof cd||t instanceof ii)}function Y1(t,e,n){if(!S4(n)||!aC(n)){const i=am(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function gy(t,e,n){if((e=Pn(e))instanceof ld)return e._internalPath;if(typeof e=="string")return X1(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const lU=new RegExp("[~\\*/\\[\\]]");function X1(t,e,n){if(e.search(lU)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ld(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new be(me.INVALID_ARGUMENT,h+t+f)}function C4(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,i,a,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Z1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cU extends N4{data(){return super.data()}}function Z1(t,e){return typeof e=="string"?X1(t,e):e instanceof ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J1{}class j4 extends J1{}function Lr(t,e,...n){let i=[];e instanceof J1&&i.push(e),i=i.concat(n),(function(o){const c=o.filter((f=>f instanceof wm)).length,h=o.filter((f=>f instanceof dd)).length;if(c>1||c>0&&h>0)throw new be(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class dd extends j4{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new dd(e,n,i)}_apply(e){const n=this._parse(e);return R4(e._query,n),new So(e.firestore,e.converter,sy(e._query,n))}_parse(e){const n=xm(e.firestore);return(function(o,c,h,f,g,p,v){let x;if(g.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new be(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){DT(v,p);const C=[];for(const L of v)C.push(MT(f,o,L));x={arrayValue:{values:C}}}else x=MT(f,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||DT(v,p),x=oU(h,c,v,p==="in"||p==="not-in");return on.create(g,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,n){const i=e,a=Z1("where",t);return dd._create(a,i,n)}class wm extends J1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wm(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)R4(c,f),c=sy(c,f)})(e._query,n),new So(e.firestore,e.converter,sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MT(t,e,n){if(typeof(n=Pn(n))=="string"){if(n==="")throw new be(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TC(e)&&n.indexOf("/")!==-1)throw new be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(wt.fromString(n));if(!Ne.isDocumentKey(i))throw new be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xw(t,new Ne(i))}if(n instanceof zt)return Xw(t,n._key);throw new be(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(n)}.`)}function DT(t,e){if(!Array.isArray(t)||t.length===0)throw new be(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R4(t,e){const n=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class I4{convertValue(e,n="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ea(e,((a,o)=>{i[a]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[Vf].arrayValue?.values?.map((i=>Kt(i.doubleValue)));return new ii(n)}convertGeoPoint(e){return new ri(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=cm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const n=ya(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=wt.fromString(e);ct(GC(i),9688,{name:e});const a=new Ul(i.get(1),i.get(3)),o=new Ne(i.popFirst(5));return a.isEqual(n)||ys(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends N4{constructor(e,n,i,a,o,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Z1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:ln("string",ha._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Su extends ha{data(e={}){return super.data(e)}}class po{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Sl(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Su(this._firestore,this._userDataWriter,i.key,i,new Sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Su(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Su(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,p=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),p=c.indexOf(h.doc.key)),{type:dU(h.type),doc:f,oldIndex:g,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){t=zr(t,zt);const e=zr(t.firestore,Sa);return J7(bm(e),t._key).then((n=>fU(e,t,n)))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:ln("string",po._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class P4 extends I4{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function Ur(t){t=zr(t,So);const e=zr(t.firestore,Sa),n=bm(e),i=new P4(e);return uU(t._query),eU(n,t._query).then((a=>new po(e,i,t,a)))}function hU(t,e,n){t=zr(t,zt);const i=zr(t.firestore,Sa),a=k4(t.converter,e,n);return fd(i,[E4(xm(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Or.none())])}function Tm(t,e,n,...i){t=zr(t,zt);const a=zr(t.firestore,Sa),o=xm(a);let c;return c=typeof(e=Pn(e))=="string"||e instanceof ld?aU(o,"updateDoc",t._key,e,n,i):sU(o,"updateDoc",t._key,e),fd(a,[c.toMutation(t._key,Or.exists(!0))])}function yy(t){return fd(zr(t.firestore,Sa),[new I1(t._key,Or.none())])}function To(t,e){const n=zr(t.firestore,Sa),i=_s(t),a=k4(t.converter,e);return fd(n,[E4(xm(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Or.exists(!1))]).then((()=>i))}function fd(t,e){return(function(i,a){const o=new us;return i.asyncQueue.enqueueAndForget((async()=>F7(await Z7(i),a,o))),o.promise})(bm(t),e)}function fU(t,e,n){const i=n.docs.get(e._key),a=new P4(t);return new ha(t,a,e._key,i,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}function Vi(){return new Q1("serverTimestamp")}(function(e,n=!0){(function(a){ec=a})(Zl),Vl(new vo("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Sa(new lO(i.getProvider("auth-internal")),new dO(c,i.getProvider("app-check-internal")),(function(g,p){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new be(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(g.options.projectId,p)})(c,a),c);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ua(Lw,Uw,e),ua(Lw,Uw,"esm2020")})();const mU=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:I4,Bytes:gr,CollectionReference:ds,DocumentReference:zt,DocumentSnapshot:ha,FieldPath:ld,FieldValue:cd,Firestore:Sa,FirestoreError:be,GeoPoint:ri,Query:So,QueryCompositeFilterConstraint:wm,QueryConstraint:j4,QueryDocumentSnapshot:Su,QueryFieldFilterConstraint:dd,QuerySnapshot:po,SnapshotMetadata:Sl,Timestamp:Tt,VectorValue:ii,_AutoId:sm,_ByteString:xn,_DatabaseId:Ul,_DocumentKey:Ne,_EmptyAuthCredentialsProvider:rC,_FieldPath:vn,_cast:zr,_logWarn:_o,_validateIsNotUsedTogether:sC,addDoc:To,collection:bn,connectFirestoreEmulator:x4,deleteDoc:yy,doc:_s,ensureFirestoreConfigured:bm,executeWrite:fd,getDoc:hd,getDocs:Ur,getFirestore:_4,query:Lr,serverTimestamp:Vi,setDoc:hU,updateDoc:Tm,where:br},Symbol.toStringTag,{value:"Module"})),pU={apiKey:"AIzaSyCn2qN0V4ePf0m4iAtNya6p-dS5bHH0Q1s",authDomain:"gustalya.firebaseapp.com",projectId:"gustalya",storageBucket:"gustalya.appspot.com",appId:"1:53958164452:web:a0b3d34ae17750c37fd1f1"},M4=gw().length===0?pS(pU):gw()[0],ev=sO(M4),Pt=_4(M4),gU=new is;async function yU(){try{return(await m8(ev,gU)).user}catch(t){throw console.error("Error signing in with Google:",t),t}}async function vU(){try{await KV(ev)}catch(t){throw console.error("Error signing out:",t),t}}function bU(t){return WV(ev,t)}function xU(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}async function _U(t,e){const n=xU(),i={name:t,ownerUserId:e.uid,inviteCode:n,createdAt:Vi()},a=await To(bn(Pt,"families"),i);return await To(bn(Pt,"familyMembers"),{familyId:a.id,userId:e.uid,username:e.displayName||e.email||"Utilisateur",role:"owner",joinedAt:Vi()}),{id:a.id,...i}}async function wU(t){const e=Lr(bn(Pt,"families"),br("inviteCode","==",t.toUpperCase())),n=await Ur(e);if(n.empty)return null;const i=n.docs[0];return{id:i.id,...i.data()}}async function TU(t,e){const n=Lr(bn(Pt,"familyMembers"),br("familyId","==",t),br("userId","==",e.uid)),i=await Ur(n);if(!i.empty){const c=i.docs[0];return{id:c.id,...c.data()}}const a={familyId:t,userId:e.uid,username:e.displayName||e.email||"Utilisateur",role:"member",joinedAt:Vi()};return{id:(await To(bn(Pt,"familyMembers"),a)).id,...a}}async function D4(t){const e=Lr(bn(Pt,"familyMembers"),br("userId","==",t)),n=await Ur(e);if(n.empty)return null;const i=n.docs[0],a={id:i.id,...i.data()},o=await hd(_s(Pt,"families",a.familyId));return o.exists()?{family:{id:o.id,...o.data()},member:a}:null}async function EU(t){const e=Lr(bn(Pt,"familyMembers"),br("familyId","==",t));return(await Ur(e)).docs.map(i=>({id:i.id,...i.data()}))}async function AU(t){const e={...t,createdAt:Vi()};return{id:(await To(bn(Pt,"recipes"),e)).id,...e}}async function SU(t){const e=Lr(bn(Pt,"recipes"),br("authorUserId","==",t));return(await Ur(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,o)=>{const c=a.createdAt?.toMillis?.()||0;return(o.createdAt?.toMillis?.()||0)-c})}async function CU(t,e){const n=_s(Pt,"recipes",t);await Tm(n,e)}async function NU(t){const e=_s(Pt,"recipes",t);await yy(e);const n=Lr(bn(Pt,"familyRecipes"),br("recipeId","==",t)),i=await Ur(n);for(const a of i.docs)await yy(a.ref)}async function jU(t,e,n){const i={familyId:t,recipeId:e,sharedByUserId:n.uid,sharedByName:n.displayName||n.email||"Utilisateur",sharedAt:Vi()};return{id:(await To(bn(Pt,"familyRecipes"),i)).id,...i}}async function RU(t){const e=Lr(bn(Pt,"familyRecipes"),br("familyId","==",t)),n=await Ur(e),i=[];for(const a of n.docs){const o=a.data(),c=await hd(_s(Pt,"recipes",o.recipeId));if(c.exists()){const h={id:c.id,...c.data()};i.push({...h,sharedBy:o.sharedByName})}}return i}async function IU(t,e,n){const i={familyId:t,authorUserId:n.uid,authorName:n.displayName||n.email||"Utilisateur",content:e,createdAt:Vi()};return{id:(await To(bn(Pt,"familyMessages"),i)).id,...i}}async function VT(t){const e=Lr(bn(Pt,"familyMessages"),br("familyId","==",t));return(await Ur(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,o)=>{const c=a.createdAt?.toMillis?.()||0;return(o.createdAt?.toMillis?.()||0)-c})}async function OT(t){const[e,n,i]=await Promise.all([Ur(Lr(bn(Pt,"familyMembers"),br("familyId","==",t))),Ur(Lr(bn(Pt,"familyRecipes"),br("familyId","==",t))),Ur(Lr(bn(Pt,"familyMessages"),br("familyId","==",t)))]);return{memberCount:e.size,recipeCount:n.size,messageCount:i.size}}const vy=[{id:"first_recipe",name:"Premire Recette",description:"Crez votre premire recette",icon:"",target:1},{id:"chef_5",name:"Chef Dbutant",description:"Crez 5 recettes",icon:"",target:5},{id:"chef_10",name:"Chef Confirm",description:"Crez 10 recettes",icon:"",target:10},{id:"chef_25",name:"Chef Expert",description:"Crez 25 recettes",icon:"",target:25},{id:"cook_10",name:"Cuisinier Actif",description:"Cuisinez 10 recettes",icon:"",target:10},{id:"cook_50",name:"Passionn de Cuisine",description:"Cuisinez 50 recettes",icon:"",target:50},{id:"timer_master",name:"Matre du Timing",description:"Utilisez les timers 20 fois",icon:"",target:20},{id:"family_member",name:"Membre de Famille",description:"Rejoignez une famille",icon:"",target:1},{id:"share_5",name:"Partageur",description:"Partagez 5 recettes avec votre famille",icon:"",target:5},{id:"collector",name:"Collectionneur",description:"Sauvegardez 10 recettes",icon:"",target:10}],i0=[{value:"debutant",label:"Dbutant",icon:"",description:"Je commence  cuisiner"},{value:"intermediaire",label:"Intermdiaire",icon:"",description:"Je matrise les bases"},{value:"avance",label:"Avanc",icon:"",description:"Je cuisine rgulirement"},{value:"expert",label:"Expert",icon:"",description:"La cuisine n'a plus de secrets"}],kU=["Vgtarien","Vgtalien","Sans gluten","Sans lactose","Halal","Casher","Pesctarien","Flexitarien","Keto","Palo"],PU=["Arachides","Fruits  coque","Lait","ufs","Poisson","Crustacs","Soja","Bl","Ssame","Moutarde","Cleri","Sulfites"];function MU(t,e){const n=vy.map(i=>({...i,earnedAt:null,progress:0}));return{userId:t,displayName:e.displayName||"Chef Anonyme",bio:"",photoUrl:e.photoURL||"",cookingLevel:"debutant",dietaryRestrictions:[],allergies:[],favoriteIngredients:[],avoidedIngredients:[],language:"fr",notificationsEnabled:!0,stats:{recipesCreated:0,recipesCooked:0,totalCookingTime:0,favoriteRecipeId:null},achievements:n,recentActivity:[],savedRecipes:[],createdAt:Vi(),updatedAt:Vi()}}async function DU(t){const e=_s(Pt,"userProfiles",t),n=await hd(e);return n.exists()?{id:n.id,...n.data()}:null}async function VU(t){const e=_s(Pt,"userProfiles",t.uid),n=await hd(e);if(n.exists())return{id:n.id,...n.data()};const i=MU(t.uid,t);return await Tm(e,i).catch(async()=>{const{setDoc:a}=await xD(async()=>{const{setDoc:o}=await Promise.resolve().then(()=>mU);return{setDoc:o}},[]);await a(e,i)}),{id:t.uid,...i}}async function OU(t,e){const n=_s(Pt,"userProfiles",t);await Tm(n,{...e,updatedAt:Vi()})}const V4=q.createContext(null);function md(){const t=q.useContext(V4);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function LU({children:t}){const[e,n]=q.useState(null),[i,a]=q.useState(!0);q.useEffect(()=>bU(g=>{n(g),a(!1)}),[]);const h={currentUser:e,login:async()=>{try{a(!0),await yU()}catch(f){console.error("Login error:",f)}finally{a(!1)}},logout:async()=>{try{await vU(),n(null)}catch(f){console.error("Logout error:",f)}},loading:i};return d.jsx(V4.Provider,{value:h,children:t})}const O4=q.createContext(null);function UU(){const t=q.useContext(O4);return t||{profile:null,loading:!1,error:null,refreshProfile:async()=>{},updateProfile:async()=>{},updatePreferences:async()=>{},updateSettings:async()=>{}}}function zU({children:t}){const{currentUser:e}=md(),[n,i]=q.useState(null),[a,o]=q.useState(!1),[c,h]=q.useState(null),f=q.useCallback(async()=>{if(!e){i(null);return}o(!0),h(null);try{let _=await DU(e.uid);_||(_=await VU(e)),_&&(!_.achievements||_.achievements.length===0)&&(_.achievements=vy.map(C=>({...C,earnedAt:null,progress:0}))),i(_)}catch(_){console.error("Error fetching profile:",_),h("Impossible de charger le profil"),i({userId:e.uid,displayName:e.displayName||"Chef Anonyme",bio:"",photoUrl:e.photoURL||"",cookingLevel:"debutant",dietaryRestrictions:[],allergies:[],favoriteIngredients:[],avoidedIngredients:[],language:"fr",notificationsEnabled:!0,stats:{recipesCreated:0,recipesCooked:0,totalCookingTime:0,favoriteRecipeId:null},achievements:vy.map(C=>({...C,earnedAt:null,progress:0})),recentActivity:[],savedRecipes:[],createdAt:null,updatedAt:null})}finally{o(!1)}},[e]);q.useEffect(()=>{f()},[f]);const g=async _=>{if(!(!e||!n))try{await OU(e.uid,_),i(C=>C?{...C,..._}:null)}catch(C){throw console.error("Error updating profile:",C),C}},x={profile:n,loading:a,error:c,refreshProfile:f,updateProfile:g,updatePreferences:async _=>{await g(_)},updateSettings:async _=>{await g(_)}};return d.jsx(O4.Provider,{value:x,children:t})}const s0=768;function pd(){const[t,e]=q.useState(void 0);return q.useEffect(()=>{const n=window.matchMedia(`(max-width: ${s0-1}px)`),i=()=>{e(window.innerWidth<s0)};return n.addEventListener("change",i),e(window.innerWidth<s0),()=>n.removeEventListener("change",i)},[]),!!t}function tv({recipe:t,onClose:e,onStartCooking:n,onEdit:i,onShare:a,showEditButton:o=!1,showShareToFamily:c=!1,showCookingButton:h=!0,showSocialShare:f=!0,isLiked:g=!1,onToggleLike:p}){const v=pd(),x=t.imageUrl||t.image,_=t.prepTime||t.time||t.cookTime,C=t.author||t.sharedBy,L=encodeURIComponent(` ${t.title}

${t.description||""}

 ${_||"N/A"} |  ${t.difficulty||"N/A"}

 Ingrdients:
${t.ingredients?.join(`
`)||""}

Dcouvrez cette recette sur Gustalya !`);return v?d.jsxs("div",{className:"fixed inset-0 z-[100] bg-background flex flex-col animate-in slide-in-from-right duration-300",children:[d.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border bg-card safe-area-top",children:[d.jsx("button",{onClick:e,className:"rounded-full p-2 text-foreground hover:bg-accent transition-colors",children:d.jsx(Nu,{size:24})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("h1",{className:"text-lg font-bold text-foreground truncate",children:[t.emoji||""," ",t.title]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[_&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(kn,{className:"h-3.5 w-3.5"}),_]}),t.servings&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(cs,{className:"h-3.5 w-3.5"}),t.servings," pers."]})]})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[x&&d.jsxs("div",{className:"relative w-full h-64 overflow-hidden",children:[d.jsx("img",{src:x,alt:t.title,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/60 via-transparent to-transparent"})]}),d.jsxs("div",{className:"p-4 space-y-5",children:[t.difficulty&&d.jsx("span",{className:"inline-block rounded-full bg-primary/10 px-3 py-1 text-sm text-primary font-medium",children:t.difficulty}),t.description&&d.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description}),C&&d.jsxs("p",{className:"text-sm text-primary",children:["Par ",C]}),t.ingredients&&t.ingredients.length>0&&d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"text-base font-bold text-foreground flex items-center gap-2",children:" Ingrdients"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:t.ingredients.map((I,N)=>d.jsx("span",{className:"rounded-full bg-accent px-3 py-1.5 text-sm text-foreground",children:I},N))})]}),t.steps&&t.steps.length>0&&d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"text-base font-bold text-foreground flex items-center gap-2",children:" Prparation"}),d.jsx("ol",{className:"space-y-3",children:t.steps.map((I,N)=>d.jsxs("li",{className:"flex gap-3 rounded-xl bg-accent/50 p-4",children:[d.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-bold",children:I.order||N+1}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"text-foreground leading-relaxed",children:I.instruction}),I.duration&&d.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 rounded-full bg-primary/10 px-2.5 py-1 text-xs font-medium text-primary",children:[d.jsx(b0,{className:"h-3 w-3"}),I.duration]})]})]},N))})]})]})]}),d.jsxs("div",{className:"border-t border-border px-3 py-2 bg-card safe-area-bottom space-y-2",children:[d.jsxs("div",{className:"flex justify-center gap-3",children:[p&&d.jsx("button",{onClick:p,"data-testid":"button-toggle-like",className:xe("flex items-center justify-center rounded-full w-10 h-10 transition-all",g?"bg-red-500/10 text-red-500":"border border-border text-muted-foreground hover:bg-accent"),children:d.jsx(oa,{className:xe("h-5 w-5",g&&"fill-current")})}),f&&d.jsxs(d.Fragment,{children:[d.jsx("a",{href:`https://wa.me/?text=${L}`,target:"_blank",rel:"noopener noreferrer","data-testid":"button-share-whatsapp",className:"flex items-center justify-center rounded-full w-10 h-10 bg-green-500 text-white",children:d.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),d.jsx("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer","data-testid":"button-share-instagram",className:"flex items-center justify-center rounded-full w-10 h-10 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 text-white",children:d.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]}),o&&i&&d.jsx("button",{onClick:i,className:"flex items-center justify-center rounded-full w-10 h-10 border border-border text-primary",children:d.jsx(v0,{className:"h-5 w-5"})}),c&&a&&d.jsx("button",{onClick:a,className:"flex items-center justify-center rounded-full w-10 h-10 border border-border text-primary",children:d.jsx(Pl,{className:"h-5 w-5"})})]}),h&&n&&d.jsxs("button",{onClick:n,"data-testid":"button-start-cooking",className:"w-full flex items-center justify-center gap-2 rounded-xl bg-primary py-3 font-bold text-primary-foreground",children:[d.jsx(fa,{className:"h-5 w-5"}),d.jsx("span",{children:"Cuisiner"})]})]})]}):d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e,children:d.jsxs("div",{className:"w-full max-w-lg max-h-[85vh] overflow-hidden rounded-2xl bg-card shadow-2xl animate-in zoom-in-95 duration-300 flex flex-col",onClick:I=>I.stopPropagation(),children:[x?d.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[d.jsx("img",{src:x,alt:t.title,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),d.jsx("button",{onClick:e,className:"absolute top-3 right-3 rounded-full bg-black/40 backdrop-blur-sm p-2 text-white hover:bg-black/60 transition-colors",children:d.jsx(Wn,{size:20})}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:t.emoji||""}),d.jsx("h2",{className:"text-xl font-bold text-white truncate",children:t.title})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-white/80 flex-wrap",children:[_&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(kn,{className:"h-3.5 w-3.5"}),_]}),t.servings&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(cs,{className:"h-3.5 w-3.5"}),t.servings," pers."]}),t.difficulty&&d.jsx("span",{className:"rounded-full bg-white/20 backdrop-blur-sm px-2 py-0.5 text-xs text-white",children:t.difficulty})]})]})]}):d.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-border bg-card",children:[d.jsx("div",{className:"h-16 w-16 rounded-xl bg-accent flex items-center justify-center text-3xl flex-shrink-0",children:t.emoji||""}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:t.emoji||""}),d.jsx("h2",{className:"text-lg font-bold text-card-foreground truncate",children:t.title})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground flex-wrap",children:[_&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(kn,{className:"h-3.5 w-3.5"}),_]}),t.servings&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(cs,{className:"h-3.5 w-3.5"}),t.servings," pers."]}),t.difficulty&&d.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs text-primary",children:t.difficulty})]})]}),d.jsx("button",{onClick:e,className:"rounded-full p-2 text-muted-foreground hover:bg-accent transition-colors flex-shrink-0",children:d.jsx(Wn,{size:20})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.description&&d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:t.description}),C&&d.jsxs("p",{className:"text-xs text-primary",children:["Par ",C]}),t.ingredients&&t.ingredients.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-bold text-card-foreground flex items-center gap-2",children:" Ingrdients"}),d.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.ingredients.map((I,N)=>d.jsx("span",{className:"rounded-full bg-accent/50 px-2.5 py-1 text-xs text-card-foreground",children:I},N))})]}),t.steps&&t.steps.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-bold text-card-foreground flex items-center gap-2",children:" Prparation"}),d.jsx("ol",{className:"space-y-2",children:t.steps.map((I,N)=>d.jsxs("li",{className:"flex gap-3 rounded-lg bg-accent/30 p-3",children:[d.jsx("span",{className:"flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs font-bold",children:I.order||N+1}),d.jsxs("div",{className:"flex-1 text-sm",children:[d.jsx("span",{className:"text-card-foreground leading-relaxed",children:I.instruction}),I.duration&&d.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary",children:[d.jsx(b0,{className:"h-3 w-3"}),I.duration]})]})]},N))})]})]}),d.jsxs("div",{className:"border-t border-border p-3 flex gap-2 bg-card",children:[p&&d.jsx("button",{onClick:I=>{I.stopPropagation(),p()},"data-testid":"button-toggle-like",className:xe("flex items-center justify-center rounded-xl px-3 py-2.5 transition-all",g?"bg-red-500/10 text-red-500":"border border-border text-muted-foreground hover:bg-accent"),children:d.jsx(oa,{className:xe("h-5 w-5",g&&"fill-current")})}),f&&d.jsxs(d.Fragment,{children:[d.jsx("a",{href:`https://wa.me/?text=${L}`,target:"_blank",rel:"noopener noreferrer","data-testid":"button-share-whatsapp",className:"flex items-center justify-center rounded-xl px-3 py-2.5 bg-green-500 text-white hover:bg-green-600 transition-all",children:d.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),d.jsx("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer","data-testid":"button-share-instagram",className:"flex items-center justify-center rounded-xl px-3 py-2.5 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 text-white hover:opacity-90 transition-all",children:d.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]}),o&&i&&d.jsx("button",{onClick:i,className:"flex items-center justify-center rounded-xl px-3 py-2.5 border border-border text-primary hover:bg-primary/10 transition-all",children:d.jsx(v0,{className:"h-5 w-5"})}),c&&a&&d.jsx("button",{onClick:a,className:"flex items-center justify-center rounded-xl px-3 py-2.5 border border-border text-primary hover:bg-primary/10 transition-all",children:d.jsx(Pl,{className:"h-5 w-5"})}),h&&n&&d.jsxs("button",{onClick:n,"data-testid":"button-start-cooking",className:"flex-1 flex items-center justify-center gap-2 rounded-xl bg-primary px-4 py-2.5 font-bold text-primary-foreground transition-all hover:opacity-90",children:[d.jsx(fa,{className:"h-5 w-5"}),"Cuisiner"]})]})]})})}function lu(t){let e=0;const n=t.match(/(\d+)\s*(?:minute|min|mn|m)\b/i);n&&(e+=parseInt(n[1])*60);const i=t.match(/(\d+)\s*(?:heure|hour|h)\b/i);i&&(e+=parseInt(i[1])*3600);const a=t.match(/(\d+)\s*(?:seconde|sec|s)\b/i);return a&&(e+=parseInt(a[1])),e>0?e:null}function a0(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function nv({recipe:t,onClose:e,onAddTimer:n}){const[i,a]=q.useState(0),[o,c]=q.useState({}),[h,f]=q.useState(!1),[g,p]=q.useState(!1),[v,x]=q.useState(new Set),_=q.useRef(null),C=q.useRef(null),L=t.steps||[],I=L[i];q.useEffect(()=>{if("speechSynthesis"in window&&(C.current=window.speechSynthesis),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){p(!0);const A=window.SpeechRecognition||window.webkitSpeechRecognition;_.current=new A,_.current.continuous=!0,_.current.lang="fr-FR",_.current.onresult=k=>{const F=k.results.length-1,R=k.results[F][0].transcript.toLowerCase().trim();B(R)},_.current.onerror=()=>{f(!1)}}return()=>{_.current&&_.current.stop(),C.current&&C.current.cancel()}},[]),q.useEffect(()=>{const A=setInterval(()=>{c(k=>{const F={...k};return Object.keys(F).forEach(R=>{F[R].running&&F[R].remaining>0&&(F[R]={...F[R],remaining:F[R].remaining-1},F[R].remaining===0&&(N(),U(`Le timer de l'tape ${parseInt(R)+1} est termin`)))}),F})},1e3);return()=>clearInterval(A)},[]);const N=()=>{try{const A=new(window.AudioContext||window.webkitAudioContext),k=A.createOscillator(),F=A.createGain();k.connect(F),F.connect(A.destination),k.frequency.value=880,k.type="sine",F.gain.setValueAtTime(.3,A.currentTime),F.gain.exponentialRampToValueAtTime(.01,A.currentTime+.5),k.start(A.currentTime),k.stop(A.currentTime+.5)}catch{}},U=A=>{if(C.current){C.current.cancel();const k=new SpeechSynthesisUtterance(A);k.lang="fr-FR",k.rate=.9,C.current.speak(k)}},B=A=>{A.includes("suivant")||A.includes("next")||A.includes("tape suivante")?G():A.includes("prcdent")||A.includes("retour")||A.includes("tape prcdente")?O():A.includes("timer")||A.includes("minuteur")||A.includes("lance")?E():A.includes("stop")||A.includes("arrte")||A.includes("pause")?D():A.includes("lis")||A.includes("rpte")||A.includes("lire")?Z():(A.includes("termin")||A.includes("fait")||A.includes("fini"))&&w()},$=()=>{_.current&&(h?(_.current.stop(),f(!1)):(_.current.start(),f(!0),U("Assistant vocal activ. Dites suivant, prcdent, timer, ou termin.")))},Z=()=>{I&&U(`tape ${i+1}. ${I.instruction}`)},G=()=>{i<L.length-1&&(a(A=>A+1),U(`tape ${i+2}`))},O=()=>{i>0&&(a(A=>A-1),U(`tape ${i}`))},w=()=>{x(A=>new Set([...A,i])),i<L.length-1?G():U("Flicitations ! Vous avez termin la recette.")},E=()=>{const A=lu(I?.instruction||"")||lu(I?.duration||"");A?(c(k=>({...k,[i]:{total:A,remaining:A,running:!0}})),U(`Timer de ${Math.floor(A/60)} minutes lanc`)):U("Pas de dure dtecte pour cette tape")},D=()=>{c(A=>({...A,[i]:{...A[i],running:!1}}))},V=()=>{L.forEach((A,k)=>{const F=lu(A.instruction||"")||lu(A.duration||"");F&&n&&n(`${t.title} - tape ${k+1}`,F,t.category||"Recette")}),U("Tous les timers ont t ajouts")},P=Object.entries(o).filter(([A,k])=>k.remaining>0);return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",onClick:e,children:d.jsxs("div",{className:"w-full max-w-3xl rounded-2xl bg-card shadow-2xl animate-in zoom-in-95 max-h-[90vh] overflow-hidden flex flex-col",onClick:A=>A.stopPropagation(),children:[d.jsxs("div",{className:"bg-gradient-to-r from-primary to-foreground p-6 text-primary-foreground",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx($n,{size:28}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-primary-foreground",children:t.title}),d.jsx("p",{className:"text-primary-foreground/80 text-sm",children:"Mode pas  pas"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[g&&d.jsx("button",{onClick:$,"data-testid":"button-voice-toggle",className:xe("rounded-full p-3 transition-colors",h?"bg-red-500 animate-pulse":"bg-primary-foreground/20 hover:bg-primary-foreground/30"),children:h?d.jsx(y0,{size:20}):d.jsx(cE,{size:20})}),d.jsx("button",{onClick:Z,className:"rounded-full bg-primary-foreground/20 p-3 hover:bg-primary-foreground/30",children:d.jsx($R,{size:20})}),d.jsx("button",{onClick:e,className:"rounded-full bg-primary-foreground/20 p-3 hover:bg-primary-foreground/30",children:d.jsx(Wn,{size:20})})]})]}),P.length>0&&d.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:P.map(([A,k])=>d.jsxs("div",{className:xe("rounded-full px-4 py-1 text-sm font-mono",k.running?"bg-primary-foreground/30":"bg-primary-foreground/10"),children:["tape ",parseInt(A)+1,": ",a0(k.remaining)]},A))})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[d.jsxs("div",{className:"mb-4 flex items-center justify-between text-sm text-muted-foreground",children:[d.jsxs("span",{children:["tape ",i+1," sur ",L.length]}),d.jsxs("span",{children:[v.size," / ",L.length," termines"]})]}),d.jsx("div",{className:"mb-6",children:d.jsx("div",{className:"h-2 rounded-full bg-primary/20 overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${(i+1)/L.length*100}%`}})})}),I&&d.jsx("div",{className:xe("rounded-2xl border-2 p-6 transition-all",v.has(i)?"border-green-300 bg-green-50 dark:bg-green-900/20 dark:border-green-700":"border-border bg-background"),children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:xe("flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full text-primary-foreground font-bold text-lg",v.has(i)?"bg-green-500":"bg-primary"),children:v.has(i)?d.jsx(vr,{size:24}):i+1}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-lg text-card-foreground leading-relaxed",children:I.instruction}),(I.duration||lu(I.instruction))&&d.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:o[i]?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:xe("font-mono text-2xl font-bold",o[i].remaining<60?"text-red-500":"text-primary"),children:a0(o[i].remaining)}),d.jsx("button",{onClick:()=>o[i].running?D():E(),className:"rounded-lg bg-primary p-2 text-primary-foreground",children:o[i].running?d.jsx(xf,{size:18}):d.jsx(fa,{size:18})})]}):d.jsxs("button",{onClick:E,"data-testid":"button-start-step-timer",className:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-primary-foreground hover:bg-primary/90",children:[d.jsx(kn,{size:18}),"Lancer le timer (",I.duration||"auto",")"]})})]})]})}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Toutes les tapes"}),d.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:L.map((A,k)=>d.jsxs("button",{onClick:()=>a(k),className:xe("w-full flex items-center gap-3 rounded-lg p-3 text-left transition-colors",k===i?"bg-primary/20":"bg-background hover:bg-primary/10",v.has(k)&&"opacity-60"),children:[d.jsx("span",{className:xe("flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold",v.has(k)?"bg-green-500 text-white":"bg-primary/20 text-card-foreground"),children:v.has(k)?d.jsx(vr,{size:12}):k+1}),d.jsx("span",{className:"flex-1 text-sm text-card-foreground line-clamp-1",children:A.instruction}),o[k]?.remaining>0&&d.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:a0(o[k].remaining)})]},k))})]})]}),d.jsxs("div",{className:"border-t border-border p-3 bg-background space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:O,disabled:i===0,className:"flex items-center justify-center gap-1.5 rounded-xl border border-border px-3 py-2.5 text-sm font-medium text-muted-foreground hover:bg-accent disabled:opacity-30",children:[d.jsx(jR,{size:16}),d.jsx("span",{className:"hidden xs:inline",children:"Prcdent"})]}),d.jsxs("button",{onClick:V,className:"flex items-center justify-center gap-1.5 rounded-xl border border-border px-3 py-2.5 text-sm font-medium text-foreground hover:bg-accent",children:[d.jsx(kn,{size:16}),d.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})," timers"]}),i===L.length-1?d.jsxs("button",{onClick:w,className:"flex-1 flex items-center justify-center gap-1.5 rounded-xl bg-green-500 px-3 py-2.5 text-sm font-bold text-white hover:bg-green-600",children:[d.jsx(vr,{size:16}),"Terminer"]}):d.jsxs("button",{onClick:()=>{w()},className:"flex-1 flex items-center justify-center gap-1.5 rounded-xl bg-primary px-3 py-2.5 text-sm font-bold text-primary-foreground hover:bg-primary/90",children:["Suivant",d.jsx(IR,{size:16})]})]}),g&&h&&d.jsx("p",{className:"mt-3 text-center text-sm text-muted-foreground animate-pulse",children:`  l'coute... Dites "suivant", "timer", ou "termin"`})]})]})})}const by=[{id:1,title:"Mojito Classique",category:"Boisson",time:"5min",difficulty:"Facile",likes:120,image:"https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Le cocktail cubain par excellence, rafrachissant et parfaitement quilibr",author:"Gustalya",servings:1,featured:!0,ingredients:["50ml de rhum blanc","20ml de jus de citron vert","2 cuillres de sucre","6-8 feuilles de menthe","Eau gazeuse","Glace pile"],steps:[{instruction:"Mettre les feuilles de menthe et le sucre dans un verre"},{instruction:"craser dlicatement pour librer les armes",duration:"30 secondes"},{instruction:"Ajouter le jus de citron vert et le rhum"},{instruction:"Remplir de glace pile"},{instruction:"Complter avec de l'eau gazeuse"},{instruction:"Mlanger et dcorer avec de la menthe"}]},{id:2,title:"Negroni Parfait",category:"Boisson",time:"3min",difficulty:"Facile",likes:85,image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",emoji:"",description:"Le cocktail italien emblmatique, quilibr et sophistiqu",author:"Gustalya",servings:1,ingredients:["30ml de gin","30ml de Campari","30ml de vermouth rouge","Zeste d'orange"],steps:[{instruction:"Remplir un verre old-fashioned de glaons"},{instruction:"Verser le gin, le Campari et le vermouth"},{instruction:"Remuer pendant 30 secondes",duration:"30 secondes"},{instruction:"Garnir avec un zeste d'orange"}]},{id:3,title:"Aperol Spritz",category:"Boisson",time:"2min",difficulty:"Trs facile",likes:240,image:"https://images.unsplash.com/photo-1551024709-8f23befc6f87?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",emoji:"",description:"L'apritif italien parfait, lger et rafrachissant",author:"Gustalya",servings:1,ingredients:["90ml de Prosecco","60ml d'Aperol","Un trait d'eau gazeuse","Tranche d'orange","Glaons"],steps:[{instruction:"Remplir un grand verre  vin de glaons"},{instruction:"Verser le Prosecco puis l'Aperol"},{instruction:"Ajouter un trait d'eau gazeuse"},{instruction:"Garnir avec une tranche d'orange"}]},{id:4,title:"Tartare de Saumon",category:"Entre",time:"20min",difficulty:"Moyen",likes:156,image:"https://images.unsplash.com/photo-1548029960-695d127f4543?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Un tartare raffin et frais, parfait pour dbuter un repas gastronomique",author:"Gustalya",servings:4,ingredients:["400g de saumon frais","2 chalotes","Ciboulette","2 cuillres de cpres","Jus de citron","Huile d'olive","Sel et poivre"],steps:[{instruction:"Couper le saumon en petits ds"},{instruction:"Ciseler finement les chalotes et la ciboulette"},{instruction:"Mlanger tous les ingrdients dans un bol"},{instruction:"Assaisonner avec citron, huile, sel et poivre"},{instruction:"Rserver au frais 15 minutes",duration:"15 minutes"},{instruction:"Dresser  l'aide d'un emporte-pice"}]},{id:5,title:"Salade Csar",category:"Entre",time:"25min",difficulty:"Moyen",likes:98,image:"https://images.unsplash.com/photo-1550304943-4f24f54ddde9?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"La salade Csar originale, avec sa sauce crmeuse et ses crotons dors",author:"Gustalya",servings:4,ingredients:["1 laitue romaine","100g de parmesan","150g de poulet grill","Crotons","Sauce Csar","Anchois (optionnel)"],steps:[{instruction:"Laver et scher la laitue"},{instruction:"Griller le poulet et le couper en tranches"},{instruction:"Prparer la sauce Csar"},{instruction:"Assembler la salade avec les crotons"},{instruction:"Rper le parmesan par-dessus"},{instruction:"Servir immdiatement"}]},{id:6,title:"Risotto aux Champignons",category:"Plat",time:"45min",difficulty:"Moyen",likes:187,image:"https://images.unsplash.com/photo-1476124369491-e7addf5db371?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Un risotto crmeux aux champignons de saison, rconfortant  souhait",author:"Gustalya",servings:4,ingredients:["300g de riz arborio","200g de champignons","1L de bouillon de lgumes","1 oignon","100ml de vin blanc","50g de parmesan","Beurre"],steps:[{instruction:"Faire revenir l'oignon dans le beurre"},{instruction:"Ajouter les champignons et cuire 5 min",duration:"5 min"},{instruction:"Incorporer le riz et le nacrer"},{instruction:"Dglacer au vin blanc"},{instruction:"Ajouter le bouillon louche par louche en remuant",duration:"20 min"},{instruction:"Terminer avec le parmesan et un peu de beurre"}]},{id:7,title:"Boeuf Bourguignon",category:"Plat",time:"3h",difficulty:"Difficile",likes:312,image:"https://images.unsplash.com/photo-1534939561126-855b8675edd7?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Le grand classique de la cuisine franaise, mijot dans du vin rouge de Bourgogne",author:"Gustalya",servings:6,ingredients:["1.5kg de boeuf  braiser","1 bouteille de vin rouge","200g de lardons","300g de champignons","Petits oignons","Carottes","Bouquet garni"],steps:[{instruction:"Faire mariner le boeuf dans le vin la veille"},{instruction:"Faire revenir les lardons puis rserver"},{instruction:"Saisir les morceaux de boeuf"},{instruction:"Ajouter les lgumes et le vin"},{instruction:"Mijoter  feu doux pendant 3 heures",duration:"3 heures"},{instruction:"Servir avec des pommes de terre"}]},{id:8,title:"Tiramisu Italien",category:"Dessert",time:"30min",difficulty:"Moyen",likes:445,image:"https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Le dessert italien par excellence, onctueux et parfum au caf",author:"Gustalya",servings:8,featured:!0,ingredients:["500g de mascarpone","4 oeufs","100g de sucre","Biscuits cuillre","Caf espresso refroidi","Cacao en poudre"],steps:[{instruction:"Sparer les blancs des jaunes"},{instruction:"Battre les jaunes avec le sucre"},{instruction:"Incorporer le mascarpone"},{instruction:"Monter les blancs en neige et les incorporer"},{instruction:"Tremper les biscuits dans le caf"},{instruction:"Alterner couches de crme et biscuits"},{instruction:"Rfrigrer 4h minimum",duration:"4 heures"}]},{id:9,title:"Tarte au Citron Meringue",category:"Dessert",time:"1h30",difficulty:"Difficile",likes:267,image:"https://images.unsplash.com/photo-1519915028121-7d3463d20b13?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Une tarte acidule avec une meringue lgre et dore",author:"Gustalya",servings:8,ingredients:["Pte sable","4 citrons jaunes","200g de sucre","4 oeufs","100g de beurre","Blancs d'oeufs pour meringue"],steps:[{instruction:"Prcuire le fond de tarte",duration:"15 min"},{instruction:"Prparer la crme au citron"},{instruction:"Garnir le fond de tarte"},{instruction:"Prparer la meringue italienne"},{instruction:"Dresser la meringue sur la tarte"},{instruction:"Caramliser au chalumeau ou au four"}]},{id:10,title:"Pad Tha",category:"Plat",time:"30min",difficulty:"Moyen",likes:234,image:"https://images.unsplash.com/photo-1559314809-0d155014e29e?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Le plat thalandais le plus clbre, sucr-sal et pic",author:"Gustalya",servings:2,ingredients:["200g de nouilles de riz","200g de crevettes","2 oeufs","Pousses de soja","Cacahutes","Sauce pad thai","Citron vert"],steps:[{instruction:"Tremper les nouilles dans l'eau chaude",duration:"10 min"},{instruction:"Faire sauter les crevettes",duration:"3 min"},{instruction:"Pousser sur le ct et cuire les oeufs"},{instruction:"Ajouter les nouilles et la sauce"},{instruction:"Incorporer les pousses de soja"},{instruction:"Servir avec cacahutes et citron"}]},{id:11,title:"Crpes Suzette",category:"Dessert",time:"40min",difficulty:"Moyen",likes:178,image:"https://images.unsplash.com/photo-1519676867240-f03562e64548?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Les clbres crpes flambes au Grand Marnier",author:"Gustalya",servings:4,ingredients:["8 crpes fines","100g de beurre","100g de sucre","Jus de 2 oranges","Zeste d'orange","Grand Marnier"],steps:[{instruction:"Prparer le beurre d'orange"},{instruction:"Faire caramliser lgrement le sucre",duration:"2 min"},{instruction:"Ajouter le jus et le zeste d'orange"},{instruction:"Plier les crpes en quatre"},{instruction:"Les rchauffer dans la sauce",duration:"1 min"},{instruction:"Flamber avec le Grand Marnier"}]},{id:12,title:"Poke Bowl au Saumon",category:"Plat",time:"25min",difficulty:"Facile",likes:289,image:"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Un bowl hawaen frais et color, parfait pour l't",author:"Gustalya",servings:2,ingredients:["300g de saumon frais","Riz  sushi","Edamame","Avocat","Mangue","Sauce soja","Ssame"],steps:[{instruction:"Cuire le riz  sushi et laisser refroidir",duration:"15 min"},{instruction:"Couper le saumon en ds"},{instruction:"Prparer tous les toppings"},{instruction:"Dresser le riz dans des bols"},{instruction:"Disposer harmonieusement les garnitures"},{instruction:"Arroser de sauce et parsemer de ssame"}]},{id:13,title:"Quiche Lorraine",category:"Plat",time:"1h",difficulty:"Facile",likes:167,image:"https://images.unsplash.com/photo-1591985666643-9b5b9c5c5c5d?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"La quiche traditionnelle aux lardons et  la crme",author:"Gustalya",servings:6,ingredients:["1 pte brise","200g de lardons","3 oeufs","200ml de crme frache","100g de gruyre rp","Muscade"],steps:[{instruction:"Prchauffer le four  180C"},{instruction:"Foncer un moule avec la pte"},{instruction:"Faire revenir les lardons"},{instruction:"Mlanger oeufs, crme et muscade"},{instruction:"Rpartir lardons et fromage"},{instruction:"Verser l'appareil et cuire 40 min",duration:"40 min"}]},{id:14,title:"Curry de Poulet",category:"Plat",time:"45min",difficulty:"Facile",likes:298,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"Un curry doux et parfum, servi avec du riz basmati",author:"Gustalya",servings:4,ingredients:["600g de poulet","400ml de lait de coco","2 cuillres de pte de curry","Oignon","Ail","Gingembre","Coriandre frache"],steps:[{instruction:"Couper le poulet en morceaux"},{instruction:"Faire revenir oignon, ail et gingembre"},{instruction:"Ajouter la pte de curry"},{instruction:"Incorporer le poulet et le saisir"},{instruction:"Verser le lait de coco"},{instruction:"Mijoter 25 min et servir avec du riz",duration:"25 min"}]},{id:15,title:"Bruschetta Tomate Basilic",category:"Entre",time:"15min",difficulty:"Trs facile",likes:145,image:"https://images.unsplash.com/photo-1572695157366-5e585ab2b69f?q=80&w=1000&auto=format&fit=crop",emoji:"",description:"L'antipasti italien simple et savoureux",author:"Gustalya",servings:4,ingredients:["Baguette ou pain ciabatta","Tomates mres","Basilic frais","Ail","Huile d'olive","Sel et poivre"],steps:[{instruction:"Couper et griller les tranches de pain",duration:"2 min"},{instruction:"Couper les tomates en petits ds"},{instruction:"Mlanger avec basilic cisel et huile"},{instruction:"Frotter le pain avec de l'ail"},{instruction:"Garnir gnreusement de tomates"},{instruction:"Servir immdiatement"}]}];function FU(){const{currentUser:t}=md(),e=pd(),[n,i]=q.useState(null),[a,o]=q.useState([]),[c,h]=q.useState({memberCount:0,recipeCount:0,messageCount:0}),[f,g]=q.useState([]),[p,v]=q.useState([]),[x,_]=q.useState(!0),[C,L]=q.useState(!1),[I,N]=q.useState(!1),[U,B]=q.useState(""),[$,Z]=q.useState(""),[G,O]=q.useState(""),[w,E]=q.useState(!1),[D,V]=q.useState(""),[P,A]=q.useState(null),[k,F]=q.useState(null),[R,M]=q.useState(null),Y=async()=>{if(!t){_(!1);return}try{const K=await D4(t.uid);if(K){i(K);const[te,ge,ve,Re]=await Promise.all([EU(K.family.id),OT(K.family.id),VT(K.family.id),RU(K.family.id)]);o(te),h(ge),g(ve),v(Re)}else i(null)}catch(K){console.error("Failed to fetch family data:",K)}finally{_(!1)}};q.useEffect(()=>{Y()},[t]);const ee=async()=>{if(!U.trim()){V("Veuillez entrer un nom pour votre famille");return}if(!t){V("Vous devez tre connect");return}try{await _U(U,t),L(!1),B(""),V(""),Y()}catch{V("Erreur lors de la cration")}},se=async()=>{if(!$.trim()){V("Veuillez entrer un code d'invitation");return}if(!t){V("Vous devez tre connect");return}try{const K=await wU($.toUpperCase());if(!K){V("Code invalide");return}await TU(K.id,t),N(!1),Z(""),V(""),Y()}catch{V("Erreur lors de la connexion")}},Q=async()=>{if(!(!G.trim()||!t||!n))try{await IU(n.family.id,G.trim(),t),O("");const K=await VT(n.family.id);g(K);const te=await OT(n.family.id);h(te)}catch(K){console.error("Failed to send message:",K)}},W=()=>{n?.family?.inviteCode&&(navigator.clipboard.writeText(n.family.inviteCode),E(!0),setTimeout(()=>E(!1),2e3))};if(!t)return d.jsxs("div",{className:"flex min-h-[50vh] flex-col items-center justify-center text-center",children:[d.jsx("div",{className:"mb-4 text-6xl",children:""}),d.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Connexion requise"}),d.jsx("p",{className:"text-muted-foreground",children:"Connectez-vous avec Google pour accder  votre famille"})]});if(x)return d.jsx("div",{className:"flex min-h-[50vh] items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})});if(!n)return d.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mb-4 text-6xl",children:""}),d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Rejoignez une Famille"}),d.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Crez ou rejoignez une famille pour partager vos recettes prfres avec vos proches !"})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>{L(!0),V("")},"data-testid":"button-create-family",className:"group p-8 rounded-2xl border-2 border-primary/20 bg-gradient-to-br from-primary/10 to-primary/5 hover:border-primary/50 transition-all",children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Crer une Famille"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez une nouvelle famille et invitez vos proches"}),d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-muted-foreground group-hover:text-foreground",children:[d.jsx("span",{className:"font-medium",children:"Commencer"}),d.jsx(mu,{size:16})]})]}),d.jsxs("button",{onClick:()=>{N(!0),V("")},"data-testid":"button-join-family",className:"group p-8 rounded-2xl border-2 border-foreground/20 bg-gradient-to-br from-foreground/10 to-foreground/5 hover:border-foreground/50 transition-all",children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Rejoindre avec un Code"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Entrez le code d'invitation reu de votre famille"}),d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-muted-foreground group-hover:text-foreground",children:[d.jsx("span",{className:"font-medium",children:"Rejoindre"}),d.jsx(mu,{size:16})]})]})]}),C&&d.jsx("div",{className:xe("fixed inset-0 z-50",e?"flex items-end bg-black/50":"flex items-center justify-center bg-black/50 p-4"),children:d.jsxs("div",{className:xe("w-full bg-card shadow-xl",e?"rounded-t-3xl animate-in slide-in-from-bottom duration-300":"max-w-md rounded-2xl p-6 animate-in zoom-in-95"),children:[e&&d.jsx("div",{className:"flex justify-center pt-3 pb-2",children:d.jsx("div",{className:"w-10 h-1 rounded-full bg-muted-foreground/30"})}),d.jsxs("div",{className:e?"px-6 pb-6":"",children:[d.jsx("h2",{className:"text-2xl font-bold text-card-foreground mb-4",children:"Crer votre Famille"}),d.jsx("input",{type:"text",value:U,onChange:K=>B(K.target.value),placeholder:"Nom de la famille (ex: Famille Dupont)","data-testid":"input-family-name",className:"w-full rounded-xl border-2 border-border bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none"}),D&&d.jsx("p",{className:"mt-2 text-sm text-red-500",children:D}),d.jsxs("div",{className:"mt-6 flex gap-3",children:[d.jsx("button",{onClick:()=>L(!1),className:"flex-1 rounded-xl border border-border px-4 py-3 font-medium text-muted-foreground hover:bg-accent",children:"Annuler"}),d.jsx("button",{onClick:ee,"data-testid":"button-confirm-create",className:"flex-1 rounded-xl bg-primary px-4 py-3 font-bold text-primary-foreground hover:bg-primary/90",children:"Crer"})]})]})]})}),I&&d.jsx("div",{className:xe("fixed inset-0 z-50",e?"flex items-end bg-black/50":"flex items-center justify-center bg-black/50 p-4"),children:d.jsxs("div",{className:xe("w-full bg-card shadow-xl",e?"rounded-t-3xl animate-in slide-in-from-bottom duration-300":"max-w-md rounded-2xl p-6 animate-in zoom-in-95"),children:[e&&d.jsx("div",{className:"flex justify-center pt-3 pb-2",children:d.jsx("div",{className:"w-10 h-1 rounded-full bg-muted-foreground/30"})}),d.jsxs("div",{className:e?"px-6 pb-6":"",children:[d.jsx("h2",{className:"text-2xl font-bold text-card-foreground mb-4",children:"Rejoindre une Famille"}),d.jsx("input",{type:"text",value:$,onChange:K=>Z(K.target.value.toUpperCase()),placeholder:"Code d'invitation (ex: ABC123)","data-testid":"input-invite-code",maxLength:6,className:"w-full rounded-xl border-2 border-border bg-background px-4 py-3 text-center text-2xl font-mono tracking-widest text-foreground uppercase focus:border-primary focus:outline-none"}),D&&d.jsx("p",{className:"mt-2 text-sm text-red-500",children:D}),d.jsxs("div",{className:"mt-6 flex gap-3",children:[d.jsx("button",{onClick:()=>N(!1),className:"flex-1 rounded-xl border border-border px-4 py-3 font-medium text-muted-foreground hover:bg-accent",children:"Annuler"}),d.jsx("button",{onClick:se,"data-testid":"button-confirm-join",className:"flex-1 rounded-xl bg-foreground px-4 py-3 font-bold text-background hover:bg-foreground/90",children:"Rejoindre"})]})]})]})})]});const{family:re}=n;return d.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-primary/20 bg-gradient-to-br from-primary/10 via-accent/10 to-accent/5 px-8 py-10",children:[d.jsx("div",{className:"absolute right-4 top-4 text-4xl opacity-40",children:""}),d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-family-name",children:re.name}),d.jsx("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:d.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-card/80 px-4 py-2 shadow-sm",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Code famille:"}),d.jsx("span",{className:"font-mono font-bold text-foreground tracking-wider","data-testid":"text-invite-code",children:re.inviteCode}),d.jsx("button",{onClick:W,"data-testid":"button-copy-code",className:"ml-2 rounded-lg bg-primary/10 p-2 text-primary hover:bg-primary/20 transition-colors",children:w?d.jsx(vr,{size:16,className:"text-green-600"}):d.jsx(Mj,{size:16})})]})})]}),d.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 md:gap-6",children:[{label:"Membres",value:c.memberCount,emoji:"",color:"bg-primary/10",icon:cs},{label:"Recettes",value:c.recipeCount,emoji:"",color:"bg-foreground/10",icon:$n},{label:"Messages",value:c.messageCount,emoji:"",color:"bg-accent",icon:g0}].map((K,te)=>d.jsxs("div",{className:xe("relative overflow-hidden rounded-2xl border-2 border-primary/20 p-5 text-center transition-transform hover:scale-105",K.color),children:[d.jsx("div",{className:"mb-2 text-2xl md:text-3xl",children:K.emoji}),d.jsx("div",{className:"mb-1 text-2xl font-bold text-foreground","data-testid":`text-stat-${K.label.toLowerCase()}`,children:K.value}),d.jsx("div",{className:"text-xs font-medium text-muted-foreground md:text-sm",children:K.label})]},te))}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"rounded-2xl border-2 border-primary/20 bg-card p-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-card-foreground mb-4 flex items-center gap-2",children:[d.jsx(cs,{size:20,className:"text-primary"}),"Membres de la Famille"]}),d.jsx("div",{className:"space-y-3",children:a.map((K,te)=>d.jsxs("button",{"data-testid":`member-card-${te}`,onClick:()=>F(K),className:"flex items-center gap-3 rounded-xl bg-background p-4 border border-border w-full text-left hover:border-primary/50 hover:bg-accent/50 transition-all",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-primary to-foreground text-xl text-primary-foreground shadow-lg",children:K.photoURL?d.jsx("img",{src:K.photoURL,alt:K.username,className:"h-12 w-12 rounded-full object-cover"}):K.username?.[0]?.toUpperCase()||"?"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-bold text-card-foreground",children:K.username||"Membre"}),K.role==="owner"&&d.jsx(Ng,{size:14,className:"text-yellow-500"})]}),d.jsx("span",{className:"text-xs text-muted-foreground",children:K.role==="owner"?"Crateur":"Membre"})]}),d.jsx(mu,{size:16,className:"text-muted-foreground"})]},K.id))}),d.jsxs("button",{className:"mt-4 flex items-center gap-2 rounded-xl bg-primary/10 px-4 py-3 text-sm font-medium text-primary hover:bg-primary/20 transition-colors w-full justify-center",onClick:W,"data-testid":"button-invite-member",children:[d.jsx(FR,{size:18}),"Inviter un membre (copier le code)"]})]}),d.jsxs("div",{className:"rounded-2xl border-2 border-primary/20 bg-card p-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-card-foreground mb-4 flex items-center gap-2",children:[d.jsx(g0,{size:20,className:"text-primary"}),"Messages Famille"]}),d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto mb-4",children:f.length===0?d.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun message encore. Soyez le premier !"}):f.map(K=>d.jsxs("div",{className:"rounded-xl bg-background p-3 border border-border",children:[d.jsx("div",{className:"flex items-center gap-2 mb-1",children:d.jsx("span",{className:"font-bold text-sm text-card-foreground",children:K.authorName})}),d.jsx("p",{className:"text-sm text-card-foreground/80",children:K.content})]},K.id))}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:G,onChange:K=>O(K.target.value),onKeyPress:K=>K.key==="Enter"&&Q(),placeholder:"crire un message...","data-testid":"input-message",className:"flex-1 rounded-xl border-2 border-border bg-background px-4 py-2 text-foreground focus:border-primary focus:outline-none"}),d.jsx("button",{onClick:Q,"data-testid":"button-send-message",className:"rounded-xl bg-primary p-3 text-primary-foreground hover:bg-primary/90 transition-colors",children:d.jsx(TR,{size:18})})]})]})]}),d.jsxs("div",{className:"rounded-2xl border-2 border-primary/20 bg-card p-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-card-foreground mb-4 flex items-center gap-2",children:[d.jsx($n,{size:20,className:"text-primary"}),"Recettes de la Famille"]}),p.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("p",{className:"text-muted-foreground",children:"Aucune recette partage encore."}),d.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'Allez dans "Mes Recettes" pour partager vos crations avec la famille !'})]}):d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:p.map(K=>d.jsxs("div",{"data-testid":`family-recipe-card-${K.id}`,onClick:()=>A(K),className:"group relative overflow-hidden rounded-xl border border-border bg-background p-4 hover:shadow-lg transition-all cursor-pointer",children:[K.imageUrl&&d.jsx("div",{className:"aspect-video mb-3 overflow-hidden rounded-lg",children:d.jsx("img",{src:K.imageUrl,alt:K.title,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300"})}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-3xl",children:K.emoji||""}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-card-foreground truncate",children:K.title}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Partag par ",K.sharedBy]}),d.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[d.jsxs("span",{children:[" ",K.prepTime||K.time||""]}),d.jsx("span",{children:""}),d.jsx("span",{children:K.difficulty||"Facile"})]})]})]})]},K.id))})]}),d.jsxs("div",{className:"rounded-2xl border-2 border-primary/20 bg-card p-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-card-foreground mb-4 flex items-center gap-2",children:[d.jsx(ss,{size:20,className:"text-primary"}),"Recettes Gustalya",d.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",by.length," recettes)"]})]}),d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:by.slice(0,6).map(K=>d.jsxs("div",{"data-testid":`gustalya-recipe-card-${K.id}`,onClick:()=>A({...K,imageUrl:K.image,prepTime:K.time,sharedBy:"Gustalya"}),className:"group relative overflow-hidden rounded-xl border border-border bg-background hover:shadow-lg transition-all cursor-pointer",children:[d.jsxs("div",{className:"aspect-video overflow-hidden",children:[d.jsx("img",{src:K.image,alt:K.title,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xl",children:K.emoji}),d.jsx("h3",{className:"font-bold text-white text-sm truncate",children:K.title})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-white/80",children:[d.jsxs("span",{children:[" ",K.time]}),d.jsx("span",{children:""}),d.jsx("span",{children:K.difficulty})]})]})]},`gustalya-${K.id}`))})]}),P&&d.jsx(tv,{recipe:P,onClose:()=>A(null),showCookingButton:!0,onStartCooking:()=>{M(P),A(null)},showEditButton:!1,showShareToFamily:!1,showSocialShare:!0}),k&&d.jsx("div",{className:xe("fixed inset-0 z-50",e?"bg-background flex flex-col animate-in slide-in-from-right duration-300":"flex items-center justify-center bg-black/50 p-4"),children:e?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border bg-card safe-area-top",children:[d.jsx("button",{onClick:()=>F(null),className:"rounded-full p-2 text-foreground hover:bg-accent transition-colors",children:d.jsx(Nu,{size:24})}),d.jsx("h1",{className:"text-lg font-bold text-foreground",children:"Profil du membre"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[d.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[d.jsxs("div",{className:"relative mb-4",children:[k.photoURL?d.jsx("img",{src:k.photoURL,alt:k.username,className:"h-28 w-28 rounded-full object-cover ring-4 ring-primary/20 shadow-xl"}):d.jsx("div",{className:"h-28 w-28 rounded-full bg-gradient-to-br from-primary to-foreground flex items-center justify-center text-4xl text-primary-foreground ring-4 ring-primary/20 shadow-xl",children:k.username?.[0]?.toUpperCase()||"?"}),k.role==="owner"&&d.jsx("div",{className:"absolute -bottom-1 -right-1 bg-yellow-400 rounded-full p-2 shadow-lg",children:d.jsx(Ng,{size:16,className:"text-yellow-900"})})]}),d.jsx("h2",{className:"text-2xl font-bold text-foreground mb-1",children:k.username||"Membre"}),d.jsx("p",{className:"text-muted-foreground",children:k.role==="owner"?"Crateur de la famille":"Membre de la famille"}),k.email&&d.jsx("p",{className:"text-sm text-primary mt-2",children:k.email})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"rounded-2xl bg-card border border-border p-4",children:[d.jsxs("h3",{className:"font-bold text-card-foreground mb-3 flex items-center gap-2",children:[d.jsx($n,{size:18,className:"text-primary"}),"Statistiques"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"rounded-xl bg-accent/50 p-3 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:p?.filter(K=>K.sharedBy===k.username).length||0}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Recettes partages"})]}),d.jsxs("div",{className:"rounded-xl bg-accent/50 p-3 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:f?.filter(K=>K.authorId===k.userId||K.authorName===k.username).length||0}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]})]})]})})]})]}):d.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-card shadow-2xl animate-in zoom-in-95 overflow-hidden",onClick:K=>K.stopPropagation(),children:[d.jsxs("div",{className:"relative h-32 bg-gradient-to-br from-primary to-foreground",children:[d.jsx("button",{onClick:()=>F(null),className:"absolute top-3 right-3 rounded-full bg-black/30 backdrop-blur-sm p-2 text-white hover:bg-black/50 transition-colors",children:d.jsx(Wn,{size:18})}),d.jsxs("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2",children:[k.photoURL?d.jsx("img",{src:k.photoURL,alt:k.username,className:"h-24 w-24 rounded-full object-cover ring-4 ring-card shadow-xl"}):d.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-primary to-foreground flex items-center justify-center text-3xl text-primary-foreground ring-4 ring-card shadow-xl",children:k.username?.[0]?.toUpperCase()||"?"}),k.role==="owner"&&d.jsx("div",{className:"absolute -bottom-1 -right-1 bg-yellow-400 rounded-full p-1.5 shadow-lg",children:d.jsx(Ng,{size:14,className:"text-yellow-900"})})]})]}),d.jsxs("div",{className:"pt-16 pb-6 px-6 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-1",children:k.username||"Membre"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:k.role==="owner"?"Crateur de la famille":"Membre de la famille"}),k.email&&d.jsx("p",{className:"text-xs text-primary mt-2",children:k.email}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[d.jsxs("div",{className:"rounded-xl bg-accent/50 p-3 text-center",children:[d.jsx("div",{className:"text-xl font-bold text-foreground",children:p?.filter(K=>K.sharedBy===k.username).length||0}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Recettes"})]}),d.jsxs("div",{className:"rounded-xl bg-accent/50 p-3 text-center",children:[d.jsx("div",{className:"text-xl font-bold text-foreground",children:f?.filter(K=>K.authorId===k.userId||K.authorName===k.username).length||0}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]})]})]})]})}),R&&d.jsx(nv,{recipe:R,onClose:()=>M(null)})]})}const xy={morning:{label:"Petit-djeuner",emoji:"",categories:["dessert","boisson"],keywords:["pancake","crpe","uf","pain","toast","caf","th","smoothie","jus","yaourt","muesli"]},noon:{label:"Djeuner",emoji:"",categories:["plat","entree","salade"],keywords:["salade","sandwich","ptes","riz","poulet","poisson","soupe"]},evening:{label:"Dner",emoji:"",categories:["plat","soupe"],keywords:["gratin","rti","mijote","ragot","curry","risotto"]},snack:{label:"Goter/Apritif",emoji:"",categories:["dessert","aperitif"],keywords:["gteau","biscuit","tarte","cookie","chips","dips"]}};function BU(){const t=new Date().getHours();return t>=6&&t<10?"morning":t>=10&&t<14?"noon":t>=14&&t<18?"snack":"evening"}function qU(t,e,n=[]){let i=0;const a=xy[e];a.categories.includes(t.category)&&(i+=20);const o=(t.title+" "+t.description+" "+(t.ingredients||[]).join(" ")).toLowerCase();if(a.keywords.forEach(c=>{o.includes(c.toLowerCase())&&(i+=5)}),t.prepTime&&t.cookTime){const c=parseInt(t.prepTime)+parseInt(t.cookTime);c<=30?i+=10:c<=60&&(i+=5)}if(n.length>0&&t.ingredients){const c=t.ingredients.filter(h=>n.some(f=>h.toLowerCase().includes(f.toLowerCase())||f.toLowerCase().includes(h.toLowerCase())));i+=c.length*10}return t.difficulty==="facile"&&(i+=5),i}function HU({recipes:t,availableIngredients:e=[],onSelectRecipe:n,onStartCooking:i}){const[a,o]=q.useState(BU()),[c,h]=q.useState([]),[f,g]=q.useState(""),[p,v]=q.useState(e),[x,_]=q.useState(!1);q.useEffect(()=>{if(!t||t.length===0){h([]);return}const N=t.map(U=>({...U,score:qU(U,a,p)}));N.sort((U,B)=>B.score-U.score),h(N.slice(0,6))},[t,a,p]);const C=N=>{N.trim()&&!p.includes(N.trim())&&v(U=>[...U,N.trim()]),g("")},L=N=>{v(U=>U.filter(B=>B!==N))},I=xy[a];return!t||t.length===0?null:d.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-accent to-accent/50 border border-primary/20 p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ss,{className:"text-primary",size:24}),d.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Suggestions du moment"})]}),d.jsx("div",{className:"flex gap-1",children:Object.entries(xy).map(([N,U])=>d.jsx("button",{onClick:()=>o(N),className:xe("px-3 py-1 rounded-full text-sm transition-all",a===N?"bg-primary text-primary-foreground":"bg-card/50 text-foreground hover:bg-card"),children:U.emoji},N))})]}),d.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[I.emoji," ",I.label," - Recettes recommandes pour vous"]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("button",{onClick:()=>_(!x),className:"text-sm text-foreground flex items-center gap-1 hover:text-primary",children:[d.jsx(Gj,{size:16}),x?"Masquer":"Affiner par ingrdients disponibles"]}),x&&d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:f,onChange:N=>g(N.target.value),onKeyDown:N=>N.key==="Enter"&&C(f),placeholder:"Ex: poulet, tomates...",className:"flex-1 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground"}),d.jsx("button",{onClick:()=>C(f),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm hover:bg-primary/90",children:"Ajouter"})]}),p.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((N,U)=>d.jsxs("span",{className:"inline-flex items-center gap-1 bg-primary/10 text-primary px-2 py-1 rounded-full text-xs",children:[N,d.jsx("button",{onClick:()=>L(N),className:"hover:text-red-500",children:d.jsx(Wn,{size:12})})]},U))})]})]}),c.length===0?d.jsxs("div",{className:"text-center py-8 text-muted-foreground/60",children:[d.jsx($n,{size:40,className:"mx-auto mb-2 opacity-50"}),d.jsx("p",{children:"Ajoutez des recettes pour voir des suggestions personnalises"})]}):d.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:c.map((N,U)=>d.jsxs("div",{className:"group rounded-xl bg-card border border-border p-4 hover:shadow-lg hover:border-primary/30 transition-all cursor-pointer",onClick:()=>n?.(N),children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:N.emoji||""}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-card-foreground line-clamp-1",children:N.title}),d.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:(N.prepTime||N.cookTime)&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(kn,{size:12}),parseInt(N.prepTime||0)+parseInt(N.cookTime||0)," min"]})})]})]}),U<3&&d.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded-full text-xs font-bold",children:["Top ",U+1]})]}),N.steps?.length>0&&d.jsxs("button",{onClick:B=>{B.stopPropagation(),i?.(N)},className:"mt-3 w-full flex items-center justify-center gap-1 rounded-lg bg-primary/10 px-3 py-2 text-sm text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:[d.jsx(fa,{size:14}),"Cuisiner"]})]},N.id||U))})]})}function o0(t){let e=0;const n=t.match(/(\d+)\s*(?:minute|min|mn|m)\b/i);n&&(e+=parseInt(n[1])*60);const i=t.match(/(\d+)\s*(?:heure|hour|h)\b/i);i&&(e+=parseInt(i[1])*3600);const a=t.match(/(\d+)\s*(?:seconde|sec|s)\b/i);return a&&(e+=parseInt(a[1])),e>0?e:null}function LT(t){if(t>=3600){const i=Math.floor(t/3600),a=Math.floor(t%3600/60),o=t%60;return`${i}:${a.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function GU({recipes:t,onClose:e,onRemoveRecipe:n}){const[i,a]=q.useState(()=>t.map(P=>({...P,currentStep:0,completedSteps:new Set,timers:{}}))),[o,c]=q.useState([]),[h,f]=q.useState(!1),[g,p]=q.useState(!1),[v,x]=q.useState([]),_=q.useRef(null),C=q.useRef(null);q.useEffect(()=>{if("speechSynthesis"in window&&(C.current=window.speechSynthesis),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){p(!0);const P=window.SpeechRecognition||window.webkitSpeechRecognition;_.current=new P,_.current.continuous=!0,_.current.lang="fr-FR",_.current.onresult=A=>{const k=A.results.length-1,F=A.results[k][0].transcript.toLowerCase().trim();U(F)},_.current.onerror=()=>{f(!1)},_.current.onend=()=>{if(h)try{_.current?.start()}catch{f(!1)}}}return()=>{_.current&&_.current.stop(),C.current&&C.current.cancel()}},[]),q.useEffect(()=>{const P=setInterval(()=>{a(A=>A.map(k=>{const F={...k.timers};let R=!1;return Object.keys(F).forEach(M=>{F[M].running&&F[M].remaining>0&&(F[M]={...F[M],remaining:F[M].remaining-1},R=!0,F[M].remaining===0&&(I(),N(`Timer termin pour ${k.title}, tape ${parseInt(M)+1}`),L(`${k.title} - tape ${parseInt(M)+1} termine !`)))}),R?{...k,timers:F}:k})),c(A=>A.map(k=>{if(k.running&&k.remaining>0){const F=k.remaining-1;return F===0&&(I(),N(`Timer ${k.name} termin`),L(`${k.name} termin !`)),{...k,remaining:F}}return k}))},1e3);return()=>clearInterval(P)},[]);const L=P=>{const A=Date.now();x(k=>[...k,{id:A,message:P}]),setTimeout(()=>{x(k=>k.filter(F=>F.id!==A))},5e3)},I=()=>{try{const P=new(window.AudioContext||window.webkitAudioContext),A=P.createOscillator(),k=P.createGain();A.connect(k),k.connect(P.destination),A.frequency.value=880,k.gain.setValueAtTime(.3,P.currentTime),k.gain.exponentialRampToValueAtTime(.01,P.currentTime+.5),A.start(P.currentTime),A.stop(P.currentTime+.5)}catch{}},N=P=>{if(C.current){C.current.cancel();const A=new SpeechSynthesisUtterance(P);A.lang="fr-FR",A.rate=.9,C.current.speak(A)}},U=P=>{if(P.includes("timer")||P.includes("temps")){const A=O();if(A.length===0)N("Aucun timer en cours");else{const k=A.map(F=>`${F.name}: ${Math.floor(F.remaining/60)} minutes`).join(", ");N(`Timers en cours: ${k}`)}}else P.includes("stop")||P.includes("pause")?(w(),N("Tous les timers en pause")):(P.includes("reprendre")||P.includes("continue"))&&(E(),N("Timers repris"))},B=()=>{_.current&&(h?(_.current.stop(),f(!1)):(_.current.start(),f(!0),N("Mode vocal activ")))},$=(P,A)=>{const F=i[P].steps[A],R=o0(F?.instruction||"")||o0(F?.duration||"");R&&a(M=>M.map((Y,ee)=>ee===P?{...Y,timers:{...Y.timers,[A]:{total:R,remaining:R,running:!0}}}:Y))},Z=(P,A)=>{a(k=>k.map((F,R)=>R===P&&F.timers[A]?{...F,timers:{...F.timers,[A]:{...F.timers[A],running:!F.timers[A].running}}}:F))},G=(P,A)=>{a(k=>k.map((F,R)=>{if(R===P){const M=new Set(F.completedSteps);return M.add(A),{...F,completedSteps:M,currentStep:A<F.steps.length-1?A+1:F.currentStep}}return F}))},O=()=>{const P=[];return i.forEach((A,k)=>{Object.entries(A.timers).forEach(([F,R])=>{R.remaining>0&&P.push({name:`${A.title} - tape ${parseInt(F)+1}`,remaining:R.remaining,running:R.running,recipeIndex:k,stepIndex:parseInt(F)})})}),[...P,...o.filter(A=>A.remaining>0)].sort((A,k)=>A.remaining-k.remaining)},w=()=>{a(P=>P.map(A=>({...A,timers:Object.fromEntries(Object.entries(A.timers).map(([k,F])=>[k,{...F,running:!1}]))}))),c(P=>P.map(A=>({...A,running:!1})))},E=()=>{a(P=>P.map(A=>({...A,timers:Object.fromEntries(Object.entries(A.timers).map(([k,F])=>[k,{...F,running:F.remaining>0}]))}))),c(P=>P.map(A=>({...A,running:A.remaining>0})))},D=O(),V=P=>{const A=i[P];return A.completedSteps.size===A.steps?.length};return d.jsxs("div",{className:"fixed inset-0 z-50 bg-background overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-primary to-foreground text-primary-foreground",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx($n,{size:28}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold",children:"Mode Multi-Cuisson"}),d.jsxs("p",{className:"text-primary-foreground/80 text-sm",children:[i.length," recettes en cours"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[g&&d.jsx("button",{onClick:B,className:xe("rounded-full p-3 transition-colors",h?"bg-red-500 animate-pulse":"bg-primary-foreground/20 hover:bg-primary-foreground/30"),children:h?d.jsx(y0,{size:20}):d.jsx(cE,{size:20})}),d.jsx("button",{onClick:w,className:"rounded-full bg-primary-foreground/20 p-3 hover:bg-primary-foreground/30",children:d.jsx(xf,{size:20})}),d.jsx("button",{onClick:E,className:"rounded-full bg-primary-foreground/20 p-3 hover:bg-primary-foreground/30",children:d.jsx(fa,{size:20})}),d.jsx("button",{onClick:e,className:"rounded-full bg-primary-foreground/20 p-3 hover:bg-primary-foreground/30",children:d.jsx(Wn,{size:20})})]})]}),v.length>0&&d.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-50 space-y-2",children:v.map(P=>d.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-full font-bold shadow-lg animate-bounce flex items-center gap-2",children:[d.jsx(h0,{size:20}),P.message]},P.id))}),D.length>0&&d.jsxs("div",{className:"p-4 bg-card border-b border-border",children:[d.jsxs("h3",{className:"text-muted-foreground text-sm mb-2 flex items-center gap-2",children:[d.jsx(kn,{size:16}),"Timers actifs (",D.length,")"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((P,A)=>d.jsxs("div",{className:xe("rounded-xl px-4 py-2 text-primary-foreground flex items-center gap-2",P.running?"bg-primary":"bg-foreground",P.remaining<60&&P.running&&"bg-red-500 animate-pulse"),children:[d.jsx("span",{className:"text-sm opacity-80",children:P.name}),d.jsx("span",{className:"font-mono font-bold",children:LT(P.remaining)})]},A))})]}),d.jsx("div",{className:"flex-1 overflow-auto p-4",children:d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map((P,A)=>d.jsxs("div",{className:xe("rounded-2xl bg-card border overflow-hidden flex flex-col",V(A)?"border-green-500":"border-border"),children:[d.jsxs("div",{className:"p-4 bg-gradient-to-r from-accent to-card",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:P.emoji||""}),d.jsx("h3",{className:"text-card-foreground font-bold text-lg",children:P.title})]}),V(A)&&d.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"Termin "})]}),d.jsx("div",{className:"mt-2 flex items-center gap-2 text-muted-foreground text-sm",children:d.jsxs("span",{children:[P.completedSteps.size," / ",P.steps?.length||0," tapes"]})}),d.jsx("div",{className:"mt-2 h-1 bg-muted rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${P.completedSteps.size/(P.steps?.length||1)*100}%`}})})]}),d.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-2 max-h-60",children:(P.steps||[]).map((k,F)=>{const R=P.timers[F],M=P.completedSteps.has(F),Y=F===P.currentStep,ee=o0(k.instruction||"")||k.duration;return d.jsx("div",{className:xe("rounded-xl p-3 transition-all",M?"bg-green-500/20 border border-green-500/30":Y?"bg-primary/20 border border-primary/30":"bg-muted/50"),children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("button",{onClick:()=>G(A,F),className:xe("flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",M?"bg-green-500 text-white":"bg-muted text-card-foreground"),children:M?d.jsx(vr,{size:14}):F+1}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-card-foreground text-sm line-clamp-2",children:k.instruction}),ee&&d.jsx("div",{className:"mt-2 flex items-center gap-2",children:R?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:xe("font-mono text-sm font-bold",R.remaining<60?"text-red-400":"text-primary"),children:LT(R.remaining)}),d.jsx("button",{onClick:()=>Z(A,F),className:"p-1 rounded bg-muted",children:R.running?d.jsx(xf,{size:12,className:"text-card-foreground"}):d.jsx(fa,{size:12,className:"text-card-foreground"})})]}):d.jsxs("button",{onClick:()=>$(A,F),className:"flex items-center gap-1 px-2 py-1 bg-primary rounded text-primary-foreground text-xs",children:[d.jsx(kn,{size:12}),"Timer"]})})]})]})},F)})})]},P.id||A))})}),h&&d.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded-full font-bold shadow-lg animate-pulse flex items-center gap-2",children:[d.jsx(y0,{size:20}),` l'coute... Dites "timer", "pause" ou "reprendre"`]})]})}function $U({value:t,onChange:e,className:n}){const[i,a]=q.useState(!1),[o,c]=q.useState(null),[h,f]=q.useState(!1),[g,p]=q.useState(""),v=q.useRef(null),x=q.useRef(null),_=async U=>{if(U){if(!U.type.startsWith("image/")){c("Veuillez slectionner une image");return}if(U.size>5*1024*1024){c("L'image ne doit pas dpasser 5 Mo");return}c(null),a(!0);try{const B=await C(U);e(B)}catch(B){console.error("Conversion failed:",B),c("chec de la conversion de l'image")}finally{a(!1)}}},C=U=>new Promise((B,$)=>{const Z=new FileReader;Z.onload=()=>{const G=document.createElement("img");G.onload=()=>{const O=document.createElement("canvas"),w=800;let E=G.width,D=G.height;E>D&&E>w?(D=D*w/E,E=w):D>w&&(E=E*w/D,D=w),O.width=E,O.height=D,O.getContext("2d").drawImage(G,0,0,E,D),B(O.toDataURL("image/jpeg",.7))},G.onerror=$,G.src=Z.result},Z.onerror=$,Z.readAsDataURL(U)}),L=U=>{const B=U.target.files?.[0];B&&_(B)},I=()=>{g.trim()&&(e(g.trim()),f(!1),p(""))},N=()=>{e("")};return t?d.jsxs("div",{className:xe("relative rounded-xl overflow-hidden",n),children:[d.jsx("img",{src:t,alt:"Aperu",className:"w-full h-48 object-cover",onError:U=>{U.target.style.display="none"}}),d.jsx("button",{type:"button",onClick:N,"data-testid":"button-remove-image",className:"absolute top-2 right-2 rounded-full bg-red-500 p-2 text-white shadow-lg hover:bg-red-600 transition-colors",children:d.jsx(Wn,{size:16})})]}):h?d.jsxs("div",{className:xe("space-y-3",n),children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"url",value:g,onChange:U=>p(U.target.value),placeholder:"https://exemple.com/photo.jpg",className:"flex-1 rounded-xl border-2 border-border bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none"}),d.jsx("button",{type:"button",onClick:I,className:"rounded-xl bg-primary px-4 py-2 text-primary-foreground hover:bg-primary/90",children:"OK"})]}),d.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-sm text-primary hover:underline",children:" Retour"})]}):d.jsxs("div",{className:n,children:[d.jsxs("div",{className:"rounded-xl border-2 border-dashed border-border bg-background p-6 text-center",children:[i?d.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[d.jsx(m0,{size:32,className:"text-primary animate-spin"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Traitement en cours..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:d.jsx(qj,{size:24,className:"text-primary"})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajouter une photo"})]}),d.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>v.current?.click(),"data-testid":"button-upload-file",className:"flex items-center gap-2 rounded-lg bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition-colors",children:[d.jsx(fE,{size:16}),"Fichier"]}),d.jsxs("button",{type:"button",onClick:()=>x.current?.click(),"data-testid":"button-take-photo",className:"flex items-center gap-2 rounded-lg border border-primary px-3 py-2 text-sm font-medium text-primary hover:bg-primary/10 transition-colors",children:[d.jsx(vf,{size:16}),"Photo"]}),d.jsxs("button",{type:"button",onClick:()=>f(!0),"data-testid":"button-url-input",className:"flex items-center gap-2 rounded-lg border border-border px-3 py-2 text-sm font-medium text-foreground hover:bg-accent transition-colors",children:[d.jsx(f0,{size:16}),"URL"]})]}),d.jsx("p",{className:"mt-3 text-xs text-muted-foreground/60",children:"JPG, PNG  Max 5 Mo  Gratuit !"})]}),d.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:L,className:"hidden","data-testid":"input-file-upload"}),d.jsx("input",{ref:x,type:"file",accept:"image/*",capture:"environment",onChange:L,className:"hidden","data-testid":"input-camera-capture"})]}),o&&d.jsx("p",{className:"mt-2 text-sm text-red-500",children:o})]})}function WU(t,e){return e.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(i){if(i!=="default"&&!(i in t)){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}}))})),Object.freeze(t)}function L4(t,e){return new Promise((function(n,i){let a;return KU(t).then((function(o){try{return a=o,n(new Blob([e.slice(0,2),a,e.slice(2)],{type:"image/jpeg"}))}catch(c){return i(c)}}),i)}))}const KU=t=>new Promise(((e,n)=>{const i=new FileReader;i.addEventListener("load",(({target:{result:a}})=>{const o=new DataView(a);let c=0;if(o.getUint16(c)!==65496)return n("not a valid JPEG");for(c+=2;;){const h=o.getUint16(c);if(h===65498)break;const f=o.getUint16(c+2);if(h===65505&&o.getUint32(c+4)===1165519206){const g=c+10;let p;switch(o.getUint16(g)){case 18761:p=!0;break;case 19789:p=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(g+2,p)!==42)return n("TIFF header contains invalid version");const v=o.getUint32(g+4,p),x=g+v+2+12*o.getUint16(g+v,p);for(let _=g+v+2;_<x;_+=12)if(o.getUint16(_,p)==274){if(o.getUint16(_+2,p)!==3)return n("Orientation data type is invalid");if(o.getUint32(_+4,p)!==1)return n("Orientation data count is invalid");o.setUint16(_+8,1,p);break}return e(a.slice(c,c+2+f))}c+=2+f}return e(new Blob)})),i.readAsArrayBuffer(t)}));var Gf={},QU={get exports(){return Gf},set exports(t){Gf=t}};(function(t){var e,n,i={};QU.exports=i,i.parse=function(a,o){for(var c=i.bin.readUshort,h=i.bin.readUint,f=0,g={},p=new Uint8Array(a),v=p.length-4;h(p,v)!=101010256;)v--;f=v,f+=4;var x=c(p,f+=4);c(p,f+=2);var _=h(p,f+=2),C=h(p,f+=4);f+=4,f=C;for(var L=0;L<x;L++){h(p,f),f+=4,f+=4,f+=4,h(p,f+=4),_=h(p,f+=4);var I=h(p,f+=4),N=c(p,f+=4),U=c(p,f+2),B=c(p,f+4);f+=6;var $=h(p,f+=8);f+=4,f+=N+U+B,i._readLocal(p,$,g,_,I,o)}return g},i._readLocal=function(a,o,c,h,f,g){var p=i.bin.readUshort,v=i.bin.readUint;v(a,o),p(a,o+=4),p(a,o+=2);var x=p(a,o+=2);v(a,o+=2),v(a,o+=4),o+=4;var _=p(a,o+=8),C=p(a,o+=2);o+=2;var L=i.bin.readUTF8(a,o,_);if(o+=_,o+=C,g)c[L]={size:f,csize:h};else{var I=new Uint8Array(a.buffer,o);if(x==0)c[L]=new Uint8Array(I.buffer.slice(o,o+h));else{if(x!=8)throw"unknown compression method: "+x;var N=new Uint8Array(f);i.inflateRaw(I,N),c[L]=N}}},i.inflateRaw=function(a,o){return i.F.inflate(a,o)},i.inflate=function(a,o){return a[0],a[1],i.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),o)},i.deflate=function(a,o){o==null&&(o={level:6});var c=0,h=new Uint8Array(50+Math.floor(1.1*a.length));h[c]=120,h[c+1]=156,c+=2,c=i.F.deflateRaw(a,h,c,o.level);var f=i.adler(a,0,a.length);return h[c+0]=f>>>24&255,h[c+1]=f>>>16&255,h[c+2]=f>>>8&255,h[c+3]=f>>>0&255,new Uint8Array(h.buffer,0,c+4)},i.deflateRaw=function(a,o){o==null&&(o={level:6});var c=new Uint8Array(50+Math.floor(1.1*a.length)),h=i.F.deflateRaw(a,c,h,o.level);return new Uint8Array(c.buffer,0,h)},i.encode=function(a,o){o==null&&(o=!1);var c=0,h=i.bin.writeUint,f=i.bin.writeUshort,g={};for(var p in a){var v=!i._noNeed(p)&&!o,x=a[p],_=i.crc.crc(x,0,x.length);g[p]={cpr:v,usize:x.length,crc:_,file:v?i.deflateRaw(x):x}}for(var p in g)c+=g[p].file.length+30+46+2*i.bin.sizeUTF8(p);c+=22;var C=new Uint8Array(c),L=0,I=[];for(var p in g){var N=g[p];I.push(L),L=i._writeHeader(C,L,p,N,0)}var U=0,B=L;for(var p in g)N=g[p],I.push(L),L=i._writeHeader(C,L,p,N,1,I[U++]);var $=L-B;return h(C,L,101010256),L+=4,f(C,L+=4,U),f(C,L+=2,U),h(C,L+=2,$),h(C,L+=4,B),L+=4,L+=2,C.buffer},i._noNeed=function(a){var o=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},i._writeHeader=function(a,o,c,h,f,g){var p=i.bin.writeUint,v=i.bin.writeUshort,x=h.file;return p(a,o,f==0?67324752:33639248),o+=4,f==1&&(o+=2),v(a,o,20),v(a,o+=2,0),v(a,o+=2,h.cpr?8:0),p(a,o+=2,0),p(a,o+=4,h.crc),p(a,o+=4,x.length),p(a,o+=4,h.usize),v(a,o+=4,i.bin.sizeUTF8(c)),v(a,o+=2,0),o+=2,f==1&&(o+=2,o+=2,p(a,o+=6,g),o+=4),o+=i.bin.writeUTF8(a,o,c),f==0&&(a.set(x,o),o+=x.length),o},i.crc={table:(function(){for(var a=new Uint32Array(256),o=0;o<256;o++){for(var c=o,h=0;h<8;h++)1&c?c=3988292384^c>>>1:c>>>=1;a[o]=c}return a})(),update:function(a,o,c,h){for(var f=0;f<h;f++)a=i.crc.table[255&(a^o[c+f])]^a>>>8;return a},crc:function(a,o,c){return 4294967295^i.crc.update(4294967295,a,o,c)}},i.adler=function(a,o,c){for(var h=1,f=0,g=o,p=o+c;g<p;){for(var v=Math.min(g+5552,p);g<v;)f+=h+=a[g++];h%=65521,f%=65521}return f<<16|h},i.bin={readUshort:function(a,o){return a[o]|a[o+1]<<8},writeUshort:function(a,o,c){a[o]=255&c,a[o+1]=c>>8&255},readUint:function(a,o){return 16777216*a[o+3]+(a[o+2]<<16|a[o+1]<<8|a[o])},writeUint:function(a,o,c){a[o]=255&c,a[o+1]=c>>8&255,a[o+2]=c>>16&255,a[o+3]=c>>24&255},readASCII:function(a,o,c){for(var h="",f=0;f<c;f++)h+=String.fromCharCode(a[o+f]);return h},writeASCII:function(a,o,c){for(var h=0;h<c.length;h++)a[o+h]=c.charCodeAt(h)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,o,c){for(var h,f="",g=0;g<c;g++)f+="%"+i.bin.pad(a[o+g].toString(16));try{h=decodeURIComponent(f)}catch{return i.bin.readASCII(a,o,c)}return h},writeUTF8:function(a,o,c){for(var h=c.length,f=0,g=0;g<h;g++){var p=c.charCodeAt(g);if((4294967168&p)==0)a[o+f]=p,f++;else if((4294965248&p)==0)a[o+f]=192|p>>6,a[o+f+1]=128|p>>0&63,f+=2;else if((4294901760&p)==0)a[o+f]=224|p>>12,a[o+f+1]=128|p>>6&63,a[o+f+2]=128|p>>0&63,f+=3;else{if((4292870144&p)!=0)throw"e";a[o+f]=240|p>>18,a[o+f+1]=128|p>>12&63,a[o+f+2]=128|p>>6&63,a[o+f+3]=128|p>>0&63,f+=4}}return f},sizeUTF8:function(a){for(var o=a.length,c=0,h=0;h<o;h++){var f=a.charCodeAt(h);if((4294967168&f)==0)c++;else if((4294965248&f)==0)c+=2;else if((4294901760&f)==0)c+=3;else{if((4292870144&f)!=0)throw"e";c+=4}}return c}},i.F={},i.F.deflateRaw=function(a,o,c,h){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][h],g=i.F.U,p=i.F._goodIndex;i.F._hash;var v=i.F._putsE,x=0,_=c<<3,C=0,L=a.length;if(h==0){for(;x<L;)v(o,_,x+(V=Math.min(65535,L-x))==L?1:0),_=i.F._copyExact(a,x,V,o,_+8),x+=V;return _>>>3}var I=g.lits,N=g.strt,U=g.prev,B=0,$=0,Z=0,G=0,O=0,w=0;for(L>2&&(N[w=i.F._hash(a,0)]=0),x=0;x<L;x++){if(O=w,x+1<L-2){w=i.F._hash(a,x+1);var E=x+1&32767;U[E]=N[w],N[w]=E}if(C<=x){(B>14e3||$>26697)&&L-x>100&&(C<x&&(I[B]=x-C,B+=2,C=x),_=i.F._writeBlock(x==L-1||C==L?1:0,I,B,G,a,Z,x-Z,o,_),B=$=G=0,Z=x);var D=0;x<L-2&&(D=i.F._bestMatch(a,x,U,O,Math.min(f[2],L-x),f[3]));var V=D>>>16,P=65535&D;if(D!=0){P=65535&D;var A=p(V=D>>>16,g.of0);g.lhst[257+A]++;var k=p(P,g.df0);g.dhst[k]++,G+=g.exb[A]+g.dxb[k],I[B]=V<<23|x-C,I[B+1]=P<<16|A<<8|k,B+=2,C=x+V}else g.lhst[a[x]]++;$++}}for(Z==x&&a.length!=0||(C<x&&(I[B]=x-C,B+=2,C=x),_=i.F._writeBlock(1,I,B,G,a,Z,x-Z,o,_),B=0,$=0,B=$=G=0,Z=x);(7&_)!=0;)_++;return _>>>3},i.F._bestMatch=function(a,o,c,h,f,g){var p=32767&o,v=c[p],x=p-v+32768&32767;if(v==p||h!=i.F._hash(a,o-x))return 0;for(var _=0,C=0,L=Math.min(32767,o);x<=L&&--g!=0&&v!=p;){if(_==0||a[o+_]==a[o+_-x]){var I=i.F._howLong(a,o,x);if(I>_){if(C=x,(_=I)>=f)break;x+2<I&&(I=x+2);for(var N=0,U=0;U<I-2;U++){var B=o-x+U+32768&32767,$=B-c[B]+32768&32767;$>N&&(N=$,v=B)}}}x+=(p=v)-(v=c[p])+32768&32767}return _<<16|C},i.F._howLong=function(a,o,c){if(a[o]!=a[o-c]||a[o+1]!=a[o+1-c]||a[o+2]!=a[o+2-c])return 0;var h=o,f=Math.min(a.length,o+258);for(o+=3;o<f&&a[o]==a[o-c];)o++;return o-h},i.F._hash=function(a,o){return(a[o]<<8|a[o+1])+(a[o+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(a,o,c,h,f,g,p,v,x){var _,C,L,I,N,U,B,$,Z,G=i.F.U,O=i.F._putsF,w=i.F._putsE;G.lhst[256]++,C=(_=i.F.getTrees())[0],L=_[1],I=_[2],N=_[3],U=_[4],B=_[5],$=_[6],Z=_[7];var E=32+((x+3&7)==0?0:8-(x+3&7))+(p<<3),D=h+i.F.contSize(G.fltree,G.lhst)+i.F.contSize(G.fdtree,G.dhst),V=h+i.F.contSize(G.ltree,G.lhst)+i.F.contSize(G.dtree,G.dhst);V+=14+3*B+i.F.contSize(G.itree,G.ihst)+(2*G.ihst[16]+3*G.ihst[17]+7*G.ihst[18]);for(var P=0;P<286;P++)G.lhst[P]=0;for(P=0;P<30;P++)G.dhst[P]=0;for(P=0;P<19;P++)G.ihst[P]=0;var A=E<D&&E<V?0:D<V?1:2;if(O(v,x,a),O(v,x+1,A),x+=3,A==0){for(;(7&x)!=0;)x++;x=i.F._copyExact(f,g,p,v,x)}else{var k,F;if(A==1&&(k=G.fltree,F=G.fdtree),A==2){i.F.makeCodes(G.ltree,C),i.F.revCodes(G.ltree,C),i.F.makeCodes(G.dtree,L),i.F.revCodes(G.dtree,L),i.F.makeCodes(G.itree,I),i.F.revCodes(G.itree,I),k=G.ltree,F=G.dtree,w(v,x,N-257),w(v,x+=5,U-1),w(v,x+=5,B-4),x+=4;for(var R=0;R<B;R++)w(v,x+3*R,G.itree[1+(G.ordr[R]<<1)]);x+=3*B,x=i.F._codeTiny($,G.itree,v,x),x=i.F._codeTiny(Z,G.itree,v,x)}for(var M=g,Y=0;Y<c;Y+=2){for(var ee=o[Y],se=ee>>>23,Q=M+(8388607&ee);M<Q;)x=i.F._writeLit(f[M++],k,v,x);if(se!=0){var W=o[Y+1],re=W>>16,K=W>>8&255,te=255&W;w(v,x=i.F._writeLit(257+K,k,v,x),se-G.of0[K]),x+=G.exb[K],O(v,x=i.F._writeLit(te,F,v,x),re-G.df0[te]),x+=G.dxb[te],M+=se}}x=i.F._writeLit(256,k,v,x)}return x},i.F._copyExact=function(a,o,c,h,f){var g=f>>>3;return h[g]=c,h[g+1]=c>>>8,h[g+2]=255-h[g],h[g+3]=255-h[g+1],g+=4,h.set(new Uint8Array(a.buffer,o,c),g),f+(c+4<<3)},i.F.getTrees=function(){for(var a=i.F.U,o=i.F._hufTree(a.lhst,a.ltree,15),c=i.F._hufTree(a.dhst,a.dtree,15),h=[],f=i.F._lenCodes(a.ltree,h),g=[],p=i.F._lenCodes(a.dtree,g),v=0;v<h.length;v+=2)a.ihst[h[v]]++;for(v=0;v<g.length;v+=2)a.ihst[g[v]]++;for(var x=i.F._hufTree(a.ihst,a.itree,7),_=19;_>4&&a.itree[1+(a.ordr[_-1]<<1)]==0;)_--;return[o,c,x,f,p,_,h,g]},i.F.getSecond=function(a){for(var o=[],c=0;c<a.length;c+=2)o.push(a[c+1]);return o},i.F.nonZero=function(a){for(var o="",c=0;c<a.length;c+=2)a[c+1]!=0&&(o+=(c>>1)+",");return o},i.F.contSize=function(a,o){for(var c=0,h=0;h<o.length;h++)c+=o[h]*a[1+(h<<1)];return c},i.F._codeTiny=function(a,o,c,h){for(var f=0;f<a.length;f+=2){var g=a[f],p=a[f+1];h=i.F._writeLit(g,o,c,h);var v=g==16?2:g==17?3:7;g>15&&(i.F._putsE(c,h,p,v),h+=v)}return h},i.F._lenCodes=function(a,o){for(var c=a.length;c!=2&&a[c-1]==0;)c-=2;for(var h=0;h<c;h+=2){var f=a[h+1],g=h+3<c?a[h+3]:-1,p=h+5<c?a[h+5]:-1,v=h==0?-1:a[h-1];if(f==0&&g==f&&p==f){for(var x=h+5;x+2<c&&a[x+2]==f;)x+=2;(_=Math.min(x+1-h>>>1,138))<11?o.push(17,_-3):o.push(18,_-11),h+=2*_-2}else if(f==v&&g==f&&p==f){for(x=h+5;x+2<c&&a[x+2]==f;)x+=2;var _=Math.min(x+1-h>>>1,6);o.push(16,_-3),h+=2*_-2}else o.push(f,0)}return c>>>1},i.F._hufTree=function(a,o,c){var h=[],f=a.length,g=o.length,p=0;for(p=0;p<g;p+=2)o[p]=0,o[p+1]=0;for(p=0;p<f;p++)a[p]!=0&&h.push({lit:p,f:a[p]});var v=h.length,x=h.slice(0);if(v==0)return 0;if(v==1){var _=h[0].lit;return x=_==0?1:0,o[1+(_<<1)]=1,o[1+(x<<1)]=1,1}h.sort((function($,Z){return $.f-Z.f}));var C=h[0],L=h[1],I=0,N=1,U=2;for(h[0]={lit:-1,f:C.f+L.f,l:C,r:L,d:0};N!=v-1;)C=I!=N&&(U==v||h[I].f<h[U].f)?h[I++]:h[U++],L=I!=N&&(U==v||h[I].f<h[U].f)?h[I++]:h[U++],h[N++]={lit:-1,f:C.f+L.f,l:C,r:L};var B=i.F.setDepth(h[N-1],0);for(B>c&&(i.F.restrictDepth(x,c,B),B=c),p=0;p<v;p++)o[1+(x[p].lit<<1)]=x[p].d;return B},i.F.setDepth=function(a,o){return a.lit!=-1?(a.d=o,o):Math.max(i.F.setDepth(a.l,o+1),i.F.setDepth(a.r,o+1))},i.F.restrictDepth=function(a,o,c){var h=0,f=1<<c-o,g=0;for(a.sort((function(v,x){return x.d==v.d?v.f-x.f:x.d-v.d})),h=0;h<a.length&&a[h].d>o;h++){var p=a[h].d;a[h].d=o,g+=f-(1<<c-p)}for(g>>>=c-o;g>0;)(p=a[h].d)<o?(a[h].d++,g-=1<<o-p-1):h++;for(;h>=0;h--)a[h].d==o&&g<0&&(a[h].d--,g++);g!=0&&console.log("debt left")},i.F._goodIndex=function(a,o){var c=0;return o[16|c]<=a&&(c|=16),o[8|c]<=a&&(c|=8),o[4|c]<=a&&(c|=4),o[2|c]<=a&&(c|=2),o[1|c]<=a&&(c|=1),c},i.F._writeLit=function(a,o,c,h){return i.F._putsF(c,h,o[a<<1]),h+o[1+(a<<1)]},i.F.inflate=function(a,o){var c=Uint8Array;if(a[0]==3&&a[1]==0)return o||new c(0);var h=i.F,f=h._bitsF,g=h._bitsE,p=h._decodeTiny,v=h.makeCodes,x=h.codes2map,_=h._get17,C=h.U,L=o==null;L&&(o=new c(a.length>>>2<<3));for(var I,N,U=0,B=0,$=0,Z=0,G=0,O=0,w=0,E=0,D=0;U==0;)if(U=f(a,D,1),B=f(a,D+1,2),D+=3,B!=0){if(L&&(o=i.F._check(o,E+(1<<17))),B==1&&(I=C.flmap,N=C.fdmap,O=511,w=31),B==2){$=g(a,D,5)+257,Z=g(a,D+5,5)+1,G=g(a,D+10,4)+4,D+=14;for(var V=0;V<38;V+=2)C.itree[V]=0,C.itree[V+1]=0;var P=1;for(V=0;V<G;V++){var A=g(a,D+3*V,3);C.itree[1+(C.ordr[V]<<1)]=A,A>P&&(P=A)}D+=3*G,v(C.itree,P),x(C.itree,P,C.imap),I=C.lmap,N=C.dmap,D=p(C.imap,(1<<P)-1,$+Z,a,D,C.ttree);var k=h._copyOut(C.ttree,0,$,C.ltree);O=(1<<k)-1;var F=h._copyOut(C.ttree,$,Z,C.dtree);w=(1<<F)-1,v(C.ltree,k),x(C.ltree,k,I),v(C.dtree,F),x(C.dtree,F,N)}for(;;){var R=I[_(a,D)&O];D+=15&R;var M=R>>>4;if(!(M>>>8))o[E++]=M;else{if(M==256)break;var Y=E+M-254;if(M>264){var ee=C.ldef[M-257];Y=E+(ee>>>3)+g(a,D,7&ee),D+=7&ee}var se=N[_(a,D)&w];D+=15&se;var Q=se>>>4,W=C.ddef[Q],re=(W>>>4)+f(a,D,15&W);for(D+=15&W,L&&(o=i.F._check(o,E+(1<<17)));E<Y;)o[E]=o[E++-re],o[E]=o[E++-re],o[E]=o[E++-re],o[E]=o[E++-re];E=Y}}}else{(7&D)!=0&&(D+=8-(7&D));var K=4+(D>>>3),te=a[K-4]|a[K-3]<<8;L&&(o=i.F._check(o,E+te)),o.set(new c(a.buffer,a.byteOffset+K,te),E),D=K+te<<3,E+=te}return o.length==E?o:o.slice(0,E)},i.F._check=function(a,o){var c=a.length;if(o<=c)return a;var h=new Uint8Array(Math.max(c<<1,o));return h.set(a,0),h},i.F._decodeTiny=function(a,o,c,h,f,g){for(var p=i.F._bitsE,v=i.F._get17,x=0;x<c;){var _=a[v(h,f)&o];f+=15&_;var C=_>>>4;if(C<=15)g[x]=C,x++;else{var L=0,I=0;C==16?(I=3+p(h,f,2),f+=2,L=g[x-1]):C==17?(I=3+p(h,f,3),f+=3):C==18&&(I=11+p(h,f,7),f+=7);for(var N=x+I;x<N;)g[x]=L,x++}}return f},i.F._copyOut=function(a,o,c,h){for(var f=0,g=0,p=h.length>>>1;g<c;){var v=a[g+o];h[g<<1]=0,h[1+(g<<1)]=v,v>f&&(f=v),g++}for(;g<p;)h[g<<1]=0,h[1+(g<<1)]=0,g++;return f},i.F.makeCodes=function(a,o){for(var c,h,f,g,p=i.F.U,v=a.length,x=p.bl_count,_=0;_<=o;_++)x[_]=0;for(_=1;_<v;_+=2)x[a[_]]++;var C=p.next_code;for(c=0,x[0]=0,h=1;h<=o;h++)c=c+x[h-1]<<1,C[h]=c;for(f=0;f<v;f+=2)(g=a[f+1])!=0&&(a[f]=C[g],C[g]++)},i.F.codes2map=function(a,o,c){for(var h=a.length,f=i.F.U.rev15,g=0;g<h;g+=2)if(a[g+1]!=0)for(var p=g>>1,v=a[g+1],x=p<<4|v,_=o-v,C=a[g]<<_,L=C+(1<<_);C!=L;)c[f[C]>>>15-o]=x,C++},i.F.revCodes=function(a,o){for(var c=i.F.U.rev15,h=15-o,f=0;f<a.length;f+=2){var g=a[f]<<o-a[f+1];a[f]=c[g]>>>h}},i.F._putsE=function(a,o,c){c<<=7&o;var h=o>>>3;a[h]|=c,a[h+1]|=c>>>8},i.F._putsF=function(a,o,c){c<<=7&o;var h=o>>>3;a[h]|=c,a[h+1]|=c>>>8,a[h+2]|=c>>>16},i.F._bitsE=function(a,o,c){return(a[o>>>3]|a[1+(o>>>3)]<<8)>>>(7&o)&(1<<c)-1},i.F._bitsF=function(a,o,c){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)&(1<<c)-1},i.F._get17=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)},i.F._get25=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16|a[3+(o>>>3)]<<24)>>>(7&o)},i.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var a=i.F.U,o=0;o<32768;o++){var c=o;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,a.rev15[o]=(c>>>16|c<<16)>>>17}function h(f,g,p){for(;g--!=0;)f.push(0,p)}for(o=0;o<32;o++)a.ldef[o]=a.of0[o]<<3|a.exb[o],a.ddef[o]=a.df0[o]<<4|a.dxb[o];h(a.fltree,144,8),h(a.fltree,112,9),h(a.fltree,24,7),h(a.fltree,8,8),i.F.makeCodes(a.fltree,9),i.F.codes2map(a.fltree,9,a.flmap),i.F.revCodes(a.fltree,9),h(a.fdtree,32,5),i.F.makeCodes(a.fdtree,5),i.F.codes2map(a.fdtree,5,a.fdmap),i.F.revCodes(a.fdtree,5),h(a.itree,19,0),h(a.ltree,286,0),h(a.dtree,30,0),h(a.ttree,320,0)})()})();var YU=WU({__proto__:null,default:Gf},[Gf]);const Zr=(function(){var t={nextZero(p,v){for(;p[v]!=0;)v++;return v},readUshort:(p,v)=>p[v]<<8|p[v+1],writeUshort(p,v,x){p[v]=x>>8&255,p[v+1]=255&x},readUint:(p,v)=>16777216*p[v]+(p[v+1]<<16|p[v+2]<<8|p[v+3]),writeUint(p,v,x){p[v]=x>>24&255,p[v+1]=x>>16&255,p[v+2]=x>>8&255,p[v+3]=255&x},readASCII(p,v,x){let _="";for(let C=0;C<x;C++)_+=String.fromCharCode(p[v+C]);return _},writeASCII(p,v,x){for(let _=0;_<x.length;_++)p[v+_]=x.charCodeAt(_)},readBytes(p,v,x){const _=[];for(let C=0;C<x;C++)_.push(p[v+C]);return _},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,v,x){let _,C="";for(let L=0;L<x;L++)C+=`%${t.pad(p[v+L].toString(16))}`;try{_=decodeURIComponent(C)}catch{return t.readASCII(p,v,x)}return _}};function e(p,v,x,_){const C=v*x,L=o(_),I=Math.ceil(v*L/8),N=new Uint8Array(4*C),U=new Uint32Array(N.buffer),{ctype:B}=_,{depth:$}=_,Z=t.readUshort;if(B==6){const ee=C<<2;if($==8)for(var G=0;G<ee;G+=4)N[G]=p[G],N[G+1]=p[G+1],N[G+2]=p[G+2],N[G+3]=p[G+3];if($==16)for(G=0;G<ee;G++)N[G]=p[G<<1]}else if(B==2){const ee=_.tabs.tRNS;if(ee==null){if($==8)for(G=0;G<C;G++){var O=3*G;U[G]=255<<24|p[O+2]<<16|p[O+1]<<8|p[O]}if($==16)for(G=0;G<C;G++)O=6*G,U[G]=255<<24|p[O+4]<<16|p[O+2]<<8|p[O]}else{var w=ee[0];const se=ee[1],Q=ee[2];if($==8)for(G=0;G<C;G++){var E=G<<2;O=3*G,U[G]=255<<24|p[O+2]<<16|p[O+1]<<8|p[O],p[O]==w&&p[O+1]==se&&p[O+2]==Q&&(N[E+3]=0)}if($==16)for(G=0;G<C;G++)E=G<<2,O=6*G,U[G]=255<<24|p[O+4]<<16|p[O+2]<<8|p[O],Z(p,O)==w&&Z(p,O+2)==se&&Z(p,O+4)==Q&&(N[E+3]=0)}}else if(B==3){const ee=_.tabs.PLTE,se=_.tabs.tRNS,Q=se?se.length:0;if($==1)for(var D=0;D<x;D++){var V=D*I,P=D*v;for(G=0;G<v;G++){E=P+G<<2;var A=3*(k=p[V+(G>>3)]>>7-((7&G)<<0)&1);N[E]=ee[A],N[E+1]=ee[A+1],N[E+2]=ee[A+2],N[E+3]=k<Q?se[k]:255}}if($==2)for(D=0;D<x;D++)for(V=D*I,P=D*v,G=0;G<v;G++)E=P+G<<2,A=3*(k=p[V+(G>>2)]>>6-((3&G)<<1)&3),N[E]=ee[A],N[E+1]=ee[A+1],N[E+2]=ee[A+2],N[E+3]=k<Q?se[k]:255;if($==4)for(D=0;D<x;D++)for(V=D*I,P=D*v,G=0;G<v;G++)E=P+G<<2,A=3*(k=p[V+(G>>1)]>>4-((1&G)<<2)&15),N[E]=ee[A],N[E+1]=ee[A+1],N[E+2]=ee[A+2],N[E+3]=k<Q?se[k]:255;if($==8)for(G=0;G<C;G++){var k;E=G<<2,A=3*(k=p[G]),N[E]=ee[A],N[E+1]=ee[A+1],N[E+2]=ee[A+2],N[E+3]=k<Q?se[k]:255}}else if(B==4){if($==8)for(G=0;G<C;G++){E=G<<2;var F=p[R=G<<1];N[E]=F,N[E+1]=F,N[E+2]=F,N[E+3]=p[R+1]}if($==16)for(G=0;G<C;G++){var R;E=G<<2,F=p[R=G<<2],N[E]=F,N[E+1]=F,N[E+2]=F,N[E+3]=p[R+2]}}else if(B==0)for(w=_.tabs.tRNS?_.tabs.tRNS:-1,D=0;D<x;D++){const ee=D*I,se=D*v;if($==1)for(var M=0;M<v;M++){var Y=(F=255*(p[ee+(M>>>3)]>>>7-(7&M)&1))==255*w?0:255;U[se+M]=Y<<24|F<<16|F<<8|F}else if($==2)for(M=0;M<v;M++)Y=(F=85*(p[ee+(M>>>2)]>>>6-((3&M)<<1)&3))==85*w?0:255,U[se+M]=Y<<24|F<<16|F<<8|F;else if($==4)for(M=0;M<v;M++)Y=(F=17*(p[ee+(M>>>1)]>>>4-((1&M)<<2)&15))==17*w?0:255,U[se+M]=Y<<24|F<<16|F<<8|F;else if($==8)for(M=0;M<v;M++)Y=(F=p[ee+M])==w?0:255,U[se+M]=Y<<24|F<<16|F<<8|F;else if($==16)for(M=0;M<v;M++)F=p[ee+(M<<1)],Y=Z(p,ee+(M<<1))==w?0:255,U[se+M]=Y<<24|F<<16|F<<8|F}return N}function n(p,v,x,_){const C=o(p),L=Math.ceil(x*C/8),I=new Uint8Array((L+1+p.interlace)*_);return v=p.tabs.CgBI?a(v,I):i(v,I),p.interlace==0?v=c(v,p,0,x,_):p.interlace==1&&(v=(function(U,B){const $=B.width,Z=B.height,G=o(B),O=G>>3,w=Math.ceil($*G/8),E=new Uint8Array(Z*w);let D=0;const V=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],A=[8,8,8,4,4,2,2],k=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const M=A[F],Y=k[F];let ee=0,se=0,Q=V[F];for(;Q<Z;)Q+=M,se++;let W=P[F];for(;W<$;)W+=Y,ee++;const re=Math.ceil(ee*G/8);c(U,B,D,ee,se);let K=0,te=V[F];for(;te<Z;){let ge=P[F],ve=D+K*re<<3;for(;ge<$;){var R;if(G==1&&(R=(R=U[ve>>3])>>7-(7&ve)&1,E[te*w+(ge>>3)]|=R<<7-((7&ge)<<0)),G==2&&(R=(R=U[ve>>3])>>6-(7&ve)&3,E[te*w+(ge>>2)]|=R<<6-((3&ge)<<1)),G==4&&(R=(R=U[ve>>3])>>4-(7&ve)&15,E[te*w+(ge>>1)]|=R<<4-((1&ge)<<2)),G>=8){const Re=te*w+ge*O;for(let Ce=0;Ce<O;Ce++)E[Re+Ce]=U[(ve>>3)+Ce]}ve+=G,ge+=Y}K++,te+=M}ee*se!=0&&(D+=se*(1+re)),F+=1}return E})(v,p)),v}function i(p,v){return a(new Uint8Array(p.buffer,2,p.length-6),v)}var a=(function(){const p={H:{}};return p.H.N=function(v,x){const _=Uint8Array;let C,L,I=0,N=0,U=0,B=0,$=0,Z=0,G=0,O=0,w=0;if(v[0]==3&&v[1]==0)return x||new _(0);const E=p.H,D=E.b,V=E.e,P=E.R,A=E.n,k=E.A,F=E.Z,R=E.m,M=x==null;for(M&&(x=new _(v.length>>>2<<5));I==0;)if(I=D(v,w,1),N=D(v,w+1,2),w+=3,N!=0){if(M&&(x=p.H.W(x,O+(1<<17))),N==1&&(C=R.J,L=R.h,Z=511,G=31),N==2){U=V(v,w,5)+257,B=V(v,w+5,5)+1,$=V(v,w+10,4)+4,w+=14;let ee=1;for(var Y=0;Y<38;Y+=2)R.Q[Y]=0,R.Q[Y+1]=0;for(Y=0;Y<$;Y++){const W=V(v,w+3*Y,3);R.Q[1+(R.X[Y]<<1)]=W,W>ee&&(ee=W)}w+=3*$,A(R.Q,ee),k(R.Q,ee,R.u),C=R.w,L=R.d,w=P(R.u,(1<<ee)-1,U+B,v,w,R.v);const se=E.V(R.v,0,U,R.C);Z=(1<<se)-1;const Q=E.V(R.v,U,B,R.D);G=(1<<Q)-1,A(R.C,se),k(R.C,se,C),A(R.D,Q),k(R.D,Q,L)}for(;;){const ee=C[F(v,w)&Z];w+=15&ee;const se=ee>>>4;if(!(se>>>8))x[O++]=se;else{if(se==256)break;{let Q=O+se-254;if(se>264){const ge=R.q[se-257];Q=O+(ge>>>3)+V(v,w,7&ge),w+=7&ge}const W=L[F(v,w)&G];w+=15&W;const re=W>>>4,K=R.c[re],te=(K>>>4)+D(v,w,15&K);for(w+=15&K;O<Q;)x[O]=x[O++-te],x[O]=x[O++-te],x[O]=x[O++-te],x[O]=x[O++-te];O=Q}}}}else{(7&w)!=0&&(w+=8-(7&w));const ee=4+(w>>>3),se=v[ee-4]|v[ee-3]<<8;M&&(x=p.H.W(x,O+se)),x.set(new _(v.buffer,v.byteOffset+ee,se),O),w=ee+se<<3,O+=se}return x.length==O?x:x.slice(0,O)},p.H.W=function(v,x){const _=v.length;if(x<=_)return v;const C=new Uint8Array(_<<1);return C.set(v,0),C},p.H.R=function(v,x,_,C,L,I){const N=p.H.e,U=p.H.Z;let B=0;for(;B<_;){const $=v[U(C,L)&x];L+=15&$;const Z=$>>>4;if(Z<=15)I[B]=Z,B++;else{let G=0,O=0;Z==16?(O=3+N(C,L,2),L+=2,G=I[B-1]):Z==17?(O=3+N(C,L,3),L+=3):Z==18&&(O=11+N(C,L,7),L+=7);const w=B+O;for(;B<w;)I[B]=G,B++}}return L},p.H.V=function(v,x,_,C){let L=0,I=0;const N=C.length>>>1;for(;I<_;){const U=v[I+x];C[I<<1]=0,C[1+(I<<1)]=U,U>L&&(L=U),I++}for(;I<N;)C[I<<1]=0,C[1+(I<<1)]=0,I++;return L},p.H.n=function(v,x){const _=p.H.m,C=v.length;let L,I,N,U;const B=_.j;for(var $=0;$<=x;$++)B[$]=0;for($=1;$<C;$+=2)B[v[$]]++;const Z=_.K;for(L=0,B[0]=0,I=1;I<=x;I++)L=L+B[I-1]<<1,Z[I]=L;for(N=0;N<C;N+=2)U=v[N+1],U!=0&&(v[N]=Z[U],Z[U]++)},p.H.A=function(v,x,_){const C=v.length,L=p.H.m.r;for(let I=0;I<C;I+=2)if(v[I+1]!=0){const N=I>>1,U=v[I+1],B=N<<4|U,$=x-U;let Z=v[I]<<$;const G=Z+(1<<$);for(;Z!=G;)_[L[Z]>>>15-x]=B,Z++}},p.H.l=function(v,x){const _=p.H.m.r,C=15-x;for(let L=0;L<v.length;L+=2){const I=v[L]<<x-v[L+1];v[L]=_[I]>>>C}},p.H.M=function(v,x,_){_<<=7&x;const C=x>>>3;v[C]|=_,v[C+1]|=_>>>8},p.H.I=function(v,x,_){_<<=7&x;const C=x>>>3;v[C]|=_,v[C+1]|=_>>>8,v[C+2]|=_>>>16},p.H.e=function(v,x,_){return(v[x>>>3]|v[1+(x>>>3)]<<8)>>>(7&x)&(1<<_)-1},p.H.b=function(v,x,_){return(v[x>>>3]|v[1+(x>>>3)]<<8|v[2+(x>>>3)]<<16)>>>(7&x)&(1<<_)-1},p.H.Z=function(v,x){return(v[x>>>3]|v[1+(x>>>3)]<<8|v[2+(x>>>3)]<<16)>>>(7&x)},p.H.i=function(v,x){return(v[x>>>3]|v[1+(x>>>3)]<<8|v[2+(x>>>3)]<<16|v[3+(x>>>3)]<<24)>>>(7&x)},p.H.m=(function(){const v=Uint16Array,x=Uint32Array;return{K:new v(16),j:new v(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new v(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new x(32),J:new v(512),_:[],h:new v(32),$:[],w:new v(32768),C:[],v:[],d:new v(32768),D:[],u:new v(512),Q:[],r:new v(32768),s:new x(286),Y:new x(30),a:new x(19),t:new x(15e3),k:new v(65536),g:new v(32768)}})(),(function(){const v=p.H.m;for(var x=0;x<32768;x++){let C=x;C=(2863311530&C)>>>1|(1431655765&C)<<1,C=(3435973836&C)>>>2|(858993459&C)<<2,C=(4042322160&C)>>>4|(252645135&C)<<4,C=(4278255360&C)>>>8|(16711935&C)<<8,v.r[x]=(C>>>16|C<<16)>>>17}function _(C,L,I){for(;L--!=0;)C.push(0,I)}for(x=0;x<32;x++)v.q[x]=v.S[x]<<3|v.T[x],v.c[x]=v.p[x]<<4|v.z[x];_(v._,144,8),_(v._,112,9),_(v._,24,7),_(v._,8,8),p.H.n(v._,9),p.H.A(v._,9,v.J),p.H.l(v._,9),_(v.$,32,5),p.H.n(v.$,5),p.H.A(v.$,5,v.h),p.H.l(v.$,5),_(v.Q,19,0),_(v.C,286,0),_(v.D,30,0),_(v.v,320,0)})(),p.H.N})();function o(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function c(p,v,x,_,C){let L=o(v);const I=Math.ceil(_*L/8);let N,U;L=Math.ceil(L/8);let B=p[x],$=0;if(B>1&&(p[x]=[0,0,1][B-2]),B==3)for($=L;$<I;$++)p[$+1]=p[$+1]+(p[$+1-L]>>>1)&255;for(let Z=0;Z<C;Z++)if(N=x+Z*I,U=N+Z+1,B=p[U-1],$=0,B==0)for(;$<I;$++)p[N+$]=p[U+$];else if(B==1){for(;$<L;$++)p[N+$]=p[U+$];for(;$<I;$++)p[N+$]=p[U+$]+p[N+$-L]}else if(B==2)for(;$<I;$++)p[N+$]=p[U+$]+p[N+$-I];else if(B==3){for(;$<L;$++)p[N+$]=p[U+$]+(p[N+$-I]>>>1);for(;$<I;$++)p[N+$]=p[U+$]+(p[N+$-I]+p[N+$-L]>>>1)}else{for(;$<L;$++)p[N+$]=p[U+$]+h(0,p[N+$-I],0);for(;$<I;$++)p[N+$]=p[U+$]+h(p[N+$-L],p[N+$-I],p[N+$-L-I])}return p}function h(p,v,x){const _=p+v-x,C=_-p,L=_-v,I=_-x;return C*C<=L*L&&C*C<=I*I?p:L*L<=I*I?v:x}function f(p,v,x){x.width=t.readUint(p,v),v+=4,x.height=t.readUint(p,v),v+=4,x.depth=p[v],v++,x.ctype=p[v],v++,x.compress=p[v],v++,x.filter=p[v],v++,x.interlace=p[v],v++}function g(p,v,x,_,C,L,I,N,U){const B=Math.min(v,C),$=Math.min(x,L);let Z=0,G=0;for(let F=0;F<$;F++)for(let R=0;R<B;R++)if(I>=0&&N>=0?(Z=F*v+R<<2,G=(N+F)*C+I+R<<2):(Z=(-N+F)*v-I+R<<2,G=F*C+R<<2),U==0)_[G]=p[Z],_[G+1]=p[Z+1],_[G+2]=p[Z+2],_[G+3]=p[Z+3];else if(U==1){var O=p[Z+3]*.00392156862745098,w=p[Z]*O,E=p[Z+1]*O,D=p[Z+2]*O,V=_[G+3]*(1/255),P=_[G]*V,A=_[G+1]*V,k=_[G+2]*V;const M=1-O,Y=O+V*M,ee=Y==0?0:1/Y;_[G+3]=255*Y,_[G+0]=(w+P*M)*ee,_[G+1]=(E+A*M)*ee,_[G+2]=(D+k*M)*ee}else if(U==2)O=p[Z+3],w=p[Z],E=p[Z+1],D=p[Z+2],V=_[G+3],P=_[G],A=_[G+1],k=_[G+2],O==V&&w==P&&E==A&&D==k?(_[G]=0,_[G+1]=0,_[G+2]=0,_[G+3]=0):(_[G]=w,_[G+1]=E,_[G+2]=D,_[G+3]=O);else if(U==3){if(O=p[Z+3],w=p[Z],E=p[Z+1],D=p[Z+2],V=_[G+3],P=_[G],A=_[G+1],k=_[G+2],O==V&&w==P&&E==A&&D==k)continue;if(O<220&&V>20)return!1}return!0}return{decode:function(v){const x=new Uint8Array(v);let _=8;const C=t,L=C.readUshort,I=C.readUint,N={tabs:{},frames:[]},U=new Uint8Array(x.length);let B,$=0,Z=0;const G=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(x[O]!=G[O])throw"The input is not a PNG file!";for(;_<x.length;){const F=C.readUint(x,_);_+=4;const R=C.readASCII(x,_,4);if(_+=4,R=="IHDR")f(x,_,N);else if(R=="iCCP"){for(var w=_;x[w]!=0;)w++;C.readASCII(x,_,w-_),x[w+1];const M=x.slice(w+2,_+F);let Y=null;try{Y=i(M)}catch{Y=a(M)}N.tabs[R]=Y}else if(R=="CgBI")N.tabs[R]=x.slice(_,_+4);else if(R=="IDAT"){for(O=0;O<F;O++)U[$+O]=x[_+O];$+=F}else if(R=="acTL")N.tabs[R]={num_frames:I(x,_),num_plays:I(x,_+4)},B=new Uint8Array(x.length);else if(R=="fcTL"){Z!=0&&((k=N.frames[N.frames.length-1]).data=n(N,B.slice(0,Z),k.rect.width,k.rect.height),Z=0);const M={x:I(x,_+12),y:I(x,_+16),width:I(x,_+4),height:I(x,_+8)};let Y=L(x,_+22);Y=L(x,_+20)/(Y==0?100:Y);const ee={rect:M,delay:Math.round(1e3*Y),dispose:x[_+24],blend:x[_+25]};N.frames.push(ee)}else if(R=="fdAT"){for(O=0;O<F-4;O++)B[Z+O]=x[_+O+4];Z+=F-4}else if(R=="pHYs")N.tabs[R]=[C.readUint(x,_),C.readUint(x,_+4),x[_+8]];else if(R=="cHRM")for(N.tabs[R]=[],O=0;O<8;O++)N.tabs[R].push(C.readUint(x,_+4*O));else if(R=="tEXt"||R=="zTXt"){N.tabs[R]==null&&(N.tabs[R]={});var E=C.nextZero(x,_),D=C.readASCII(x,_,E-_),V=_+F-E-1;if(R=="tEXt")A=C.readASCII(x,E+1,V);else{var P=i(x.slice(E+2,E+2+V));A=C.readUTF8(P,0,P.length)}N.tabs[R][D]=A}else if(R=="iTXt"){N.tabs[R]==null&&(N.tabs[R]={}),E=0,w=_,E=C.nextZero(x,w),D=C.readASCII(x,w,E-w);const M=x[w=E+1];var A;x[w+1],w+=2,E=C.nextZero(x,w),C.readASCII(x,w,E-w),w=E+1,E=C.nextZero(x,w),C.readUTF8(x,w,E-w),V=F-((w=E+1)-_),M==0?A=C.readUTF8(x,w,V):(P=i(x.slice(w,w+V)),A=C.readUTF8(P,0,P.length)),N.tabs[R][D]=A}else if(R=="PLTE")N.tabs[R]=C.readBytes(x,_,F);else if(R=="hIST"){const M=N.tabs.PLTE.length/3;for(N.tabs[R]=[],O=0;O<M;O++)N.tabs[R].push(L(x,_+2*O))}else if(R=="tRNS")N.ctype==3?N.tabs[R]=C.readBytes(x,_,F):N.ctype==0?N.tabs[R]=L(x,_):N.ctype==2&&(N.tabs[R]=[L(x,_),L(x,_+2),L(x,_+4)]);else if(R=="gAMA")N.tabs[R]=C.readUint(x,_)/1e5;else if(R=="sRGB")N.tabs[R]=x[_];else if(R=="bKGD")N.ctype==0||N.ctype==4?N.tabs[R]=[L(x,_)]:N.ctype==2||N.ctype==6?N.tabs[R]=[L(x,_),L(x,_+2),L(x,_+4)]:N.ctype==3&&(N.tabs[R]=x[_]);else if(R=="IEND")break;_+=F,C.readUint(x,_),_+=4}var k;return Z!=0&&((k=N.frames[N.frames.length-1]).data=n(N,B.slice(0,Z),k.rect.width,k.rect.height)),N.data=n(N,U,N.width,N.height),delete N.compress,delete N.interlace,delete N.filter,N},toRGBA8:function(v){const x=v.width,_=v.height;if(v.tabs.acTL==null)return[e(v.data,x,_,v).buffer];const C=[];v.frames[0].data==null&&(v.frames[0].data=v.data);const L=x*_*4,I=new Uint8Array(L),N=new Uint8Array(L),U=new Uint8Array(L);for(let $=0;$<v.frames.length;$++){const Z=v.frames[$],G=Z.rect.x,O=Z.rect.y,w=Z.rect.width,E=Z.rect.height,D=e(Z.data,w,E,v);if($!=0)for(var B=0;B<L;B++)U[B]=I[B];if(Z.blend==0?g(D,w,E,I,x,_,G,O,0):Z.blend==1&&g(D,w,E,I,x,_,G,O,1),C.push(I.buffer.slice(0)),Z.dispose!=0){if(Z.dispose==1)g(N,w,E,I,x,_,G,O,0);else if(Z.dispose==2)for(B=0;B<L;B++)I[B]=U[B]}}return C},_paeth:h,_copyTile:g,_bin:t}})();(function(){const{_copyTile:t}=Zr,{_bin:e}=Zr,n=Zr._paeth;var i={table:(function(){const w=new Uint32Array(256);for(let E=0;E<256;E++){let D=E;for(let V=0;V<8;V++)1&D?D=3988292384^D>>>1:D>>>=1;w[E]=D}return w})(),update(w,E,D,V){for(let P=0;P<V;P++)w=i.table[255&(w^E[D+P])]^w>>>8;return w},crc:(w,E,D)=>4294967295^i.update(4294967295,w,E,D)};function a(w,E,D,V){E[D]+=w[0]*V>>4,E[D+1]+=w[1]*V>>4,E[D+2]+=w[2]*V>>4,E[D+3]+=w[3]*V>>4}function o(w){return Math.max(0,Math.min(255,w))}function c(w,E){const D=w[0]-E[0],V=w[1]-E[1],P=w[2]-E[2],A=w[3]-E[3];return D*D+V*V+P*P+A*A}function h(w,E,D,V,P,A,k){k==null&&(k=1);const F=V.length,R=[];for(var M=0;M<F;M++){const te=V[M];R.push([te>>>0&255,te>>>8&255,te>>>16&255,te>>>24&255])}for(M=0;M<F;M++){let te=4294967295;for(var Y=0,ee=0;ee<F;ee++){var se=c(R[M],R[ee]);ee!=M&&se<te&&(te=se,Y=ee)}}const Q=new Uint32Array(P.buffer),W=new Int16Array(E*D*4),re=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(M=0;M<re.length;M++)re[M]=255*((re[M]+.5)/16-.5);for(let te=0;te<D;te++)for(let ge=0;ge<E;ge++){var K;M=4*(te*E+ge),k!=2?K=[o(w[M]+W[M]),o(w[M+1]+W[M+1]),o(w[M+2]+W[M+2]),o(w[M+3]+W[M+3])]:(se=re[4*(3&te)+(3&ge)],K=[o(w[M]+se),o(w[M+1]+se),o(w[M+2]+se),o(w[M+3]+se)]),Y=0;let ve=16777215;for(ee=0;ee<F;ee++){const qe=c(K,R[ee]);qe<ve&&(ve=qe,Y=ee)}const Re=R[Y],Ce=[K[0]-Re[0],K[1]-Re[1],K[2]-Re[2],K[3]-Re[3]];k==1&&(ge!=E-1&&a(Ce,W,M+4,7),te!=D-1&&(ge!=0&&a(Ce,W,M+4*E-4,3),a(Ce,W,M+4*E,5),ge!=E-1&&a(Ce,W,M+4*E+4,1))),A[M>>2]=Y,Q[M>>2]=V[Y]}}function f(w,E,D,V,P){P==null&&(P={});const{crc:A}=i,k=e.writeUint,F=e.writeUshort,R=e.writeASCII;let M=8;const Y=w.frames.length>1;let ee,se=!1,Q=33+(Y?20:0);if(P.sRGB!=null&&(Q+=13),P.pHYs!=null&&(Q+=21),P.iCCP!=null&&(ee=pako.deflate(P.iCCP),Q+=21+ee.length+4),w.ctype==3){for(var W=w.plte.length,re=0;re<W;re++)w.plte[re]>>>24!=255&&(se=!0);Q+=8+3*W+4+(se?8+1*W+4:0)}for(var K=0;K<w.frames.length;K++)Y&&(Q+=38),Q+=(Re=w.frames[K]).cimg.length+12,K!=0&&(Q+=4);Q+=12;const te=new Uint8Array(Q),ge=[137,80,78,71,13,10,26,10];for(re=0;re<8;re++)te[re]=ge[re];if(k(te,M,13),M+=4,R(te,M,"IHDR"),M+=4,k(te,M,E),M+=4,k(te,M,D),M+=4,te[M]=w.depth,M++,te[M]=w.ctype,M++,te[M]=0,M++,te[M]=0,M++,te[M]=0,M++,k(te,M,A(te,M-17,17)),M+=4,P.sRGB!=null&&(k(te,M,1),M+=4,R(te,M,"sRGB"),M+=4,te[M]=P.sRGB,M++,k(te,M,A(te,M-5,5)),M+=4),P.iCCP!=null){const Ce=13+ee.length;k(te,M,Ce),M+=4,R(te,M,"iCCP"),M+=4,R(te,M,"ICC profile"),M+=11,M+=2,te.set(ee,M),M+=ee.length,k(te,M,A(te,M-(Ce+4),Ce+4)),M+=4}if(P.pHYs!=null&&(k(te,M,9),M+=4,R(te,M,"pHYs"),M+=4,k(te,M,P.pHYs[0]),M+=4,k(te,M,P.pHYs[1]),M+=4,te[M]=P.pHYs[2],M++,k(te,M,A(te,M-13,13)),M+=4),Y&&(k(te,M,8),M+=4,R(te,M,"acTL"),M+=4,k(te,M,w.frames.length),M+=4,k(te,M,P.loop!=null?P.loop:0),M+=4,k(te,M,A(te,M-12,12)),M+=4),w.ctype==3){for(k(te,M,3*(W=w.plte.length)),M+=4,R(te,M,"PLTE"),M+=4,re=0;re<W;re++){const Ce=3*re,qe=w.plte[re],tt=255&qe,it=qe>>>8&255,Kn=qe>>>16&255;te[M+Ce+0]=tt,te[M+Ce+1]=it,te[M+Ce+2]=Kn}if(M+=3*W,k(te,M,A(te,M-3*W-4,3*W+4)),M+=4,se){for(k(te,M,W),M+=4,R(te,M,"tRNS"),M+=4,re=0;re<W;re++)te[M+re]=w.plte[re]>>>24&255;M+=W,k(te,M,A(te,M-W-4,W+4)),M+=4}}let ve=0;for(K=0;K<w.frames.length;K++){var Re=w.frames[K];Y&&(k(te,M,26),M+=4,R(te,M,"fcTL"),M+=4,k(te,M,ve++),M+=4,k(te,M,Re.rect.width),M+=4,k(te,M,Re.rect.height),M+=4,k(te,M,Re.rect.x),M+=4,k(te,M,Re.rect.y),M+=4,F(te,M,V[K]),M+=2,F(te,M,1e3),M+=2,te[M]=Re.dispose,M++,te[M]=Re.blend,M++,k(te,M,A(te,M-30,30)),M+=4);const Ce=Re.cimg;k(te,M,(W=Ce.length)+(K==0?0:4)),M+=4;const qe=M;R(te,M,K==0?"IDAT":"fdAT"),M+=4,K!=0&&(k(te,M,ve++),M+=4),te.set(Ce,M),M+=W,k(te,M,A(te,qe,M-qe)),M+=4}return k(te,M,0),M+=4,R(te,M,"IEND"),M+=4,k(te,M,A(te,M-4,4)),M+=4,te.buffer}function g(w,E,D){for(let V=0;V<w.frames.length;V++){const P=w.frames[V];P.rect.width;const A=P.rect.height,k=new Uint8Array(A*P.bpl+A);P.cimg=_(P.img,A,P.bpp,P.bpl,k,E,D)}}function p(w,E,D,V,P){const A=P[0],k=P[1],F=P[2],R=P[3],M=P[4],Y=P[5];let ee=6,se=8,Q=255;for(var W=0;W<w.length;W++){const jt=new Uint8Array(w[W]);for(var re=jt.length,K=0;K<re;K+=4)Q&=jt[K+3]}const te=Q!=255,ge=(function(lt,st,He,Ze,ut,_n){const Et=[];for(var ze=0;ze<lt.length;ze++){const Qt=new Uint8Array(lt[ze]),Mn=new Uint32Array(Qt.buffer);var Bt;let wn=0,qt=0,gt=st,Yt=He,St=Ze?1:0;if(ze!=0){const Co=_n||Ze||ze==1||Et[ze-2].dispose!=0?1:2;let ci=0,Ca=1e9;for(let Dn=0;Dn<Co;Dn++){var Qn=new Uint8Array(lt[ze-1-Dn]);const Oi=new Uint32Array(lt[ze-1-Dn]);let dt=st,cn=He,Tn=-1,En=-1;for(let xr=0;xr<He;xr++)for(let fn=0;fn<st;fn++)Mn[At=xr*st+fn]!=Oi[At]&&(fn<dt&&(dt=fn),fn>Tn&&(Tn=fn),xr<cn&&(cn=xr),xr>En&&(En=xr));Tn==-1&&(dt=cn=Tn=En=0),ut&&((1&dt)==1&&dt--,(1&cn)==1&&cn--);const No=(Tn-dt+1)*(En-cn+1);No<Ca&&(Ca=No,ci=Dn,wn=dt,qt=cn,gt=Tn-dt+1,Yt=En-cn+1)}Qn=new Uint8Array(lt[ze-1-ci]),ci==1&&(Et[ze-1].dispose=2),Bt=new Uint8Array(gt*Yt*4),t(Qn,st,He,Bt,gt,Yt,-wn,-qt,0),St=t(Qt,st,He,Bt,gt,Yt,-wn,-qt,3)?1:0,St==1?x(Qt,st,He,Bt,{x:wn,y:qt,width:gt,height:Yt}):t(Qt,st,He,Bt,gt,Yt,-wn,-qt,0)}else Bt=Qt.slice(0);Et.push({rect:{x:wn,y:qt,width:gt,height:Yt},img:Bt,blend:St,dispose:0})}if(Ze)for(ze=0;ze<Et.length;ze++){if((Fr=Et[ze]).blend==1)continue;const Qt=Fr.rect,Mn=Et[ze-1].rect,wn=Math.min(Qt.x,Mn.x),qt=Math.min(Qt.y,Mn.y),gt={x:wn,y:qt,width:Math.max(Qt.x+Qt.width,Mn.x+Mn.width)-wn,height:Math.max(Qt.y+Qt.height,Mn.y+Mn.height)-qt};Et[ze-1].dispose=1,ze-1!=0&&v(lt,st,He,Et,ze-1,gt,ut),v(lt,st,He,Et,ze,gt,ut)}let li=0;if(lt.length!=1)for(var At=0;At<Et.length;At++){var Fr;li+=(Fr=Et[At]).rect.width*Fr.rect.height}return Et})(w,E,D,A,k,F),ve={},Re=[],Ce=[];if(V!=0){const jt=[];for(K=0;K<ge.length;K++)jt.push(ge[K].img.buffer);const lt=(function(ut){let _n=0;for(var Et=0;Et<ut.length;Et++)_n+=ut[Et].byteLength;const ze=new Uint8Array(_n);let Bt=0;for(Et=0;Et<ut.length;Et++){const Qn=new Uint8Array(ut[Et]),li=Qn.length;for(let At=0;At<li;At+=4){let Fr=Qn[At],Qt=Qn[At+1],Mn=Qn[At+2];const wn=Qn[At+3];wn==0&&(Fr=Qt=Mn=0),ze[Bt+At]=Fr,ze[Bt+At+1]=Qt,ze[Bt+At+2]=Mn,ze[Bt+At+3]=wn}Bt+=li}return ze.buffer})(jt),st=L(lt,V);for(K=0;K<st.plte.length;K++)Re.push(st.plte[K].est.rgba);let He=0;for(K=0;K<ge.length;K++){const Ze=(tt=ge[K]).img.length;var qe=new Uint8Array(st.inds.buffer,He>>2,Ze>>2);Ce.push(qe);const ut=new Uint8Array(st.abuf,He,Ze);Y&&h(tt.img,tt.rect.width,tt.rect.height,Re,ut,qe),tt.img.set(ut),He+=Ze}}else for(W=0;W<ge.length;W++){var tt=ge[W];const jt=new Uint32Array(tt.img.buffer);var it=tt.rect.width;for(re=jt.length,qe=new Uint8Array(re),Ce.push(qe),K=0;K<re;K++){const lt=jt[K];if(K!=0&&lt==jt[K-1])qe[K]=qe[K-1];else if(K>it&&lt==jt[K-it])qe[K]=qe[K-it];else{let st=ve[lt];if(st==null&&(ve[lt]=st=Re.length,Re.push(lt),Re.length>=300))break;qe[K]=st}}}const Kn=Re.length;for(Kn<=256&&M==0&&(se=Kn<=2?1:Kn<=4?2:Kn<=16?4:8,se=Math.max(se,R)),W=0;W<ge.length;W++){(tt=ge[W]).rect.x,tt.rect.y,it=tt.rect.width;const jt=tt.rect.height;let lt=tt.img;new Uint32Array(lt.buffer);let st=4*it,He=4;if(Kn<=256&&M==0){st=Math.ceil(se*it/8);var Ft=new Uint8Array(st*jt);const Ze=Ce[W];for(let ut=0;ut<jt;ut++){K=ut*st;const _n=ut*it;if(se==8)for(var pt=0;pt<it;pt++)Ft[K+pt]=Ze[_n+pt];else if(se==4)for(pt=0;pt<it;pt++)Ft[K+(pt>>1)]|=Ze[_n+pt]<<4-4*(1&pt);else if(se==2)for(pt=0;pt<it;pt++)Ft[K+(pt>>2)]|=Ze[_n+pt]<<6-2*(3&pt);else if(se==1)for(pt=0;pt<it;pt++)Ft[K+(pt>>3)]|=Ze[_n+pt]<<7-1*(7&pt)}lt=Ft,ee=3,He=1}else if(te==0&&ge.length==1){Ft=new Uint8Array(it*jt*3);const Ze=it*jt;for(K=0;K<Ze;K++){const ut=3*K,_n=4*K;Ft[ut]=lt[_n],Ft[ut+1]=lt[_n+1],Ft[ut+2]=lt[_n+2]}lt=Ft,ee=2,He=3,st=3*it}tt.img=lt,tt.bpl=st,tt.bpp=He}return{ctype:ee,depth:se,plte:Re,frames:ge}}function v(w,E,D,V,P,A,k){const F=Uint8Array,R=Uint32Array,M=new F(w[P-1]),Y=new R(w[P-1]),ee=P+1<w.length?new F(w[P+1]):null,se=new F(w[P]),Q=new R(se.buffer);let W=E,re=D,K=-1,te=-1;for(let ve=0;ve<A.height;ve++)for(let Re=0;Re<A.width;Re++){const Ce=A.x+Re,qe=A.y+ve,tt=qe*E+Ce,it=Q[tt];it==0||V[P-1].dispose==0&&Y[tt]==it&&(ee==null||ee[4*tt+3]!=0)||(Ce<W&&(W=Ce),Ce>K&&(K=Ce),qe<re&&(re=qe),qe>te&&(te=qe))}K==-1&&(W=re=K=te=0),k&&((1&W)==1&&W--,(1&re)==1&&re--),A={x:W,y:re,width:K-W+1,height:te-re+1};const ge=V[P];ge.rect=A,ge.blend=1,ge.img=new Uint8Array(A.width*A.height*4),V[P-1].dispose==0?(t(M,E,D,ge.img,A.width,A.height,-A.x,-A.y,0),x(se,E,D,ge.img,A)):t(se,E,D,ge.img,A.width,A.height,-A.x,-A.y,0)}function x(w,E,D,V,P){t(w,E,D,V,P.width,P.height,-P.x,-P.y,2)}function _(w,E,D,V,P,A,k){const F=[];let R,M=[0,1,2,3,4];A!=-1?M=[A]:(E*V>5e5||D==1)&&(M=[0]),k&&(R={level:0});const Y=YU;for(var ee=0;ee<M.length;ee++){for(let W=0;W<E;W++)C(P,w,W,V,D,M[ee]);F.push(Y.deflate(P,R))}let se,Q=1e9;for(ee=0;ee<F.length;ee++)F[ee].length<Q&&(se=ee,Q=F[ee].length);return F[se]}function C(w,E,D,V,P,A){const k=D*V;let F=k+D;if(w[F]=A,F++,A==0)if(V<500)for(var R=0;R<V;R++)w[F+R]=E[k+R];else w.set(new Uint8Array(E.buffer,k,V),F);else if(A==1){for(R=0;R<P;R++)w[F+R]=E[k+R];for(R=P;R<V;R++)w[F+R]=E[k+R]-E[k+R-P]+256&255}else if(D==0){for(R=0;R<P;R++)w[F+R]=E[k+R];if(A==2)for(R=P;R<V;R++)w[F+R]=E[k+R];if(A==3)for(R=P;R<V;R++)w[F+R]=E[k+R]-(E[k+R-P]>>1)+256&255;if(A==4)for(R=P;R<V;R++)w[F+R]=E[k+R]-n(E[k+R-P],0,0)+256&255}else{if(A==2)for(R=0;R<V;R++)w[F+R]=E[k+R]+256-E[k+R-V]&255;if(A==3){for(R=0;R<P;R++)w[F+R]=E[k+R]+256-(E[k+R-V]>>1)&255;for(R=P;R<V;R++)w[F+R]=E[k+R]+256-(E[k+R-V]+E[k+R-P]>>1)&255}if(A==4){for(R=0;R<P;R++)w[F+R]=E[k+R]+256-n(0,E[k+R-V],0)&255;for(R=P;R<V;R++)w[F+R]=E[k+R]+256-n(E[k+R-P],E[k+R-V],E[k+R-P-V])&255}}}function L(w,E){const D=new Uint8Array(w),V=D.slice(0),P=new Uint32Array(V.buffer),A=I(V,E),k=A[0],F=A[1],R=D.length,M=new Uint8Array(R>>2);let Y;if(D.length<2e7)for(var ee=0;ee<R;ee+=4)Y=N(k,se=D[ee]*(1/255),Q=D[ee+1]*(1/255),W=D[ee+2]*(1/255),re=D[ee+3]*(1/255)),M[ee>>2]=Y.ind,P[ee>>2]=Y.est.rgba;else for(ee=0;ee<R;ee+=4){var se=D[ee]*.00392156862745098,Q=D[ee+1]*(1/255),W=D[ee+2]*(1/255),re=D[ee+3]*(1/255);for(Y=k;Y.left;)Y=U(Y.est,se,Q,W,re)<=0?Y.left:Y.right;M[ee>>2]=Y.ind,P[ee>>2]=Y.est.rgba}return{abuf:V.buffer,inds:M,plte:F}}function I(w,E,D){D==null&&(D=1e-4);const V=new Uint32Array(w.buffer),P={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=Z(w,P.i0,P.i1),P.est=G(P.bst);const A=[P];for(;A.length<E;){let F=0,R=0;for(var k=0;k<A.length;k++)A[k].est.L>F&&(F=A[k].est.L,R=k);if(F<D)break;const M=A[R],Y=B(w,V,M.i0,M.i1,M.est.e,M.est.eMq255);if(M.i0>=Y||M.i1<=Y){M.est.L=0;continue}const ee={i0:M.i0,i1:Y,bst:null,est:null,tdst:0,left:null,right:null};ee.bst=Z(w,ee.i0,ee.i1),ee.est=G(ee.bst);const se={i0:Y,i1:M.i1,bst:null,est:null,tdst:0,left:null,right:null};for(se.bst={R:[],m:[],N:M.bst.N-ee.bst.N},k=0;k<16;k++)se.bst.R[k]=M.bst.R[k]-ee.bst.R[k];for(k=0;k<4;k++)se.bst.m[k]=M.bst.m[k]-ee.bst.m[k];se.est=G(se.bst),M.left=ee,M.right=se,A[R]=ee,A.push(se)}for(A.sort(((F,R)=>R.bst.N-F.bst.N)),k=0;k<A.length;k++)A[k].ind=k;return[P,A]}function N(w,E,D,V,P){if(w.left==null)return w.tdst=(function(ee,se,Q,W,re){const K=se-ee[0],te=Q-ee[1],ge=W-ee[2],ve=re-ee[3];return K*K+te*te+ge*ge+ve*ve})(w.est.q,E,D,V,P),w;const A=U(w.est,E,D,V,P);let k=w.left,F=w.right;A>0&&(k=w.right,F=w.left);const R=N(k,E,D,V,P);if(R.tdst<=A*A)return R;const M=N(F,E,D,V,P);return M.tdst<R.tdst?M:R}function U(w,E,D,V,P){const{e:A}=w;return A[0]*E+A[1]*D+A[2]*V+A[3]*P-w.eMq}function B(w,E,D,V,P,A){for(V-=4;D<V;){for(;$(w,D,P)<=A;)D+=4;for(;$(w,V,P)>A;)V-=4;if(D>=V)break;const k=E[D>>2];E[D>>2]=E[V>>2],E[V>>2]=k,D+=4,V-=4}for(;$(w,D,P)>A;)D-=4;return D+4}function $(w,E,D){return w[E]*D[0]+w[E+1]*D[1]+w[E+2]*D[2]+w[E+3]*D[3]}function Z(w,E,D){const V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],A=D-E>>2;for(let k=E;k<D;k+=4){const F=w[k]*.00392156862745098,R=w[k+1]*(1/255),M=w[k+2]*(1/255),Y=w[k+3]*(1/255);P[0]+=F,P[1]+=R,P[2]+=M,P[3]+=Y,V[0]+=F*F,V[1]+=F*R,V[2]+=F*M,V[3]+=F*Y,V[5]+=R*R,V[6]+=R*M,V[7]+=R*Y,V[10]+=M*M,V[11]+=M*Y,V[15]+=Y*Y}return V[4]=V[1],V[8]=V[2],V[9]=V[6],V[12]=V[3],V[13]=V[7],V[14]=V[11],{R:V,m:P,N:A}}function G(w){const{R:E}=w,{m:D}=w,{N:V}=w,P=D[0],A=D[1],k=D[2],F=D[3],R=V==0?0:1/V,M=[E[0]-P*P*R,E[1]-P*A*R,E[2]-P*k*R,E[3]-P*F*R,E[4]-A*P*R,E[5]-A*A*R,E[6]-A*k*R,E[7]-A*F*R,E[8]-k*P*R,E[9]-k*A*R,E[10]-k*k*R,E[11]-k*F*R,E[12]-F*P*R,E[13]-F*A*R,E[14]-F*k*R,E[15]-F*F*R],Y=M,ee=O;let se=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,W=0;if(V!=0)for(let K=0;K<16&&(se=ee.multVec(Y,se),W=Math.sqrt(ee.dot(se,se)),se=ee.sml(1/W,se),!(K!=0&&Math.abs(W-Q)<1e-9));K++)Q=W;const re=[P*R,A*R,k*R,F*R];return{Cov:M,q:re,e:se,L:Q,eMq255:ee.dot(ee.sml(255,re),se),eMq:ee.dot(se,re),rgba:(Math.round(255*re[3])<<24|Math.round(255*re[2])<<16|Math.round(255*re[1])<<8|Math.round(255*re[0])<<0)>>>0}}var O={multVec:(w,E)=>[w[0]*E[0]+w[1]*E[1]+w[2]*E[2]+w[3]*E[3],w[4]*E[0]+w[5]*E[1]+w[6]*E[2]+w[7]*E[3],w[8]*E[0]+w[9]*E[1]+w[10]*E[2]+w[11]*E[3],w[12]*E[0]+w[13]*E[1]+w[14]*E[2]+w[15]*E[3]],dot:(w,E)=>w[0]*E[0]+w[1]*E[1]+w[2]*E[2]+w[3]*E[3],sml:(w,E)=>[w*E[0],w*E[1],w*E[2],w*E[3]]};Zr.encode=function(E,D,V,P,A,k,F){P==null&&(P=0),F==null&&(F=!1);const R=p(E,D,V,P,[!1,!1,!1,0,F,!1]);return g(R,-1),f(R,D,V,A,k)},Zr.encodeLL=function(E,D,V,P,A,k,F,R){const M={ctype:0+(P==1?0:2)+(A==0?0:4),depth:k,frames:[]},Y=(P+A)*k,ee=Y*D;for(let se=0;se<E.length;se++)M.frames.push({rect:{x:0,y:0,width:D,height:V},img:new Uint8Array(E[se]),blend:0,dispose:1,bpp:Math.ceil(Y/8),bpl:Math.ceil(ee/8)});return g(M,0,!0),f(M,D,V,F,R)},Zr.encode.compress=p,Zr.encode.dither=h,Zr.quantize=L,Zr.quantize.getKDtree=I,Zr.quantize.getNearest=N})();const U4={toArrayBuffer(t,e){const n=t.width,i=t.height,a=n<<2,o=t.getContext("2d").getImageData(0,0,n,i),c=new Uint32Array(o.data.buffer),h=(32*n+31)/32<<2,f=h*i,g=122+f,p=new ArrayBuffer(g),v=new DataView(p),x=1<<20;let _,C,L,I,N=x,U=0,B=0,$=0;function Z(w){v.setUint16(B,w,!0),B+=2}function G(w){v.setUint32(B,w,!0),B+=4}function O(w){B+=w}Z(19778),G(g),O(4),G(122),G(108),G(n),G(-i>>>0),Z(1),Z(32),G(3),G(f),G(2835),G(2835),O(8),G(16711680),G(65280),G(255),G(4278190080),G(1466527264),(function w(){for(;U<i&&N>0;){for(I=122+U*h,_=0;_<a;)N--,C=c[$++],L=C>>>24,v.setUint32(I+_,C<<8|L),_+=4;U++}$<c.length?(N=x,setTimeout(w,U4._dly)):e(p)})()},toBlob(t,e){this.toArrayBuffer(t,(n=>{e(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var ir={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},XU={[ir.CHROME]:16384,[ir.FIREFOX]:11180,[ir.DESKTOP_SAFARI]:16384,[ir.IE]:8192,[ir.IOS]:4096,[ir.ETC]:8192};const rv=typeof window<"u",z4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,$f=rv&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ZU=(rv||z4)&&($f&&$f.getOriginalSymbol(window,"File")||typeof File<"u"&&File),F4=(rv||z4)&&($f&&$f.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function iv(t,e,n=Date.now()){return new Promise((i=>{const a=t.split(","),o=a[0].match(/:(.*?);/)[1],c=globalThis.atob(a[1]);let h=c.length;const f=new Uint8Array(h);for(;h--;)f[h]=c.charCodeAt(h);const g=new Blob([f],{type:o});g.name=e,g.lastModified=n,i(g)}))}function B4(t){return new Promise(((e,n)=>{const i=new F4;i.onload=()=>e(i.result),i.onerror=a=>n(a),i.readAsDataURL(t)}))}function q4(t){return new Promise(((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=a=>n(a),i.src=t}))}function uo(){if(uo.cachedResult!==void 0)return uo.cachedResult;let t=ir.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=ir.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=ir.IOS:/Safari/i.test(e)?t=ir.DESKTOP_SAFARI:/Firefox/i.test(e)?t=ir.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=ir.IE),uo.cachedResult=t,uo.cachedResult}function H4(t,e){const n=uo(),i=XU[n];let a=t,o=e,c=a*o;const h=a>o?o/a:a/o;for(;c>i*i;){const f=(i+a)/2,g=(i+o)/2;f<g?(o=g,a=g*h):(o=f*h,a=f),c=a*o}return{width:a,height:o}}function Em(t,e){let n,i;try{if(n=new OffscreenCanvas(t,e),i=n.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),i=n.getContext("2d")}return n.width=t,n.height=e,[n,i]}function G4(t,e){const{width:n,height:i}=H4(t.width,t.height),[a,o]=Em(n,i);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,a.width,a.height)),o.drawImage(t,0,0,a.width,a.height),a}function gf(){return gf.cachedResult!==void 0||(gf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),gf.cachedResult}function Wf(t,e={}){return new Promise((function(n,i){let a,o;var c=function(){try{return o=G4(a,e.fileType||t.type),n([a,o])}catch(f){return i(f)}},h=function(f){try{var g=function(p){try{throw p}catch(v){return i(v)}};try{let p;return B4(t).then((function(v){try{return p=v,q4(p).then((function(x){try{return a=x,(function(){try{return c()}catch(_){return i(_)}})()}catch(_){return g(_)}}),g)}catch(x){return g(x)}}),g)}catch(p){g(p)}}catch(p){return i(p)}};try{if(gf()||[ir.DESKTOP_SAFARI,ir.MOBILE_SAFARI].includes(uo()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(f){try{return a=f,c()}catch{return h()}}),h)}catch{h()}}))}function Kf(t,e,n,i,a=1){return new Promise((function(o,c){let h;if(e==="image/png"){let v,x,_;return v=t.getContext("2d"),{data:x}=v.getImageData(0,0,t.width,t.height),_=Zr.encode([x.buffer],t.width,t.height,4096*a),h=new Blob([_],{type:e}),h.name=n,h.lastModified=i,f.call(this)}{let v=function(){return f.call(this)};var g=v;if(e==="image/bmp")return new Promise((x=>U4.toBlob(t,x))).then((function(x){try{return h=x,h.name=n,h.lastModified=i,v.call(this)}catch(_){return c(_)}}).bind(this),c);{let x=function(){return v.call(this)};var p=x;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:a}).then((function(_){try{return h=_,h.name=n,h.lastModified=i,x.call(this)}catch(C){return c(C)}}).bind(this),c);{let _;return _=t.toDataURL(e,a),iv(_,n,i).then((function(C){try{return h=C,x.call(this)}catch(L){return c(L)}}).bind(this),c)}}}function f(){return o(h)}}))}function Ni(t){t.width=0,t.height=0}function Cl(){return new Promise((function(t,e){let n,i,a,o;return Cl.cachedResult!==void 0?t(Cl.cachedResult):iv("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(c){try{return n=c,Wf(n).then((function(h){try{return i=h[1],Kf(i,n.type,n.name,n.lastModified).then((function(f){try{return a=f,Ni(i),Wf(a).then((function(g){try{return o=g[0],Cl.cachedResult=o.width===1&&o.height===2,t(Cl.cachedResult)}catch(p){return e(p)}}),e)}catch(g){return e(g)}}),e)}catch(f){return e(f)}}),e)}catch(h){return e(h)}}),e)}))}function $4(t){return new Promise(((e,n)=>{const i=new F4;i.onload=a=>{const o=new DataView(a.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const c=o.byteLength;let h=2;for(;h<c;){if(o.getUint16(h+2,!1)<=8)return e(-1);const f=o.getUint16(h,!1);if(h+=2,f==65505){if(o.getUint32(h+=2,!1)!=1165519206)return e(-1);const g=o.getUint16(h+=6,!1)==18761;h+=o.getUint32(h+4,g);const p=o.getUint16(h,g);h+=2;for(let v=0;v<p;v++)if(o.getUint16(h+12*v,g)==274)return e(o.getUint16(h+12*v+8,g))}else{if((65280&f)!=65280)break;h+=o.getUint16(h,!1)}}return e(-1)},i.onerror=a=>n(a),i.readAsArrayBuffer(t)}))}function W4(t,e){const{width:n}=t,{height:i}=t,{maxWidthOrHeight:a}=e;let o,c=t;return isFinite(a)&&(n>a||i>a)&&([c,o]=Em(n,i),n>i?(c.width=a,c.height=i/n*a):(c.width=n/i*a,c.height=a),o.drawImage(t,0,0,c.width,c.height),Ni(t)),c}function K4(t,e){const{width:n}=t,{height:i}=t,[a,o]=Em(n,i);switch(e>4&&e<9?(a.width=i,a.height=n):(a.width=n,a.height=i),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,i);break;case 4:o.transform(1,0,0,-1,0,i);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i,0);break;case 7:o.transform(0,-1,-1,0,i,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,i),Ni(t),a}function UT(t,e,n=0){return new Promise((function(i,a){let o,c,h,f,g,p,v,x,_,C,L,I,N,U,B,$,Z,G,O,w;function E(V=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=V,e.onProgress(Math.min(o,100))}function D(V){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(V,o),100),e.onProgress(o)}return o=n,c=e.maxIteration||10,h=1024*e.maxSizeMB*1024,E(),Wf(t,e).then((function(V){try{return[,f]=V,E(),g=W4(f,e),E(),new Promise((function(P,A){var k;if(!(k=e.exifOrientation))return $4(t).then((function(R){try{return k=R,F.call(this)}catch(M){return A(M)}}).bind(this),A);function F(){return P(k)}return F.call(this)})).then((function(P){try{return p=P,E(),Cl().then((function(A){try{return v=A?g:K4(g,p),E(),x=e.initialQuality||1,_=e.fileType||t.type,Kf(v,_,t.name,t.lastModified,x).then((function(k){try{{let Y=function(){if(c--&&(B>h||B>N)){let se,Q;return se=w?.95*O.width:O.width,Q=w?.95*O.height:O.height,[Z,G]=Em(se,Q),G.drawImage(O,0,0,se,Q),x*=_==="image/png"?.85:.95,Kf(Z,_,t.name,t.lastModified,x).then((function(W){try{return $=W,Ni(O),O=Z,B=$.size,D(Math.min(99,Math.floor((U-B)/(U-h)*100))),Y}catch(re){return a(re)}}),a)}return[1]},ee=function(){return Ni(O),Ni(Z),Ni(g),Ni(v),Ni(f),D(100),i($)};var R=Y,M=ee;if(C=k,E(),L=C.size>h,I=C.size>t.size,!L&&!I)return D(100),i(C);var F;return N=t.size,U=C.size,B=U,O=v,w=!e.alwaysKeepResolution&&L,(F=(function(se){for(;se;){if(se.then)return void se.then(F,a);try{if(se.pop){if(se.length)return se.pop()?ee.call(this):se;se=Y}else se=se.call(this)}catch(Q){return a(Q)}}}).bind(this))(Y)}}catch(Y){return a(Y)}}).bind(this),a)}catch(k){return a(k)}}).bind(this),a)}catch(A){return a(A)}}).bind(this),a)}catch(P){return a(P)}}).bind(this),a)}))}const JU=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let l0;function ez(t,e){return new Promise(((n,i)=>{l0||(l0=(function(c){const h=[];return h.push(c),URL.createObjectURL(new Blob(h))})(JU));const a=new Worker(l0);a.addEventListener("message",(function(c){if(e.signal&&e.signal.aborted)a.terminate();else if(c.data.progress===void 0){if(c.data.error)return i(new Error(c.data.error)),void a.terminate();n(c.data.file),a.terminate()}else e.onProgress(c.data.progress)})),a.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",(()=>{i(e.signal.reason),a.terminate()})),a.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function Ln(t,e){return new Promise((function(n,i){let a,o,c,h,f,g;if(a={...e},c=0,{onProgress:h}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=_=>{c=_,typeof h=="function"&&h(c)},!(t instanceof Blob||t instanceof ZU))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return i(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||g)return UT(t,a).then((function(_){try{return o=_,x.call(this)}catch(C){return i(C)}}).bind(this),i);var p=(function(){try{return x.call(this)}catch(_){return i(_)}}).bind(this),v=function(_){try{return UT(t,a).then((function(C){try{return o=C,p()}catch(L){return i(L)}}),i)}catch(C){return i(C)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ez(t,a).then((function(_){try{return o=_,p()}catch{return v()}}),v)}catch{v()}function x(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{a.preserveExif&&t.type==="image/jpeg"&&(!a.fileType||a.fileType&&a.fileType===t.type)&&(o=L4(t,o))}catch{}return n(o)}}))}Ln.getDataUrlFromFile=B4,Ln.getFilefromDataUrl=iv,Ln.loadImage=q4,Ln.drawImageInCanvas=G4,Ln.drawFileInCanvas=Wf,Ln.canvasToFile=Kf,Ln.getExifOrientation=$4,Ln.handleMaxWidthOrHeight=W4,Ln.followExifOrientation=K4,Ln.cleanupCanvasMemory=Ni,Ln.isAutoOrientationInBrowser=Cl,Ln.approximateBelowMaximumCanvasSizeOfBrowser=H4,Ln.copyExifWithoutOrientation=L4,Ln.getBrowserName=uo,Ln.version="2.0.2";const tz=async(t,e)=>{try{const i=await(await fetch(t)).blob(),a=new File([i],"image.jpg",{type:e}),c=await Ln(a,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0});return new Promise(h=>{const f=new FileReader;f.onloadend=()=>h(f.result),f.readAsDataURL(c)})}catch(n){return console.error("Compression failed, using original:",n),t}};function nz({isOpen:t,onClose:e,onRecipeExtracted:n}){const i=pd(),[a,o]=q.useState(null),[c,h]=q.useState(null),[f,g]=q.useState(null),[p,v]=q.useState("image/jpeg"),[x,_]=q.useState(""),[C,L]=q.useState(!1),[I,N]=q.useState(null),U=q.useRef(null),B=q.useRef(null),$=q.useRef(null),Z=q.useRef(null),G=q.useCallback(()=>{o(null),h(null),g(null),N(null),L(!1),v("image/jpeg"),_(""),Z.current&&(Z.current.getTracks().forEach(k=>k.stop()),Z.current=null)},[]),O=q.useCallback(()=>{G(),e()},[G,e]),w=q.useCallback(async()=>{try{o("camera"),N(null);const k=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});Z.current=k,B.current&&(B.current.srcObject=k)}catch{N("Impossible d'accder  la camra. Vrifiez les permissions."),o(null)}},[]),E=q.useCallback(()=>{if(!B.current||!$.current)return;const k=B.current,F=$.current;F.width=k.videoWidth,F.height=k.videoHeight,F.getContext("2d").drawImage(k,0,0);const M=F.toDataURL("image/jpeg",.9);h(M),g(M),Z.current&&(Z.current.getTracks().forEach(Y=>Y.stop()),Z.current=null)},[]),D=q.useCallback(k=>{const F=k.target.files?.[0];if(!F)return;if(!F.type.startsWith("image/")){N("Veuillez slectionner une image");return}if(F.size>10*1024*1024){N("L'image est trop volumineuse (max 10 Mo)");return}v(F.type);const R=new FileReader;R.onload=M=>{const Y=M.target?.result;h(Y),g(Y),o("file")},R.readAsDataURL(F)},[]),V=q.useCallback(async()=>{if(f){L(!0),N(null);try{const k=await tz(f,p),F=await fetch("/api/recipes/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageData:k,mimeType:"image/jpeg"})});if(!F.ok){const M=await F.json();throw new Error(M.error||"chec de l'analyse")}const R=await F.json();n(R),O()}catch(k){N(k.message||"Erreur lors de l'analyse de l'image")}finally{L(!1)}}},[f,p,n,O]),P=q.useCallback(()=>{h(null),g(null),N(null),a==="camera"&&w()},[a,w]),A=q.useCallback(async()=>{if(!x.trim()){N("Veuillez entrer une URL");return}try{new URL(x)}catch{N("L'URL n'est pas valide");return}L(!0),N(null);try{const k=await fetch("/api/recipes/scan-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:x.trim()})});if(!k.ok){const R=await k.json();throw new Error(R.error||"chec de l'analyse")}const F=await k.json();n(F),O()}catch(k){N(k.message||"Erreur lors de l'analyse de l'URL")}finally{L(!1)}},[x,n,O]);return t?d.jsx("div",{className:xe("fixed inset-0 z-[110]",i?"bg-background":"grid place-items-center bg-black/50 p-8"),children:d.jsxs("div",{className:xe("bg-card flex flex-col",i?"h-[100dvh] w-full overflow-hidden":"w-full max-w-lg max-h-[calc(100vh-100px)] rounded-2xl shadow-2xl border border-border"),children:[d.jsx("div",{className:"flex-shrink-0 border-b border-border p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-primary/20 to-amber-500/20",children:d.jsx(ss,{className:"h-5 w-5 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"font-bold text-foreground",children:"Scanner une recette"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"IA + OCR"})]})]}),d.jsx("button",{onClick:O,className:"rounded-full p-2 text-muted-foreground hover:bg-accent transition-colors","data-testid":"button-close-scanner",children:d.jsx(Wn,{size:20})})]})}),d.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto p-4",children:[!a&&!c&&d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("div",{className:"text-center py-6",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Comment capturer la recette ?"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Prenez une photo ou slectionnez une image existante"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[d.jsxs("button",{onClick:w,className:"flex items-center gap-4 p-4 rounded-2xl border-2 border-border hover:border-primary hover:bg-primary/5 transition-all text-left","data-testid":"button-use-camera",children:[d.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-blue-500/10",children:d.jsx(vf,{className:"h-7 w-7 text-blue-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-bold text-foreground",children:"Prendre une photo"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisez la camra de votre appareil"})]})]}),d.jsxs("button",{onClick:()=>U.current?.click(),className:"flex items-center gap-4 p-4 rounded-2xl border-2 border-border hover:border-primary hover:bg-primary/5 transition-all text-left","data-testid":"button-upload-file",children:[d.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-green-500/10",children:d.jsx(fE,{className:"h-7 w-7 text-green-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-bold text-foreground",children:"Choisir une image"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Slectionnez depuis votre galerie"})]})]}),d.jsx("input",{ref:U,type:"file",accept:"image/*",onChange:D,className:"hidden","data-testid":"input-file-scanner"}),d.jsxs("button",{onClick:()=>o("url"),className:"flex items-center gap-4 p-4 rounded-2xl border-2 border-border hover:border-primary hover:bg-primary/5 transition-all text-left","data-testid":"button-use-url",children:[d.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-purple-500/10",children:d.jsx(f0,{className:"h-7 w-7 text-purple-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-bold text-foreground",children:"Importer depuis un lien"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Collez l'URL d'une recette en ligne"})]})]})]}),d.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/30 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:d.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[d.jsx("strong",{children:" Conseils :"})," Pour de meilleurs rsultats, prenez une photo bien claire et lisible de la recette entire, ou collez le lien d'une recette."]})})]}),a==="url"&&d.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[d.jsxs("button",{onClick:()=>o(null),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-back-url",children:[d.jsx(Nu,{size:18}),d.jsx("span",{children:"Retour"})]}),d.jsxs("div",{className:"text-center py-4",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Importer depuis un lien"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Collez l'URL d'une page de recette"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"url",value:x,onChange:k=>_(k.target.value),placeholder:"https://exemple.com/recette...",className:"w-full px-4 py-3 pr-12 rounded-xl border-2 border-border bg-background text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none transition-colors","data-testid":"input-url"}),d.jsx(f0,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"})]}),I&&d.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-destructive/10 text-destructive",children:[d.jsx(h0,{size:18}),d.jsx("span",{className:"text-sm",children:I})]}),d.jsx("button",{onClick:A,disabled:C||!x.trim(),className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl bg-gradient-to-r from-primary to-amber-500 text-white font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:shadow-lg","data-testid":"button-analyze-url",children:C?d.jsxs(d.Fragment,{children:[d.jsx(m0,{className:"h-5 w-5 animate-spin"}),d.jsx("span",{children:"Analyse en cours..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(ss,{className:"h-5 w-5"}),d.jsx("span",{children:"Analyser avec l'IA"})]})})]}),d.jsx("div",{className:"bg-purple-50 dark:bg-purple-950/30 rounded-xl p-4 border border-purple-200 dark:border-purple-800",children:d.jsxs("p",{className:"text-sm text-purple-800 dark:text-purple-200",children:[d.jsx("strong",{children:" Astuce :"})," L'IA va extraire automatiquement le titre, les ingrdients et les tapes depuis la page web."]})})]}),a==="camera"&&!c&&d.jsxs("div",{className:"flex flex-col h-full animate-in fade-in",children:[d.jsxs("div",{className:xe("relative rounded-2xl overflow-hidden bg-black flex-1",i?"max-h-[60vh]":"aspect-[4/3]"),children:[d.jsx("video",{ref:B,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 border-4 border-white/30 rounded-2xl pointer-events-none"})]}),d.jsx("canvas",{ref:$,className:"hidden"})]}),c&&d.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[d.jsx("div",{className:"relative rounded-2xl overflow-hidden bg-black",children:d.jsx("img",{src:c,alt:"Aperu de la recette",className:"w-full h-auto max-h-[50vh] object-contain"})}),C&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(m0,{className:"h-12 w-12 text-primary animate-spin"}),d.jsx(ss,{className:"h-5 w-5 text-amber-500 absolute -top-1 -right-1 animate-pulse"})]}),d.jsx("p",{className:"text-foreground font-medium",children:"Analyse en cours..."}),d.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"L'IA lit et structure votre recette"})]})]}),I&&d.jsxs("div",{className:"mt-4 bg-red-50 dark:bg-red-950/30 rounded-xl p-4 border border-red-200 dark:border-red-800 flex items-start gap-3",children:[d.jsx(h0,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:I}),d.jsx("button",{onClick:P,className:"text-sm text-red-600 dark:text-red-400 underline mt-1",children:"Ressayer"})]})]})]}),d.jsx("div",{className:xe("flex-shrink-0 border-t border-border p-4 bg-card",i&&"pb-[calc(1rem+env(safe-area-inset-bottom))]"),children:d.jsxs("div",{className:"flex gap-3",children:[a==="camera"&&!c&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:G,className:"flex items-center justify-center gap-2 rounded-xl border-2 border-border px-4 py-3 font-medium text-foreground hover:bg-accent transition-colors",children:"Annuler"}),d.jsxs("button",{onClick:E,className:"flex-1 flex items-center justify-center gap-2 rounded-xl bg-primary px-4 py-3 font-bold text-primary-foreground hover:bg-primary/90 transition-colors","data-testid":"button-capture-photo",children:[d.jsx(vf,{size:20}),"Capturer"]})]}),c&&!C&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:P,className:"flex items-center justify-center gap-2 rounded-xl border-2 border-border px-4 py-3 font-medium text-foreground hover:bg-accent transition-colors",children:[d.jsx(mR,{size:18}),"Reprendre"]}),d.jsxs("button",{onClick:V,className:"flex-1 flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-primary to-amber-500 px-4 py-3 font-bold text-white hover:opacity-90 transition-opacity","data-testid":"button-analyze-recipe",children:[d.jsx(ss,{size:18}),"Analyser avec l'IA"]})]})]})})]})}):null}const zT=[{value:"entree",label:"Entre",emoji:""},{value:"plat",label:"Plat principal",emoji:""},{value:"dessert",label:"Dessert",emoji:""},{value:"soupe",label:"Soupe",emoji:""},{value:"salade",label:"Salade",emoji:""},{value:"aperitif",label:"Apritif",emoji:""},{value:"boisson",label:"Boisson",emoji:""},{value:"autre",label:"Autre",emoji:""}],FT=[{value:"facile",label:"Facile",emoji:"",description:"Parfait pour dbuter"},{value:"moyen",label:"Moyen",emoji:"",description:"Un peu d'exprience requise"},{value:"difficile",label:"Difficile",emoji:"",description:"Pour les chefs confirms"}],ta=[{id:"basics",label:"L'essentiel",icon:"",description:"Nom et photo"},{id:"details",label:"Dtails",icon:"",description:"Temps et portions"},{id:"ingredients",label:"Ingrdients",icon:"",description:"Ce qu'il vous faut"},{id:"steps",label:"Prparation",icon:"",description:"Les tapes"},{id:"finish",label:"Finaliser",icon:"",description:"Visibilit et partage"}],BT={title:"",description:"",category:"plat",prepTime:"",cookTime:"",servings:"",difficulty:"facile",emoji:"",imageUrl:"",ingredients:[""],steps:[{order:1,instruction:"",duration:""}],isPublic:!1};function rz({isOpen:t,onClose:e,onSubmit:n,editingRecipe:i=null,saving:a=!1}){const o=pd(),[c,h]=q.useState(0),[f,g]=q.useState(BT),[p,v]=q.useState({}),[x,_]=q.useState(!1),C=q.useCallback(k=>{g(F=>({...F,title:k.title||F.title,description:k.description||F.description,category:k.category||F.category,prepTime:k.prepTime||F.prepTime,cookTime:k.cookTime||F.cookTime,servings:k.servings||F.servings,difficulty:k.difficulty||F.difficulty,ingredients:k.ingredients?.length>0?k.ingredients:F.ingredients,steps:k.steps?.length>0?k.steps.map((R,M)=>({order:M+1,instruction:typeof R=="string"?R:R.instruction||"",duration:typeof R=="string"?"":R.duration||""})):F.steps})),_(!1)},[]);q.useEffect(()=>{if(t&&!o)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[t,o]),q.useEffect(()=>{g(i?{title:i.title||"",description:i.description||"",category:i.category||"plat",prepTime:i.prepTime||"",cookTime:i.cookTime||"",servings:i.servings||"",difficulty:i.difficulty||"facile",emoji:i.emoji||"",imageUrl:i.imageUrl||"",ingredients:i.ingredients?.length?i.ingredients:[""],steps:i.steps?.length?i.steps:[{order:1,instruction:"",duration:""}],isPublic:i.isPublic||!1}:BT),h(0),v({})},[i,t]);const L=k=>{const F=zT.find(R=>R.value===k);g(R=>({...R,category:k,emoji:F?.emoji||""}))},I=()=>{g(k=>({...k,ingredients:[...k.ingredients,""]}))},N=(k,F)=>{g(R=>{const M=[...R.ingredients];return M[k]=F,{...R,ingredients:M}})},U=k=>{f.ingredients.length!==1&&g(F=>({...F,ingredients:F.ingredients.filter((R,M)=>M!==k)}))},B=()=>{g(k=>({...k,steps:[...k.steps,{order:k.steps.length+1,instruction:"",duration:""}]}))},$=(k,F,R)=>{g(M=>{const Y=[...M.steps];return Y[k]={...Y[k],[F]:R},{...M,steps:Y}})},Z=k=>{f.steps.length!==1&&g(F=>({...F,steps:F.steps.filter((R,M)=>M!==k).map((R,M)=>({...R,order:M+1}))}))},G=(k,F)=>{const R=F==="up"?k-1:k+1;R<0||R>=f.steps.length||g(M=>{const Y=[...M.steps];return[Y[k],Y[R]]=[Y[R],Y[k]],{...M,steps:Y.map((ee,se)=>({...ee,order:se+1}))}})},O=k=>{const F={};return k===0&&(f.title.trim()||(F.title="Le titre est obligatoire")),k===2&&(f.ingredients.some(M=>M.trim())||(F.ingredients="Ajoutez au moins un ingrdient")),k===3&&(f.steps.some(M=>M.instruction.trim())||(F.steps="Ajoutez au moins une tape de prparation")),v(F),Object.keys(F).length===0},w=()=>{O(c)&&c<ta.length-1&&h(k=>k+1)},E=()=>{c>0&&h(k=>k-1)},D=()=>{const k={};return f.title.trim()||(k.title="Le titre est obligatoire"),f.ingredients.some(M=>M.trim())||(k.ingredients="Ajoutez au moins un ingrdient"),f.steps.some(M=>M.instruction.trim())||(k.steps="Ajoutez au moins une tape de prparation"),v(k),Object.keys(k).length===0},V=()=>{D()&&n(f)};if(!t)return null;const P=(c+1)/ta.length*100,A=()=>{switch(ta[c].id){case"basics":return d.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[!i&&d.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-full flex items-center gap-4 p-4 rounded-2xl border-2 border-dashed border-primary/50 bg-gradient-to-r from-primary/5 to-amber-500/5 hover:border-primary hover:from-primary/10 hover:to-amber-500/10 transition-all group","data-testid":"button-open-scanner",children:[d.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-amber-500 shadow-lg group-hover:scale-105 transition-transform",children:d.jsx(xR,{className:"h-7 w-7 text-white"})}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsxs("p",{className:"font-bold text-foreground flex items-center gap-2",children:["Scanner une recette",d.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-600 dark:text-amber-400",children:"IA"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Photographiez une recette pour la remplir automatiquement"})]}),d.jsx(ss,{className:"h-5 w-5 text-primary opacity-50 group-hover:opacity-100 transition-opacity"})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-5xl mb-3",children:f.emoji||""}),d.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Commenons par le nom"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Donnez un nom apptissant  votre recette"})]}),d.jsxs("div",{children:[d.jsx("input",{type:"text",value:f.title,onChange:k=>g(F=>({...F,title:k.target.value})),placeholder:"Ex: Tarte aux pommes de Mamie","data-testid":"input-recipe-title",className:xe("w-full rounded-2xl border-2 bg-background px-5 py-4 text-lg text-foreground placeholder:text-muted-foreground focus:outline-none transition-colors",p.title?"border-red-500":"border-border focus:border-primary")}),p.title&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:p.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description (optionnel)"}),d.jsx("textarea",{value:f.description,onChange:k=>g(F=>({...F,description:k.target.value})),placeholder:"Une recette de famille transmise depuis des gnrations...","data-testid":"input-recipe-description",rows:3,className:"w-full rounded-2xl border-2 border-border bg-background px-4 py-3 text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none resize-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:" Photo de votre cration"}),d.jsx($U,{value:f.imageUrl,onChange:k=>g(F=>({...F,imageUrl:k}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"Catgorie"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:zT.map(k=>d.jsxs("button",{type:"button",onClick:()=>L(k.value),className:xe("flex flex-col items-center gap-1 p-3 rounded-xl border-2 transition-all",f.category===k.value?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"),children:[d.jsx("span",{className:"text-2xl",children:k.emoji}),d.jsx("span",{className:"text-xs font-medium truncate w-full text-center",children:k.label})]},k.value))})]})]});case"details":return d.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-5xl mb-3",children:""}),d.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Quelques dtails pratiques"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Temps de prparation, portions, difficult"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"Niveau de difficult"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:FT.map(k=>d.jsxs("button",{type:"button",onClick:()=>g(F=>({...F,difficulty:k.value})),className:xe("flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all",f.difficulty===k.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:[d.jsx("span",{className:"text-3xl",children:k.emoji}),d.jsx("span",{className:"font-medium text-foreground",children:k.label}),d.jsx("span",{className:"text-xs text-muted-foreground text-center",children:k.description})]},k.value))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:[d.jsx(kn,{className:"inline h-4 w-4 mr-1"}),"Prparation"]}),d.jsx("input",{type:"text",value:f.prepTime,onChange:k=>g(F=>({...F,prepTime:k.target.value})),placeholder:"Ex: 30 min","data-testid":"input-recipe-preptime",className:"w-full rounded-xl border-2 border-border bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:[d.jsx(kn,{className:"inline h-4 w-4 mr-1"}),"Cuisson"]}),d.jsx("input",{type:"text",value:f.cookTime,onChange:k=>g(F=>({...F,cookTime:k.target.value})),placeholder:"Ex: 45 min","data-testid":"input-recipe-cooktime",className:"w-full rounded-xl border-2 border-border bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:[d.jsx(cs,{className:"inline h-4 w-4 mr-1"}),"Pour combien de personnes ?"]}),d.jsx("div",{className:"flex gap-2",children:[2,4,6,8].map(k=>d.jsx("button",{type:"button",onClick:()=>g(F=>({...F,servings:`${k} personnes`})),className:xe("flex-1 py-3 rounded-xl border-2 font-medium transition-all",f.servings===`${k} personnes`?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50 text-foreground"),children:k},k))}),d.jsx("input",{type:"text",value:f.servings,onChange:k=>g(F=>({...F,servings:k.target.value})),placeholder:"Ou tapez un nombre personnalis","data-testid":"input-recipe-servings",className:"w-full mt-3 rounded-xl border-2 border-border bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none"})]})]});case"ingredients":return d.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-5xl mb-3",children:""}),d.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Les ingrdients"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Listez tout ce dont vous avez besoin"})]}),d.jsx("div",{className:"space-y-3",children:f.ingredients.map((k,F)=>d.jsxs("div",{className:"flex gap-2 items-center animate-in slide-in-from-left duration-200",style:{animationDelay:`${F*50}ms`},children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary text-sm font-bold flex-shrink-0",children:F+1}),d.jsx("input",{type:"text",value:k,onChange:R=>N(F,R.target.value),placeholder:`Ingrdient ${F+1} (ex: 200g de farine)`,className:"flex-1 rounded-xl border-2 border-border bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none"}),f.ingredients.length>1&&d.jsx("button",{type:"button",onClick:()=>U(F),className:"rounded-full p-2 text-red-500 hover:bg-red-500/10 transition-colors",children:d.jsx(_f,{size:18})})]},F))}),d.jsxs("button",{type:"button",onClick:I,className:"w-full flex items-center justify-center gap-2 rounded-xl border-2 border-dashed border-primary/50 py-4 text-primary font-medium hover:bg-primary/5 transition-colors",children:[d.jsx(go,{size:20}),"Ajouter un ingrdient"]}),p.ingredients&&d.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:p.ingredients})]});case"steps":return d.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-5xl mb-3",children:""}),d.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Les tapes de prparation"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Guidez pas  pas vers la russite"})]}),d.jsx("div",{className:"space-y-4",children:f.steps.map((k,F)=>d.jsxs("div",{className:"rounded-2xl border-2 border-border bg-card p-4 animate-in slide-in-from-left duration-200",style:{animationDelay:`${F*50}ms`},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:F+1}),d.jsxs("span",{className:"font-medium text-foreground flex-1",children:["tape ",F+1]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{type:"button",onClick:()=>G(F,"up"),disabled:F===0,className:"rounded p-1.5 text-primary hover:bg-primary/10 disabled:opacity-30 transition-colors",children:d.jsx(yj,{size:16})}),d.jsx("button",{type:"button",onClick:()=>G(F,"down"),disabled:F===f.steps.length-1,className:"rounded p-1.5 text-primary hover:bg-primary/10 disabled:opacity-30 transition-colors",children:d.jsx(fj,{size:16})}),f.steps.length>1&&d.jsx("button",{type:"button",onClick:()=>Z(F),className:"rounded p-1.5 text-red-500 hover:bg-red-500/10 transition-colors",children:d.jsx(_f,{size:16})})]})]}),d.jsx("textarea",{value:k.instruction,onChange:R=>$(F,"instruction",R.target.value),placeholder:"Dcrivez cette tape en dtail...",rows:3,className:"w-full rounded-xl border-2 border-border bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none resize-none"}),d.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[d.jsx(kn,{size:16,className:"text-muted-foreground"}),d.jsx("input",{type:"text",value:k.duration||"",onChange:R=>$(F,"duration",R.target.value),placeholder:"Dure (ex: 5 min)",className:"flex-1 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none"})]})]},F))}),d.jsxs("button",{type:"button",onClick:B,className:"w-full flex items-center justify-center gap-2 rounded-xl border-2 border-dashed border-primary/50 py-4 text-primary font-medium hover:bg-primary/5 transition-colors",children:[d.jsx(go,{size:20}),"Ajouter une tape"]}),p.steps&&d.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:p.steps})]});case"finish":return d.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-5xl mb-3",children:""}),d.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Presque termin !"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Choisissez qui peut voir votre recette"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{type:"button",onClick:()=>g(k=>({...k,isPublic:!1})),className:xe("w-full flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left",f.isPublic?"border-border hover:border-primary/50":"border-primary bg-primary/10"),children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-amber-500/10",children:d.jsx(lE,{className:"h-6 w-6 text-amber-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-bold text-foreground",children:"Recette prive"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Visible uniquement par vous"})]}),!f.isPublic&&d.jsx(vr,{className:"h-6 w-6 text-primary"})]}),d.jsxs("button",{type:"button",onClick:()=>g(k=>({...k,isPublic:!0})),className:xe("w-full flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left",f.isPublic?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-500/10",children:d.jsx(bf,{className:"h-6 w-6 text-green-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-bold text-foreground",children:"Recette publique"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Partagez avec la communaut Gustalya"})]}),f.isPublic&&d.jsx(vr,{className:"h-6 w-6 text-primary"})]})]}),(p.title||p.ingredients||p.steps)&&d.jsxs("div",{className:"rounded-xl border-2 border-red-300 bg-red-50 dark:bg-red-950/30 p-4",children:[d.jsx("p",{className:"font-medium text-red-600 dark:text-red-400 mb-2",children:"Vrifiez votre recette :"}),d.jsxs("ul",{className:"text-sm text-red-600 dark:text-red-400 space-y-1",children:[p.title&&d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("button",{type:"button",onClick:()=>h(0),className:"underline hover:no-underline",children:p.title})]}),p.ingredients&&d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("button",{type:"button",onClick:()=>h(2),className:"underline hover:no-underline",children:p.ingredients})]}),p.steps&&d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("button",{type:"button",onClick:()=>h(3),className:"underline hover:no-underline",children:p.steps})]})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Aperu de votre recette"}),d.jsxs("div",{className:"rounded-2xl border-2 border-border overflow-hidden bg-card",children:[f.imageUrl?d.jsx("img",{src:f.imageUrl,alt:f.title,className:"w-full h-32 object-cover"}):d.jsx("div",{className:"w-full h-32 bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:d.jsx("span",{className:"text-5xl",children:f.emoji})}),d.jsxs("div",{className:"p-4",children:[d.jsx("h4",{className:"font-bold text-foreground text-lg",children:f.title||"Votre recette"}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm text-muted-foreground",children:[f.prepTime&&d.jsxs("span",{children:[" ",f.prepTime]}),f.servings&&d.jsxs("span",{children:[" ",f.servings]}),f.difficulty&&d.jsxs("span",{children:[" ",FT.find(k=>k.value===f.difficulty)?.label]})]}),d.jsxs("div",{className:"flex gap-2 mt-3",children:[d.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-primary/10 text-primary",children:[f.ingredients.filter(k=>k.trim()).length," ingrdients"]}),d.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-primary/10 text-primary",children:[f.steps.filter(k=>k.instruction.trim()).length," tapes"]})]})]})]})]})]});default:return null}};return d.jsxs("div",{className:xe("fixed inset-0 z-[100]",o?"bg-background":"grid place-items-center bg-black/50 p-8"),children:[d.jsxs("div",{className:xe("bg-card flex flex-col",o?"h-full w-full animate-in slide-in-from-right duration-300":"w-full max-w-lg max-h-[calc(100vh-100px)] rounded-2xl shadow-2xl animate-in zoom-in-95 border border-border"),children:[d.jsxs("div",{className:"flex-shrink-0 border-b border-border",children:[d.jsxs("div",{className:"flex items-center gap-3 p-4",children:[d.jsx("button",{onClick:c===0?e:E,className:"rounded-full p-2 text-foreground hover:bg-accent transition-colors",children:d.jsx(Nu,{size:24})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"font-bold text-foreground",children:i?"Modifier la recette":"Nouvelle recette"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[ta[c].icon," ",ta[c].label," - ",ta[c].description]})]}),d.jsx("button",{onClick:e,className:"rounded-full p-2 text-muted-foreground hover:bg-accent transition-colors",children:d.jsx(Wn,{size:20})})]}),d.jsx("div",{className:"h-1 bg-border",children:d.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${P}%`}})}),d.jsx("div",{className:"flex px-4 py-3 gap-1",children:ta.map((k,F)=>d.jsx("button",{onClick:()=>F<c&&h(F),disabled:F>c,className:xe("flex-1 h-1.5 rounded-full transition-colors",F<c?"bg-primary cursor-pointer":F===c?"bg-primary":"bg-border")},k.id))})]}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-4",children:A()}),d.jsx("div",{className:"flex-shrink-0 border-t border-border p-4 bg-card safe-area-bottom",children:d.jsxs("div",{className:"flex gap-3",children:[c>0&&d.jsxs("button",{type:"button",onClick:E,className:"flex items-center justify-center gap-2 rounded-xl border-2 border-border px-4 py-3 font-medium text-foreground hover:bg-accent transition-colors",children:[d.jsx(Nu,{size:18}),"Retour"]}),c<ta.length-1?d.jsxs("button",{type:"button",onClick:w,className:"flex-1 flex items-center justify-center gap-2 rounded-xl bg-primary px-4 py-3 font-bold text-primary-foreground hover:bg-primary/90 transition-colors",children:["Continuer",d.jsx(mu,{size:18})]}):d.jsx("button",{type:"button",onClick:V,disabled:a||!f.title.trim(),"data-testid":"button-save-recipe",className:"flex-1 flex items-center justify-center gap-2 rounded-xl bg-primary px-4 py-3 font-bold text-primary-foreground hover:bg-primary/90 disabled:opacity-50 transition-colors",children:a?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-5 w-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),"Enregistrement..."]}):d.jsxs(d.Fragment,{children:[d.jsx(vr,{size:18}),i?"Modifier":"Crer ma recette"]})})]})})]}),d.jsx(nz,{isOpen:x,onClose:()=>_(!1),onRecipeExtracted:C})]})}const iz=[{value:"entree",label:"Entre",emoji:""},{value:"plat",label:"Plat principal",emoji:""},{value:"dessert",label:"Dessert",emoji:""},{value:"soupe",label:"Soupe",emoji:""},{value:"salade",label:"Salade",emoji:""},{value:"aperitif",label:"Apritif",emoji:""},{value:"boisson",label:"Boisson",emoji:""},{value:"autre",label:"Autre",emoji:""}],sz=[{value:"facile",label:"Facile",color:"bg-green-500/10 text-green-600 dark:text-green-400"},{value:"moyen",label:"Moyen",color:"bg-amber-500/10 text-amber-600 dark:text-amber-400"},{value:"difficile",label:"Difficile",color:"bg-red-500/10 text-red-600 dark:text-red-400"}];function az(){const{currentUser:t}=md();pd();const[e,n]=q.useState([]),[i,a]=q.useState(!0),[o,c]=q.useState(!1),[h,f]=q.useState(null),[g,p]=q.useState(null),[v,x]=q.useState(!1),[_,C]=q.useState(null),[L,I]=q.useState(null),[N,U]=q.useState(null),[B,$]=q.useState([]),[Z,G]=q.useState(!1),[O,w]=q.useState(!1),[E,D]=q.useState(new Set),[V,P]=q.useState(null),A=async()=>{if(!t){a(!1);return}try{const[W,re]=await Promise.all([SU(t.uid),D4(t.uid)]);n(W),C(re)}catch(W){console.error("Failed to fetch recipes:",W)}finally{a(!1)}};q.useEffect(()=>{A()},[t]);const k=async W=>{if(!t||!W.title.trim())return;const re=W.ingredients.filter(te=>te.trim()),K=W.steps.filter(te=>te.instruction.trim()).map((te,ge)=>({...te,order:ge+1}));x(!0);try{const te={title:W.title,description:W.description,category:W.category,prepTime:W.prepTime,cookTime:W.cookTime,servings:W.servings,difficulty:W.difficulty,emoji:W.emoji,imageUrl:W.imageUrl,ingredients:re,steps:K,isPublic:W.isPublic};g?await CU(g.id,te):await AU({authorUserId:t.uid,authorName:t.displayName||t.email||"Utilisateur",...te}),c(!1),p(null),A()}catch(te){console.error("Failed to save recipe:",te)}finally{x(!1)}},F=W=>{p(W),c(!0)},R=async W=>{if(confirm("tes-vous sr de vouloir supprimer cette recette ?"))try{await NU(W),A()}catch(re){console.error("Failed to delete recipe:",re)}},M=async()=>{if(!(!_||!t||!V))try{await jU(_.family.id,V.id,t),I(V.id),P(null),setTimeout(()=>I(null),2e3)}catch(W){console.error("Failed to share recipe:",W)}},Y=W=>{!_||!t||P(W)},ee=W=>{D(re=>{const K=new Set(re);return K.has(W)?K.delete(W):K.add(W),K})},se=()=>{const W=e.filter(re=>E.has(re.id));W.length>0&&($(W),G(!0),w(!1),D(new Set))},Q=()=>{c(!1),p(null)};return t?i?d.jsx("div",{className:"flex min-h-[50vh] items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):d.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mes Recettes"}),d.jsxs("p",{className:"text-muted-foreground",children:[e.length," recette",e.length!==1?"s":""," enregistre",e.length!==1?"s":""]})]}),d.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.length>1&&d.jsx(d.Fragment,{children:O?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>{w(!1),D(new Set)},className:"flex items-center gap-2 rounded-xl border border-border px-4 py-2.5 font-medium text-muted-foreground hover:bg-accent transition-colors",children:[d.jsx(Wn,{size:18}),"Annuler"]}),d.jsxs("button",{onClick:se,disabled:E.size===0,"data-testid":"button-start-multi-cooking",className:"flex items-center gap-2 rounded-xl bg-primary px-4 py-2.5 font-bold text-primary-foreground disabled:opacity-50 shadow-lg shadow-primary/20 transition-all hover:scale-105",children:[d.jsx($n,{size:18}),"Cuisiner ",E.size," recette",E.size!==1?"s":""]})]}):d.jsxs("button",{onClick:()=>w(!0),"data-testid":"button-multi-cooking-mode",className:"flex items-center gap-2 rounded-xl border border-border px-4 py-2.5 font-medium text-foreground hover:bg-accent transition-colors",children:[d.jsx($n,{size:18}),"Multi-cuisson"]})}),d.jsxs("button",{onClick:()=>c(!0),"data-testid":"button-add-recipe",className:"flex items-center gap-2 rounded-2xl bg-primary px-5 py-3 font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:scale-105 hover:shadow-xl",children:[d.jsx(go,{size:20}),"Ajouter une recette"]})]})]}),e.length>0&&!O&&d.jsx(HU,{recipes:e,onSelectRecipe:W=>f(W),onStartCooking:W=>U(W)}),O&&d.jsxs("div",{className:"rounded-2xl bg-primary/10 border border-primary/20 p-4 flex items-center gap-3",children:[d.jsx($n,{className:"text-primary",size:24}),d.jsxs("p",{className:"text-foreground",children:[d.jsx("strong",{children:"Mode multi-cuisson :"}),' Slectionnez les recettes que vous souhaitez cuisiner ensemble, puis cliquez sur "Cuisiner"']})]}),e.length===0?d.jsxs("div",{className:"text-center py-16 animate-in fade-in duration-500",children:[d.jsx("div",{className:"mb-6 text-7xl",children:""}),d.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Aucune recette encore"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Commencez par ajouter votre premire recette !"}),d.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 rounded-2xl bg-primary px-6 py-3.5 font-bold text-primary-foreground shadow-lg shadow-primary/20 hover:scale-105 transition-all",children:[d.jsx(go,{size:20}),"Crer ma premire recette"]})]}):d.jsx("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3 stagger",children:e.map(W=>{const re=iz.find(ge=>ge.value===W.category),K=sz.find(ge=>ge.value===W.difficulty),te=E.has(W.id);return d.jsxs("div",{"data-testid":`recipe-card-${W.id}`,onClick:()=>O?ee(W.id):f(W),className:xe("group relative overflow-hidden rounded-3xl border bg-card transition-all duration-300 hover:shadow-xl hover:-translate-y-1 cursor-pointer",O&&te?"border-primary ring-2 ring-primary/30":"border-border hover:border-primary/30"),children:[O&&d.jsx("div",{className:xe("absolute top-3 left-3 z-20 w-7 h-7 rounded-full border-2 flex items-center justify-center transition-all",te?"bg-primary border-primary text-primary-foreground":"bg-card/80 backdrop-blur-sm border-border"),children:te&&d.jsx(vr,{size:16})}),W.imageUrl&&d.jsxs("div",{className:"relative h-52 w-full overflow-hidden",children:[d.jsx("img",{src:W.imageUrl,alt:W.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),d.jsxs("div",{className:"p-5",children:[d.jsxs("div",{className:"absolute right-3 top-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[_&&d.jsx("button",{onClick:ge=>{ge.stopPropagation(),Y(W)},"data-testid":`button-share-${W.id}`,className:xe("rounded-xl p-2.5 transition-all backdrop-blur-md",L===W.id?"bg-green-500/20 text-green-600":"bg-card/80 text-primary hover:bg-primary/20"),children:L===W.id?d.jsx(vr,{size:16}):d.jsx(Pl,{size:16})}),d.jsx("button",{onClick:ge=>{ge.stopPropagation(),F(W)},"data-testid":`button-edit-${W.id}`,className:"rounded-xl bg-card/80 backdrop-blur-md p-2.5 text-primary hover:bg-primary/20 transition-all",children:d.jsx(v0,{size:16})}),d.jsx("button",{onClick:ge=>{ge.stopPropagation(),R(W.id)},"data-testid":`button-delete-${W.id}`,className:"rounded-xl bg-card/80 backdrop-blur-md p-2.5 text-destructive hover:bg-destructive/20 transition-all",children:d.jsx(_f,{size:16})})]}),!W.imageUrl&&d.jsx("div",{className:"mb-4 text-4xl transition-transform group-hover:scale-110 group-hover:rotate-12",children:W.emoji||re?.emoji||""}),d.jsx("h3",{className:"text-lg font-bold text-card-foreground mb-2 group-hover:text-primary transition-colors","data-testid":`text-recipe-title-${W.id}`,children:W.title}),W.description&&d.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:W.description}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1.5 text-xs font-medium text-primary",children:re?.label||"Autre"}),K&&d.jsx("span",{className:xe("rounded-full px-3 py-1.5 text-xs font-medium",K.color),children:K.label}),W.prepTime&&d.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-accent px-3 py-1.5 text-xs font-medium text-foreground",children:[d.jsx(kn,{size:12}),W.prepTime]}),W.steps?.length>0&&d.jsxs("span",{className:"rounded-full bg-blue-500/10 px-3 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400",children:[W.steps.length," tape",W.steps.length>1?"s":""]}),W.isPublic?d.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-green-500/10 px-3 py-1.5 text-xs font-medium text-green-600 dark:text-green-400",children:[d.jsx(bf,{size:12}),"Public"]}):d.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-amber-500/10 px-3 py-1.5 text-xs font-medium text-amber-600 dark:text-amber-400",children:[d.jsx(lE,{size:12}),"Priv"]})]})]})]},W.id)})}),h&&d.jsx(tv,{recipe:h,onClose:()=>f(null),onStartCooking:()=>{U(h),f(null)},onEdit:()=>{F(h),f(null)},onShare:_?()=>Y(h):void 0,showEditButton:!0,showShareToFamily:!!_,showCookingButton:!0}),d.jsx(rz,{isOpen:o,onClose:Q,onSubmit:k,editingRecipe:g,saving:v}),N&&d.jsx(nv,{recipe:N,onClose:()=>U(null)}),Z&&B.length>0&&d.jsx(GU,{recipes:B,onClose:()=>{G(!1),$([])},onRemoveRecipe:W=>$(re=>re.filter(K=>K.id!==W))}),V&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:d.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-card p-6 shadow-xl animate-in zoom-in-95",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-2",children:"Partager avec la famille ?"}),d.jsxs("p",{className:"text-muted-foreground",children:['Voulez-vous partager "',d.jsx("span",{className:"font-medium text-foreground",children:V.title}),'" avec ',_?.family?.name||"votre famille"," ?"]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>P(null),className:"flex-1 rounded-xl border border-border px-4 py-3 font-medium text-muted-foreground hover:bg-accent transition-colors",children:"Annuler"}),d.jsxs("button",{onClick:M,"data-testid":"button-confirm-share",className:"flex-1 flex items-center justify-center gap-2 rounded-xl bg-primary px-4 py-3 font-bold text-primary-foreground hover:bg-primary/90 transition-colors",children:[d.jsx(Pl,{size:18}),"Partager"]})]})]})})]}):d.jsxs("div",{className:"flex min-h-[50vh] flex-col items-center justify-center text-center animate-in fade-in duration-500",children:[d.jsx("div",{className:"mb-6 text-7xl animate-bounce-soft",children:""}),d.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Connexion requise"}),d.jsx("p",{className:"text-muted-foreground",children:"Connectez-vous avec Google pour grer vos recettes"})]})}const Zh=by,oz=["Tous","Boissons","Entres","Plats","Desserts"],lz=t=>{switch(t){case"Boissons":return"";case"Entres":return"";case"Plats":return"";case"Desserts":return"";default:return""}};function cz(){const e=Y4()?.addTimer||(()=>{}),[n,i]=q.useState("Tous"),[a,o]=q.useState(null),[c,h]=q.useState(new Set),[f,g]=q.useState(null),[p,v]=q.useState(""),x=q.useMemo(()=>{let I=Zh;if(p.trim()){const N=p.toLowerCase();I=I.filter(U=>U.title.toLowerCase().includes(N)||U.description.toLowerCase().includes(N)||U.category.toLowerCase().includes(N)||U.ingredients?.some(B=>B.toLowerCase().includes(N)))}return n!=="Tous"&&(n==="Boissons"?I=I.filter(N=>N.category==="Boisson"):n==="Entres"?I=I.filter(N=>N.category==="Entre"):n==="Plats"?I=I.filter(N=>N.category==="Plat"):n==="Desserts"&&(I=I.filter(N=>N.category==="Dessert"))),I},[p,n]),_=Zh.find(I=>I.featured)||Zh[0],C=[...Zh].sort((I,N)=>N.likes-I.likes).slice(0,3),L=(I,N)=>{N?.stopPropagation(),h(U=>{const B=new Set(U);return B.has(I)?B.delete(I):B.add(I),B})};return d.jsxs("div",{className:"space-y-8 pb-24",children:[d.jsxs("section",{className:"relative overflow-hidden rounded-3xl",children:[d.jsxs("div",{className:"absolute inset-0",children:[d.jsx("img",{src:_.image,alt:_.title,className:"h-full w-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/20"})]}),d.jsx("div",{className:"relative z-10 px-6 py-16 md:py-24",children:d.jsxs("div",{className:"max-w-xl space-y-4",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/20 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-md",children:[d.jsx(hE,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),d.jsx("span",{children:"Recette du jour"})]}),d.jsx("h1",{className:"text-4xl font-bold leading-tight text-white md:text-5xl lg:text-6xl",children:_.title}),d.jsx("p",{className:"text-lg text-white/90 leading-relaxed",children:_.description}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[d.jsx(kn,{className:"h-5 w-5"}),d.jsx("span",{children:_.time})]}),d.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[d.jsx($n,{className:"h-5 w-5"}),d.jsx("span",{children:_.difficulty})]}),d.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[d.jsx(oa,{className:"h-5 w-5"}),d.jsxs("span",{children:[_.likes," likes"]})]})]}),d.jsxs("button",{onClick:()=>o(_),className:"group mt-4 inline-flex items-center gap-2 rounded-2xl bg-white px-6 py-3.5 font-bold text-gray-900 shadow-xl transition-all duration-300 hover:scale-105 hover:shadow-2xl active:scale-100",children:[d.jsx("span",{children:"Voir la recette"}),d.jsx(mu,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]})]})}),d.jsx("div",{className:"absolute -bottom-20 -right-20 h-80 w-80 rounded-full bg-white/5 blur-3xl"}),d.jsx("div",{className:"absolute -top-10 right-20 h-40 w-40 rounded-full bg-primary/20 blur-2xl"})]}),d.jsxs("section",{className:"space-y-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx(uE,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),d.jsx("input",{type:"text",placeholder:"Rechercher une recette, un ingrdient...",value:p,onChange:I=>v(I.target.value),"data-testid":"input-search-recipes",className:"w-full rounded-2xl border border-border bg-card py-4 pl-12 pr-4 text-card-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all"}),p&&d.jsx("button",{onClick:()=>v(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-clear-search",children:d.jsx(Wn,{className:"h-5 w-5"})})]}),p&&d.jsxs("p",{className:"text-sm text-muted-foreground px-1",children:[x.length," recette",x.length!==1?"s":""," trouve",x.length!==1?"s":"",' pour "',p,'"']})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(x0,{className:"h-5 w-5 text-primary"}),d.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Tendances"})]}),d.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 no-scrollbar",children:C.map((I,N)=>d.jsxs("div",{onClick:()=>o(I),className:"group flex-shrink-0 w-72 cursor-pointer overflow-hidden rounded-2xl bg-card border border-border shadow-sm transition-all duration-300 hover:shadow-lg hover:-translate-y-1",children:[d.jsxs("div",{className:"relative h-32 overflow-hidden",children:[d.jsx("img",{src:I.image,alt:I.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"}),d.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-1 rounded-full bg-amber-500 px-2 py-0.5 text-xs font-bold text-white",children:[d.jsx(x0,{className:"h-3 w-3"}),"#",N+1]})]}),d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("h3",{className:"font-bold text-card-foreground line-clamp-1",children:I.title}),d.jsx("span",{className:"text-xl",children:I.emoji})]}),d.jsxs("div",{className:"mt-2 flex items-center gap-3 text-sm text-muted-foreground",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(oa,{className:"h-3.5 w-3.5 text-red-500"}),I.likes]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(kn,{className:"h-3.5 w-3.5"}),I.time]})]})]})]},I.id))})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[d.jsx(ss,{className:"h-5 w-5 text-primary"}),"Explorer"]}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:oz.map(I=>d.jsxs("button",{onClick:()=>i(I),className:xe("flex items-center gap-2 whitespace-nowrap rounded-2xl px-5 py-3 font-medium transition-all duration-300",n===I?"bg-primary text-primary-foreground shadow-lg shadow-primary/25 scale-105":"bg-card text-muted-foreground border border-border hover:bg-accent hover:text-accent-foreground"),children:[d.jsx("span",{children:lz(I)}),d.jsx("span",{children:I})]},I))})]}),d.jsx("section",{children:d.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-5 lg:grid-cols-3 stagger",children:x.map(I=>d.jsxs("article",{onClick:()=>o(I),className:"group cursor-pointer overflow-hidden rounded-2xl sm:rounded-3xl bg-card border border-border shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[d.jsxs("div",{className:"relative aspect-square sm:aspect-[4/3] overflow-hidden",children:[d.jsx("img",{src:I.image,alt:I.title,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),d.jsx("button",{onClick:N=>L(I.id,N),className:xe("absolute right-2 top-2 sm:right-3 sm:top-3 rounded-full p-1.5 sm:p-2.5 backdrop-blur-md transition-all duration-300",c.has(I.id)?"bg-red-500 text-white scale-110":"bg-white/80 text-gray-600 hover:bg-white hover:scale-110 dark:bg-black/50 dark:text-white"),children:d.jsx(oa,{className:xe("h-3 w-3 sm:h-4 sm:w-4",c.has(I.id)&&"fill-current")})}),d.jsx("div",{className:"absolute bottom-2 left-2 sm:bottom-3 sm:left-3 rounded-lg sm:rounded-xl bg-black/60 px-2 py-1 sm:px-3 sm:py-1.5 text-[10px] sm:text-xs font-medium text-white backdrop-blur-md",children:I.category})]}),d.jsxs("div",{className:"p-2.5 sm:p-5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-1 sm:gap-2",children:[d.jsxs("div",{className:"space-y-0.5 sm:space-y-1 min-w-0",children:[d.jsx("h3",{className:"text-sm sm:text-lg font-bold text-card-foreground group-hover:text-primary transition-colors truncate",children:I.title}),d.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:["Par ",I.author]})]}),d.jsx("span",{className:"text-lg sm:text-2xl transition-transform duration-300 group-hover:scale-125 group-hover:rotate-12 flex-shrink-0",children:I.emoji})]}),d.jsx("p",{className:"hidden sm:block mt-3 line-clamp-2 text-sm text-muted-foreground leading-relaxed",children:I.description}),d.jsxs("div",{className:"mt-2 sm:mt-4 flex items-center justify-between border-t border-border pt-2 sm:pt-4",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-[10px] sm:text-sm text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(kn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary"}),d.jsx("span",{children:I.time})]}),d.jsxs("div",{className:"hidden sm:flex items-center gap-1.5",children:[d.jsx($n,{className:"h-4 w-4 text-primary"}),d.jsx("span",{children:I.difficulty})]})]}),d.jsx("button",{onClick:N=>N.stopPropagation(),className:"hidden sm:block rounded-full p-2 text-muted-foreground transition-colors hover:bg-accent hover:text-primary",children:d.jsx(Pl,{className:"h-4 w-4"})})]})]})]},I.id))})}),a&&d.jsx(tv,{recipe:{...a,imageUrl:a.image},onClose:()=>o(null),onStartCooking:()=>{g(a),o(null)},isLiked:c.has(a.id),onToggleLike:()=>L(a.id),showCookingButton:!0}),f&&d.jsx(nv,{recipe:f,onClose:()=>g(null),onAddTimer:e})]})}function _y({className:t}){const[e,n]=q.useState(()=>typeof window<"u"&&localStorage.getItem("gustalya-theme")||"system");q.useEffect(()=>{const a=window.document.documentElement;if(e==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.remove("light","dark"),a.classList.add(o)}else a.classList.remove("light","dark"),a.classList.add(e);localStorage.setItem("gustalya-theme",e)},[e]),q.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>{if(e==="system"){const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(a.matches?"dark":"light")}};return a.addEventListener("change",o),()=>a.removeEventListener("change",o)},[e]);const i=()=>{const a=["light","dark","system"],c=(a.indexOf(e)+1)%a.length;n(a[c])};return d.jsx("button",{onClick:i,className:xe("relative flex items-center justify-center rounded-xl p-2.5 transition-all duration-300","bg-white/80 dark:bg-white/10 hover:bg-white dark:hover:bg-white/20","border border-black/5 dark:border-white/10","shadow-sm hover:shadow-md","group",t),title:`Thme: ${e==="light"?"Clair":e==="dark"?"Sombre":"Systme"}`,"data-testid":"button-theme-toggle",children:d.jsxs("div",{className:"relative h-5 w-5",children:[d.jsx(DR,{size:20,className:xe("absolute inset-0 transition-all duration-300",e==="light"?"rotate-0 scale-100 opacity-100 text-amber-500":"rotate-90 scale-0 opacity-0")}),d.jsx(iR,{size:20,className:xe("absolute inset-0 transition-all duration-300",e==="dark"?"rotate-0 scale-100 opacity-100 text-indigo-400":"-rotate-90 scale-0 opacity-0")}),d.jsx(nR,{size:20,className:xe("absolute inset-0 transition-all duration-300",e==="system"?"rotate-0 scale-100 opacity-100 text-emerald-500":"rotate-90 scale-0 opacity-0")})]})})}function uz(){const{currentUser:t,logout:e,login:n}=md(),{profile:i,loading:a,updateProfile:o,updatePreferences:c,updateSettings:h}=UU(),[f,g]=q.useState("profile"),[p,v]=q.useState(!1),[x,_]=q.useState({displayName:"",bio:"",cookingLevel:"debutant"});if(!t)return d.jsx("div",{className:"min-h-[60vh] flex items-center justify-center","data-testid":"profile-login-required",children:d.jsxs("div",{className:"text-center space-y-6 p-8",children:[d.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:d.jsx(cu,{className:"w-12 h-12 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Connexion requise"}),d.jsx("p",{className:"text-muted-foreground",children:"Connectez-vous pour accder  votre profil"})]}),d.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors","data-testid":"button-login",children:[d.jsx(cu,{className:"w-5 h-5"}),"Se connecter avec Google"]})]})});if(a)return d.jsx("div",{className:"min-h-[60vh] flex items-center justify-center","data-testid":"profile-loading",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 animate-pulse mx-auto"}),d.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})});const C=()=>{i&&(_({displayName:i.displayName||"",bio:i.bio||"",cookingLevel:i.cookingLevel||"debutant"}),v(!0))},L=()=>{v(!1)},I=async()=>{try{await o(x),v(!1)}catch($){console.error("Error saving profile:",$)}},N=$=>{if($<60)return`${$} min`;const Z=Math.floor($/60),G=$%60;return G>0?`${Z}h ${G}min`:`${Z}h`},U=[{id:"profile",label:"Profil",icon:cu},{id:"preferences",label:"Prfrences",icon:mE},{id:"achievements",label:"Badges",icon:d0},{id:"settings",label:"Paramtres",icon:dE}],B=i?.achievements?.filter($=>$.earnedAt)||[];return i?.achievements?.filter($=>!$.earnedAt&&$.progress>0),d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in duration-300","data-testid":"profile-page",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-primary/20 via-primary/10 to-transparent p-6 md:p-8",children:[d.jsx("div",{className:"absolute inset-0 bg-[url('/pattern.svg')] opacity-5"}),d.jsxs("div",{className:"relative flex flex-col md:flex-row items-center gap-6",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-card shadow-xl",children:i?.photoUrl?d.jsx("img",{src:i.photoUrl,alt:i.displayName,className:"w-full h-full object-cover","data-testid":"img-profile-photo"}):d.jsx("div",{className:"w-full h-full bg-primary/20 flex items-center justify-center",children:d.jsx(cu,{className:"w-12 h-12 text-primary"})})}),d.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-primary text-primary-foreground rounded-full flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition-opacity","data-testid":"button-change-photo",children:d.jsx(vf,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex-1 text-center md:text-left",children:p?d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"text",value:x.displayName,onChange:$=>_({...x,displayName:$.target.value}),className:"w-full md:w-auto text-2xl font-bold bg-card border border-border rounded-xl px-4 py-2 text-foreground",placeholder:"Votre nom","data-testid":"input-display-name"}),d.jsx("textarea",{value:x.bio,onChange:$=>_({...x,bio:$.target.value}),className:"w-full bg-card border border-border rounded-xl px-4 py-2 text-foreground resize-none",placeholder:"Dcrivez votre passion pour la cuisine...",rows:2,"data-testid":"input-bio"}),d.jsx("select",{value:x.cookingLevel,onChange:$=>_({...x,cookingLevel:$.target.value}),className:"bg-card border border-border rounded-xl px-4 py-2 text-foreground","data-testid":"select-cooking-level",children:i0.map($=>d.jsxs("option",{value:$.value,children:[$.icon," ",$.label]},$.value))})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground","data-testid":"text-display-name",children:i?.displayName||"Chef Anonyme"}),i?.bio&&d.jsx("p",{className:"text-muted-foreground mt-1","data-testid":"text-bio",children:i.bio}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 mt-3",children:[i?.cookingLevel&&d.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm font-medium","data-testid":"text-cooking-level",children:[i0.find($=>$.value===i.cookingLevel)?.icon,i0.find($=>$.value===i.cookingLevel)?.label]}),B.length>0&&d.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-amber-500/10 text-amber-600 dark:text-amber-400 rounded-full text-sm font-medium",children:[d.jsx(d0,{className:"w-4 h-4"}),B.length," badge",B.length>1?"s":""]})]})]})}),d.jsx("div",{className:"flex gap-2",children:p?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:I,className:"p-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors","data-testid":"button-save-profile",children:d.jsx(gR,{className:"w-5 h-5"})}),d.jsx("button",{onClick:L,className:"p-3 bg-card border border-border text-foreground rounded-xl hover:bg-accent transition-colors","data-testid":"button-cancel-edit",children:d.jsx(Wn,{className:"w-5 h-5"})})]}):d.jsx("button",{onClick:C,className:"p-3 bg-card border border-border text-foreground rounded-xl hover:bg-accent transition-colors","data-testid":"button-edit-profile",children:d.jsx(oR,{className:"w-5 h-5"})})})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[d.jsx(Jh,{icon:oE,label:"Recettes cres",value:i?.stats?.recipesCreated||0,color:"text-blue-500"}),d.jsx(Jh,{icon:$n,label:"Recettes cuisines",value:i?.stats?.recipesCooked||0,color:"text-green-500"}),d.jsx(Jh,{icon:kn,label:"Temps en cuisine",value:N(i?.stats?.totalCookingTime||0),color:"text-amber-500"}),d.jsx(Jh,{icon:oa,label:"Recettes sauves",value:i?.savedRecipes?.length||0,color:"text-red-500"})]})]}),d.jsx("div",{className:"flex overflow-x-auto gap-2 p-1 bg-card rounded-2xl border border-border",children:U.map($=>d.jsxs("button",{onClick:()=>g($.id),className:`flex-1 min-w-[100px] flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${f===$.id?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:bg-accent hover:text-foreground"}`,"data-testid":`tab-${$.id}`,children:[d.jsx($.icon,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:$.label})]},$.id))}),d.jsxs("div",{className:"bg-card rounded-2xl border border-border p-6",children:[f==="profile"&&d.jsx(dz,{profile:i}),f==="preferences"&&d.jsx(hz,{profile:i,onUpdate:c}),f==="achievements"&&d.jsx(fz,{profile:i}),f==="settings"&&d.jsx(mz,{profile:i,onUpdate:h,onLogout:e})]})]})}function Jh({icon:t,label:e,value:n,color:i}){return d.jsxs("div",{className:"bg-card/50 backdrop-blur rounded-2xl p-4 text-center border border-border/50","data-testid":`stat-${e.toLowerCase().replace(/\s/g,"-")}`,children:[d.jsx(t,{className:`w-6 h-6 mx-auto mb-2 ${i}`}),d.jsx("div",{className:"text-2xl font-bold text-foreground",children:n}),d.jsx("div",{className:"text-xs text-muted-foreground",children:e})]})}function dz({profile:t}){const e=t?.recentActivity||[];return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[d.jsx(x0,{className:"w-5 h-5 text-primary"}),"Activit rcente"]}),e.length===0?d.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[d.jsx(Aj,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),d.jsx("p",{children:"Aucune activit rcente"}),d.jsx("p",{className:"text-sm mt-1",children:"Commencez  cuisiner pour voir votre historique ici !"})]}):d.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(n=>d.jsxs("div",{className:"flex items-center gap-4 p-3 bg-accent/50 rounded-xl","data-testid":`activity-${n.id}`,children:[d.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n.type==="cooked"?"bg-green-500/20 text-green-500":n.type==="created"?"bg-blue-500/20 text-blue-500":n.type==="shared"?"bg-purple-500/20 text-purple-500":"bg-red-500/20 text-red-500"}`,children:[n.type==="cooked"&&d.jsx($n,{className:"w-5 h-5"}),n.type==="created"&&d.jsx(go,{className:"w-5 h-5"}),n.type==="shared"&&d.jsx(oa,{className:"w-5 h-5"}),n.type==="saved"&&d.jsx(hE,{className:"w-5 h-5"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-foreground",children:n.recipeTitle}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.type==="cooked"&&"Recette cuisine",n.type==="created"&&"Recette cre",n.type==="shared"&&"Recette partage",n.type==="saved"&&"Recette sauvegarde"]})]})]},n.id))})]})})}function hz({profile:t,onUpdate:e}){const[n,i]=q.useState(t?.dietaryRestrictions||[]),[a,o]=q.useState(t?.allergies||[]),[c,h]=q.useState(""),[f,g]=q.useState(""),[p,v]=q.useState(!1),x=async U=>{const B=n.includes(U)?n.filter($=>$!==U):[...n,U];i(B);try{await e({dietaryRestrictions:B})}catch($){console.error("Error updating dietary restrictions:",$)}},_=async U=>{const B=a.includes(U)?a.filter($=>$!==U):[...a,U];o(B);try{await e({allergies:B})}catch($){console.error("Error updating allergies:",$)}},C=async()=>{if(!c.trim())return;const U=[...t?.favoriteIngredients||[],c.trim()];try{await e({favoriteIngredients:U}),h("")}catch(B){console.error("Error adding favorite ingredient:",B)}},L=async U=>{const B=(t?.favoriteIngredients||[]).filter($=>$!==U);try{await e({favoriteIngredients:B})}catch($){console.error("Error removing favorite ingredient:",$)}},I=async()=>{if(!f.trim())return;const U=[...t?.avoidedIngredients||[],f.trim()];try{await e({avoidedIngredients:U}),g("")}catch(B){console.error("Error adding avoided ingredient:",B)}},N=async U=>{const B=(t?.avoidedIngredients||[]).filter($=>$!==U);try{await e({avoidedIngredients:B})}catch($){console.error("Error removing avoided ingredient:",$)}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[d.jsx(mE,{className:"w-5 h-5 text-primary"}),"Rgimes alimentaires"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:kU.map(U=>d.jsxs("button",{onClick:()=>x(U),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${n.includes(U)?"bg-primary text-primary-foreground":"bg-accent text-foreground hover:bg-accent/80"}`,"data-testid":`dietary-${U.toLowerCase().replace(/\s/g,"-")}`,children:[n.includes(U)&&d.jsx(vr,{className:"w-4 h-4 inline mr-1"}),U]},U))})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[d.jsx(CR,{className:"w-5 h-5 text-red-500"}),"Allergies"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:PU.map(U=>d.jsxs("button",{onClick:()=>_(U),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a.includes(U)?"bg-red-500 text-white":"bg-accent text-foreground hover:bg-accent/80"}`,"data-testid":`allergy-${U.toLowerCase().replace(/\s/g,"-")}`,children:[a.includes(U)&&d.jsx(vr,{className:"w-4 h-4 inline mr-1"}),U]},U))})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[d.jsx(oa,{className:"w-5 h-5 text-green-500"}),"Ingrdients favoris"]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(t?.favoriteIngredients||[]).map(U=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-500/10 text-green-600 dark:text-green-400 rounded-full text-sm",children:[U,d.jsx("button",{onClick:()=>L(U),className:"hover:text-red-500",children:d.jsx(Wn,{className:"w-4 h-4"})})]},U))}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:c,onChange:U=>h(U.target.value),onKeyDown:U=>U.key==="Enter"&&C(),placeholder:"Ajouter un ingrdient...",className:"flex-1 px-4 py-2 bg-background border border-border rounded-xl text-foreground placeholder:text-muted-foreground","data-testid":"input-favorite-ingredient"}),d.jsx("button",{onClick:C,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors","data-testid":"button-add-favorite",children:d.jsx(go,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[d.jsx(Wn,{className:"w-5 h-5 text-red-500"}),"Ingrdients  viter"]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(t?.avoidedIngredients||[]).map(U=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-red-500/10 text-red-600 dark:text-red-400 rounded-full text-sm",children:[U,d.jsx("button",{onClick:()=>N(U),className:"hover:text-foreground",children:d.jsx(Wn,{className:"w-4 h-4"})})]},U))}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:f,onChange:U=>g(U.target.value),onKeyDown:U=>U.key==="Enter"&&I(),placeholder:"Ajouter un ingrdient...",className:"flex-1 px-4 py-2 bg-background border border-border rounded-xl text-foreground placeholder:text-muted-foreground","data-testid":"input-avoided-ingredient"}),d.jsx("button",{onClick:I,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors","data-testid":"button-add-avoided",children:d.jsx(go,{className:"w-5 h-5"})})]})]})]})}function fz({profile:t}){const e=t?.achievements||[],n=e.filter(i=>i.earnedAt).length;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[d.jsx(d0,{className:"w-5 h-5 text-amber-500"}),"Vos accomplissements"]}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[n,"/",e.length," dbloqus"]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map(i=>{const a=!!i.earnedAt,o=Math.min(i.progress/i.target*100,100);return d.jsx("div",{className:`p-4 rounded-2xl border transition-all ${a?"bg-gradient-to-br from-amber-500/20 to-amber-500/5 border-amber-500/30":"bg-accent/50 border-border opacity-70"}`,"data-testid":`achievement-${i.id}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`text-3xl ${a?"":"grayscale opacity-50"}`,children:i.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:`font-semibold ${a?"text-foreground":"text-muted-foreground"}`,children:i.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),!a&&d.jsxs("div",{className:"mt-2",children:[d.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[d.jsx("span",{children:"Progression"}),d.jsxs("span",{children:[i.progress,"/",i.target]})]}),d.jsx("div",{className:"h-2 bg-border rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${o}%`}})})]}),a&&d.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs text-amber-600 dark:text-amber-400",children:[d.jsx(vr,{className:"w-3 h-3"}),"Dbloqu"]})]})]})},i.id)})})]})}function mz({profile:t,onUpdate:e,onLogout:n}){const[i,a]=q.useState(t?.notificationsEnabled??!0),o=async()=>{const c=!i;a(c);try{await e({notificationsEnabled:c})}catch(h){console.error("Error updating notifications:",h),a(!c)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[d.jsx(dE,{className:"w-5 h-5 text-primary"}),"Paramtres de l'application"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/50 rounded-xl",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx(wj,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Notifications"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des alertes pour les timers"})]})]}),d.jsx("button",{onClick:o,className:`relative w-14 h-8 rounded-full transition-colors ${i?"bg-primary":"bg-border"}`,"data-testid":"toggle-notifications",children:d.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow transition-transform ${i?"translate-x-7":"translate-x-1"}`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/50 rounded-xl",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx(bf,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Thme"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisir le mode clair ou sombre"})]})]}),d.jsx(_y,{})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/50 rounded-xl",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx(bf,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Langue"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Franais"})]})]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:" FR"})]})]})]}),d.jsx("div",{className:"pt-4 border-t border-border",children:d.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-red-500/10 text-red-500 rounded-xl font-medium hover:bg-red-500/20 transition-colors","data-testid":"button-logout",children:[d.jsx(p0,{className:"w-5 h-5"}),"Se dconnecter"]})})]})}const pz=[{category:"Compte",icon:d.jsx(Ny,{size:20}),questions:[{q:"Comment crer un compte ?",a:"Cliquez sur le bouton 'Connexion Google' en haut de la page. Votre compte sera cr automatiquement avec votre compte Google."},{q:"Comment modifier mon profil ?",a:"Allez dans l'onglet 'Profil' et cliquez sur 'Modifier le profil'. Vous pouvez changer votre nom d'affichage et votre photo."},{q:"Comment me dconnecter ?",a:"Cliquez sur le bouton de dconnexion (icne de porte) en haut  droite de l'cran."}]},{category:"Recettes",icon:d.jsx(oE,{size:20}),questions:[{q:"Comment crer une recette ?",a:"Allez dans 'Mes Recettes' et cliquez sur le bouton '+ Nouvelle Recette'. Remplissez le formulaire avec le titre, les ingrdients et les tapes de prparation."},{q:"Comment ajouter une photo  ma recette ?",a:"Dans le formulaire de cration/modification, cliquez sur la zone d'image pour tlcharger une photo depuis votre appareil."},{q:"Comment modifier ou supprimer une recette ?",a:"Survolez la carte de votre recette pour voir les boutons de modification (crayon) et de suppression (poubelle)."},{q:"Comment ajouter des dures aux tapes ?",a:"Lors de la cration d'une recette, chaque tape a un champ 'Dure' optionnel. Entrez le temps (ex: '10 min', '1 heure') pour activer les minuteurs automatiques."}]},{category:"Famille",icon:d.jsx(cs,{size:20}),questions:[{q:"Comment crer une famille ?",a:"Allez dans l'onglet 'Ma Famille' et cliquez sur 'Crer une Famille'. Donnez un nom  votre famille et un code d'invitation sera gnr automatiquement."},{q:"Comment rejoindre une famille existante ?",a:"Dans l'onglet 'Ma Famille', cliquez sur 'Rejoindre avec un Code' et entrez le code d'invitation partag par un membre de la famille."},{q:"Comment partager une recette avec ma famille ?",a:"Dans 'Mes Recettes', survolez une recette et cliquez sur l'icne de partage. Confirmez le partage dans la fentre qui s'affiche."},{q:"O voir les recettes partages par ma famille ?",a:"Les recettes partages apparaissent dans la section 'Recettes de la Famille' sur la page 'Ma Famille'."}]},{category:"Minuteurs",icon:d.jsx(b0,{size:20}),questions:[{q:"Comment utiliser les minuteurs ?",a:"Allez dans 'Guide Cuisson', slectionnez un ingrdient, ajustez le poids et le mode de cuisson, puis ajoutez le minuteur. Il dmarrera automatiquement."},{q:"Comment lancer les minuteurs depuis une recette ?",a:"Ouvrez une recette et cliquez sur 'Cuisiner'. Le mode cuisson s'ouvre avec les tapes et les minuteurs intgrs pour chaque tape avec une dure."},{q:"Que se passe-t-il quand un minuteur se termine ?",a:"Une notification sonore retentit et le minuteur passe en rouge pour vous alerter que la cuisson est termine."},{q:"Comment grer plusieurs minuteurs ?",a:"Tous vos minuteurs actifs sont visibles dans le 'Guide Cuisson'. Vous pouvez les mettre en pause, les redmarrer ou les supprimer individuellement."}]},{category:"Mode Cuisson",icon:d.jsx($n,{size:20}),questions:[{q:"C'est quoi le mode cuisson ?",a:"Le mode cuisson vous guide pas  pas dans la prparation d'une recette. Il affiche chaque tape avec un minuteur ddi si une dure est indique."},{q:"Comment utiliser le contrle vocal ?",a:"En mode cuisson, appuyez sur le bouton micro et dites 'suivant' ou 'prcdent' pour naviguer entre les tapes sans toucher l'cran."},{q:"Puis-je cuisiner plusieurs recettes en mme temps ?",a:"Oui ! Dans 'Mes Recettes', activez le mode slection, choisissez plusieurs recettes, puis cliquez sur 'Cuisiner la slection'."}]}],gz=[{icon:"",title:"Astuce photo",tip:"Prenez vos photos de plats avec une lumire naturelle pour de meilleurs rsultats."},{icon:"",title:"Minuteurs prcis",tip:"Ajoutez des dures aux tapes de vos recettes pour avoir des minuteurs automatiques."},{icon:"",title:"Partage famille",tip:"Partagez le code de votre famille par WhatsApp pour inviter vos proches facilement."},{icon:"",title:"Mains libres",tip:"Utilisez le contrle vocal en mode cuisson quand vous avez les mains occupes."}];function yz(){const[t,e]=q.useState(null),[n,i]=q.useState(null),a=c=>{e(t===c?null:c),i(null)},o=c=>{i(n===c?null:c)};return d.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Centre d'Aide"}),d.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Trouvez des rponses  vos questions et apprenez  utiliser toutes les fonctionnalits de Gustalya."})]}),d.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:gz.map((c,h)=>d.jsxs("div",{className:"rounded-2xl border-2 border-primary/20 bg-gradient-to-br from-primary/5 to-accent/10 p-4 hover:border-primary/40 transition-all",children:[d.jsx("div",{className:"text-3xl mb-2",children:c.icon}),d.jsx("h3",{className:"font-bold text-foreground mb-1",children:c.title}),d.jsx("p",{className:"text-sm text-muted-foreground",children:c.tip})]},h))}),d.jsxs("div",{className:"rounded-2xl border-2 border-primary/20 bg-card overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-border",children:d.jsxs("h2",{className:"text-xl font-bold text-card-foreground flex items-center gap-2",children:[d.jsx(Ny,{size:24,className:"text-primary"}),"Questions Frquentes"]})}),d.jsx("div",{className:"divide-y divide-border",children:pz.map(c=>d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>a(c.category),"data-testid":`faq-section-${c.category.toLowerCase()}`,className:"w-full flex items-center justify-between p-5 hover:bg-accent/50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-primary",children:c.icon}),d.jsx("span",{className:"font-bold text-card-foreground",children:c.category}),d.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:[c.questions.length," questions"]})]}),d.jsx(B2,{size:20,className:xe("text-muted-foreground transition-transform duration-200",t===c.category&&"rotate-180")})]}),t===c.category&&d.jsx("div",{className:"bg-background/50 divide-y divide-border/50",children:c.questions.map((h,f)=>{const g=`${c.category}-${f}`;return d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>o(g),"data-testid":`faq-question-${c.category.toLowerCase()}-${f}`,className:"w-full flex items-center justify-between p-4 pl-12 hover:bg-accent/30 transition-colors text-left",children:[d.jsx("span",{className:"font-medium text-card-foreground",children:h.q}),d.jsx(B2,{size:16,className:xe("text-muted-foreground transition-transform duration-200 flex-shrink-0 ml-2",n===g&&"rotate-180")})]}),n===g&&d.jsx("div",{className:"px-12 pb-4 text-muted-foreground text-sm leading-relaxed animate-in slide-in-from-top-2 duration-200",children:h.a})]},f)})})]},c.category))})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"rounded-2xl border-2 border-primary/20 bg-card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-xl bg-primary/10 p-3",children:d.jsx(g0,{size:24,className:"text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-card-foreground",children:"Besoin d'aide ?"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Notre quipe est l pour vous"})]})]}),d.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Si vous ne trouvez pas la rponse  votre question dans la FAQ, n'hsitez pas  nous contacter."}),d.jsxs("a",{href:"mailto:support@gustalya.com","data-testid":"link-contact-email",className:"flex items-center justify-center gap-2 w-full rounded-xl bg-primary px-4 py-3 font-bold text-primary-foreground hover:bg-primary/90 transition-colors",children:[d.jsx(Xj,{size:18}),"Nous contacter"]})]}),d.jsxs("div",{className:"rounded-2xl border-2 border-primary/20 bg-card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-xl bg-green-500/10 p-3",children:d.jsx(Pl,{size:24,className:"text-green-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-card-foreground",children:"Partagez Gustalya"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Invitez vos amis  cuisiner"})]})]}),d.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Vous aimez Gustalya ? Partagez l'application avec vos amis et votre famille !"}),d.jsxs("a",{href:"https://wa.me/?text=Dcouvrez%20Gustalya%2C%20l'application%20de%20recettes%20familiales%20!%20",target:"_blank",rel:"noopener noreferrer","data-testid":"link-share-whatsapp",className:"flex items-center justify-center gap-2 w-full rounded-xl bg-green-500 px-4 py-3 font-bold text-white hover:bg-green-600 transition-colors",children:[d.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Partager sur WhatsApp"]})]})]}),d.jsx("div",{className:"text-center text-sm text-muted-foreground",children:d.jsx("p",{children:"Gustalya v1.0  Made with  pour les familles gourmandes"})})]})}const Q4=q.createContext();function Y4(){return q.useContext(Q4)}function vz({children:t}){const[e,n]=q.useState([]);q.useEffect(()=>{const f=setInterval(()=>{n(g=>g.map(p=>{if(!p.isRunning||p.remainingTime<=0)return p;const v=p.remainingTime-1;return v===0&&YR(),{...p,remainingTime:v}}))},1e3);return()=>clearInterval(f)},[]);const i=(f,g,p)=>{const v={id:Date.now(),ingredientId:"custom",name:f,totalTime:g,remainingTime:g,isRunning:!1,category:p};n(x=>[...x,v])},a=f=>{n(g=>g.map(p=>p.id===f?{...p,isRunning:!p.isRunning}:p))},o=f=>{n(g=>g.map(p=>p.id===f?{...p,remainingTime:p.totalTime,isRunning:!1}:p))},c=f=>{n(g=>g.filter(p=>p.id!==f))},h=()=>{n([])};return d.jsx(Q4.Provider,{value:{timers:e,addTimer:i,toggleTimer:a,resetTimer:o,deleteTimer:c,clearAllTimers:h},children:t})}function bz(){ZT();const{timers:t,addTimer:e,toggleTimer:n,resetTimer:i,deleteTimer:a,clearAllTimers:o}=Y4(),c=(h,f,g)=>{e(h,f,g)};return d.jsxs("div",{className:"max-w-4xl mx-auto px-4 space-y-6 animate-in slide-in-from-right-10 fade-in duration-300",children:[d.jsxs("div",{className:"flex flex-col gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl sm:text-3xl font-bold text-foreground",children:" Assistant de Cuisine Pro"}),d.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Le mode expert pour grer toutes vos cuissons simultanment."})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx(yD,{timers:t})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(k6,{onAddTimer:c}),t.length>0&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-foreground",children:"Timers Actifs"}),d.jsx("button",{onClick:o,className:"text-xs sm:text-sm font-medium text-red-500 hover:underline",children:"Tout effacer"})]}),d.jsx(gD,{timers:t,onToggle:n,onReset:i,onDelete:a})]})]})]})}function xz({children:t}){const e=wa(),{currentUser:n,login:i,logout:a,loading:o}=md(),[c,h]=q.useState(window.innerWidth<768);q.useEffect(()=>{const p=()=>h(window.innerWidth<768);return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const f=[{path:"/",label:"Notre Table",icon:d.jsx(Fj,{size:20}),mobileLabel:"Table"},{path:"/famille",label:"Ma Famille",icon:d.jsx(cs,{size:20}),mobileLabel:"Famille"},{path:"/mes-recettes",label:"Mes Recettes",icon:d.jsx(ss,{size:20}),mobileLabel:"Recettes"},{path:"/guide-cuisson",label:"Guide Cuisson",icon:d.jsx($n,{size:20}),mobileLabel:"Cuisson"},{path:"/profil",label:"Profil",icon:d.jsx(cu,{size:20}),mobileLabel:"Profil"},{path:"/aide",label:"Aide",icon:d.jsx(Ny,{size:20}),mobileLabel:"Aide"}],g=p=>e.pathname===p;return d.jsxs("div",{className:"min-h-screen bg-background text-foreground transition-colors duration-300",children:[!c&&d.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-card/80 backdrop-blur-xl",children:d.jsxs("div",{className:"mx-auto flex h-16 max-w-6xl items-center justify-between px-6",children:[d.jsxs(xl,{to:"/",className:"group flex items-center gap-3 transition-transform hover:scale-105",children:[d.jsx("img",{src:"/favicon.png",alt:"Gustalya",className:"h-10 w-10 rounded-full transition-transform group-hover:rotate-6"}),d.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Gustalya"})]}),d.jsx("div",{className:"flex items-center gap-0.5",children:f.map(p=>d.jsxs(xl,{to:p.path,className:xe("relative flex items-center gap-1.5 rounded-xl px-2.5 py-2 text-xs font-medium transition-all duration-300",g(p.path)?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[d.jsx("span",{className:xe("transition-transform duration-300",g(p.path)&&"scale-110"),children:p.icon}),d.jsx("span",{className:"hidden lg:inline",children:p.label}),g(p.path)&&d.jsx("span",{className:"absolute bottom-0 left-1/2 h-0.5 w-6 -translate-x-1/2 rounded-full bg-primary"})]},p.path))}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(_y,{}),n?d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-accent/50 px-3 py-2",children:[n.photoURL&&d.jsx("img",{src:n.photoURL,alt:"",className:"h-7 w-7 rounded-full ring-2 ring-primary/20"}),d.jsx("span",{className:"text-sm font-medium text-foreground max-w-[120px] truncate",children:n.displayName||n.email})]}),d.jsx("button",{onClick:a,"data-testid":"button-logout",className:"flex items-center gap-2 rounded-xl bg-destructive/10 p-2.5 text-destructive transition-all hover:bg-destructive/20 hover:scale-105",children:d.jsx(p0,{size:18})})]}):d.jsx("button",{onClick:i,disabled:o,"data-testid":"button-login",className:"flex items-center gap-2 rounded-2xl bg-primary px-5 py-2.5 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:scale-105 hover:shadow-xl hover:shadow-primary/30 disabled:opacity-50",children:o?"Connexion...":"Connexion Google"})]})]})}),c&&d.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-card/90 px-4 py-3 backdrop-blur-xl safe-top",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(xl,{to:"/",className:"flex items-center gap-2",children:[d.jsx("img",{src:"/favicon.png",alt:"Gustalya",className:"h-8 w-8 rounded-full"}),d.jsx("span",{className:"text-lg font-bold text-foreground",children:"Gustalya"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(_y,{}),n?d.jsx("button",{onClick:a,className:"rounded-xl bg-destructive/10 p-2.5 text-destructive",children:d.jsx(p0,{size:18})}):d.jsx("button",{onClick:i,disabled:o,className:"rounded-xl bg-primary px-4 py-2.5 text-sm font-medium text-primary-foreground",children:"Connexion"})]})]})}),d.jsx("main",{className:xe("mx-auto max-w-6xl",c?"px-4 py-6 pb-28":"px-8 py-8"),children:t}),c&&d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-card/95 backdrop-blur-xl safe-bottom",children:d.jsx("div",{className:"grid grid-cols-6 gap-0.5 px-1 py-2",children:f.map(p=>d.jsxs(xl,{to:p.path,className:xe("flex flex-col items-center justify-center gap-1 rounded-2xl py-2.5 transition-all duration-200",g(p.path)?"bg-primary/10 text-primary scale-105":"text-muted-foreground active:scale-95"),children:[d.jsx("span",{className:xe("transition-transform",g(p.path)&&"scale-110"),children:p.icon}),d.jsx("span",{className:"text-[10px] font-medium",children:p.mobileLabel})]},p.path))})})]})}function _z(){return d.jsx(xz,{children:d.jsxs(N3,{children:[d.jsx(ro,{path:"/",element:d.jsx(cz,{})}),d.jsx(ro,{path:"/famille",element:d.jsx(FU,{})}),d.jsx(ro,{path:"/mes-recettes",element:d.jsx(az,{})}),d.jsx(ro,{path:"/guide-cuisson",element:d.jsx(bz,{})}),d.jsx(ro,{path:"/profil",element:d.jsx(uz,{})}),d.jsx(ro,{path:"/aide",element:d.jsx(yz,{})})]})})}function wz(){return d.jsx(X3,{children:d.jsx(LU,{children:d.jsx(zU,{children:d.jsx(vz,{children:d.jsx(_z,{})})})})})}V5.createRoot(document.getElementById("root")).render(d.jsx(wz,{}));
